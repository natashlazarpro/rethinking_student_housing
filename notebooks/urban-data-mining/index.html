<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>2.2 Urban Data Mining - Rethinking Student Housing in Berlin</title><meta property="og:title" content="2.2 Urban Data Mining - Rethinking Student Housing in Berlin"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/rethinking_student_housing/build/_assets/app-OIHP3NGU.css"/><link rel="stylesheet" href="/rethinking_student_housing/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/rethinking_student_housing/favicon.ico"/><link rel="stylesheet" href="/rethinking_student_housing/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/rethinking_student_housing/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Rethinking Student Housing in Berlin" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/rethinking_student_housing/">Rethinking Student Housing in Berlin</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="0. Prelimitary Pages" class="block break-words rounded py-2 grow cursor-pointer">0. Prelimitary Pages</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="1. Introduction" class="block break-words rounded py-2 grow cursor-pointer">1. Introduction</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2. Capacities, Demand &amp; Spatial Distribution" class="block break-words rounded py-2 grow cursor-pointer">2. Capacities, Demand &amp; Spatial Distribution</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="3. Student Housing Market Imbalance" class="block break-words rounded py-2 grow cursor-pointer">3. Student Housing Market Imbalance</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="4. Students Behind the Numbers" class="block break-words rounded py-2 grow cursor-pointer">4. Students Behind the Numbers</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="5. Data-Driven Decisions" class="block break-words rounded py-2 grow cursor-pointer">5. Data-Driven Decisions</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1upsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1upsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="6. Appendix" class="block break-words rounded py-2 grow cursor-pointer">6. Appendix</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/natashlazarpro/rethinking_student_housing" title="GitHub Repository: natashlazarpro/rethinking_student_housing" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/2.2_urban_data_mining.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">2.2 Urban Data Mining</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block myst-fm-author-comma text-comma"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rb8ucp:" data-state="closed"><span class="myst-fm-author-name">Lazareva Nataliia</span></button></span><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block myst-fm-author-comma text-comma"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd8ucp:" data-state="closed"><span class="myst-fm-author-name">Urban Design M.Sc.</span></button></span><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rf8ucp:" data-state="closed"><span class="myst-fm-author-name">Technical University of Berlin</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="Oi5QcSJvUF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import warnings

warnings.filterwarnings(&quot;ignore&quot;)

import pandas as pd
import os
hf = r&#x27;../outputs/2.2_urban_data_mining/&#x27;
os.makedirs(hf, exist_ok=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lrKHDMcgra8tq6pAmXVhg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jjyIXiVuBZ" class="myst-jp-nb-block relative group/block"><h1 id="id-2-2-urban-data-mining" class="relative group"><span class="heading-text">2.2 Urban Data Mining</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-2-urban-data-mining" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="Jw9Z3UJFgD" class="myst-jp-nb-block relative group/block"><p>Urban Data Mining, or the process of collecting and preparing data for analysis, consisted of two stages, which can be divided into manual collection and automated data preparation. The purpose of the manual stage was to collect data and convert it into tabular form, while the automated process was aimed to convert the tabular data into geospatial data.</p></div><div id="wsnzbI2f1c" class="myst-jp-nb-block relative group/block"><h1 id="manual-data-collection" class="relative group"><span class="heading-text">Manual Data Collection</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#manual-data-collection" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>The main task of manual data collection is searching purpose-built student accommodation and higher education universities in Berlin and collecting capacity and demand data, respectively.</p></div><div id="QrgkyDTUj3" class="myst-jp-nb-block relative group/block"><h2 id="student-accommodation" class="relative group"><span class="heading-text">Student Accommodation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#student-accommodation" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The Studentenwerk (StW, 2025) website was used as the initial source of data for the purpose of building student accommodation. StW is a public, non-profit organisation that provides essential services to students in Germany, including affordable housing, operating student dormitories in collaboration with universities. The StW website provides not only detailed information about addresses, prices, accommodation types, and living space in student accommodation, but also references to other publicly funded companies that provide social housing for students, such as Howoge, Gewobag, Berlinvo, and others. Data on the capacity of public student dormitories was collected from the Study in Germany website, which is supported by the Federal Ministry of Education and Research (BMBF, 2025) and is part of the ‘Germany – Land of Ideas’ campaign.</p><p>The missing addresses of private companies were collected from online platforms of companies specialising in student housing and property rental in Berlin. While public companies publish data openly, private companies have less transparent policy, which limits the research process and complicates the manual data mining process.</p><p>A complete list of online sources used for manual data collection on student accommodation is presented in Table XX.</p></div><div id="eQFGdEFLjx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">sp = r&quot;../inputs/2.2_urban_data_mining/urban_data_mining_sourses.xlsx&quot;

sourses = pd.read_excel(sp)
sourses[[
    &quot;sourse&quot;,
    &quot;comment¹&quot;,
    &quot;link&quot;,
]].head(23)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_K3N9TjlJiRPuemAbyFtr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="vpUHNzOqT1" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Manual Data Collection Sources for Student Accommodation</em></p></div><div id="EXOeWoTEJW" class="myst-jp-nb-block relative group/block"><p>The address is a critical parameter for conducting spatial econometric analysis. However, many student accommodations have more than one building. For example, WH Spandauer Damm comprises five buildings located at Spandauer Damm 134–142 (Studierendenwerk Berlin, 2025). During manual data collection, one of the tasks was to collect unique addresses related to the student housing market in order to calculate centroids afterwards, during automated data preparetion.</p><p>For student housing, the data collected included the address (<code>street</code>, <code>house_nummer</code>, <code>plz</code>, <code>city</code>), the name of the building complex (<code>name</code>), the ownership company name (<code>ownership</code>), the ownership model (<code>ownership model</code>), number of residential units (<code>!units</code>), their capacity (<code>!students</code>) and type (<code>units type</code>), maximum and minimum price (<code>price_min</code>, <code>price_max</code>), maximum and minimum living space (<code>area_min</code>, <code>area_max</code>), link to the source (<code>link</code>).</p><p>As a result of manual data collection, data was collected on 94 proposed student accommodation buildings located at 171 unique addresses.</p></div><div id="dvVn72R3Ah" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fp = r&quot;../inputs/2.2_urban_data_mining/input_pbsa.xlsx&quot;

pbsa = pd.read_excel(fp, sheet_name=&#x27;SA&#x27;, dtype={&#x27;street&#x27;: str, &#x27;house_nummer&#x27;: str, &#x27;plz&#x27;: str})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="zDJxuftqdyKeMTLufo1QC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="osB9Q2bCRG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa.info()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="E3-M_cxKd-92YdaKZni8_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;
RangeIndex: 171 entries, 0 to 170
Data columns (total 16 columns):
 #   Column           Non-Null Count  Dtype  
---  ------           --------------  -----  
 0   name             171 non-null    object 
 1   street           171 non-null    object 
 2   house_nummer     171 non-null    object 
 3   plz              171 non-null    object 
 4   city             171 non-null    object 
 5   model            171 non-null    object 
 6   ownership        171 non-null    object 
 7   ownership_model  171 non-null    object 
 8   !units           93 non-null     float64
 9   !students        148 non-null    float64
 10  units type       168 non-null    object 
 11  price_min        148 non-null    float64
 12  price_max        96 non-null     float64
 13  area_min         154 non-null    float64
 14  area_max         144 non-null    float64
 15  link             168 non-null    object 
dtypes: float64(6), object(10)
memory usage: 21.5+ KB
</span></code></pre></div></div></div></div><div id="fzFbb2JzjA" class="myst-jp-nb-block relative group/block"><h2 id="higher-education-universities" class="relative group"><span class="heading-text">Higher Education Universities</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#higher-education-universities" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In order to indicate Berlin’s student demand, it was necessary to collect data on all of Berlin’s higher education institutions and the number of students enrolled in them. Although the initial plan was to limit the search to public educational institutions only. Nevertheless during the data collection process it became evident that the list and statistics for private universities were also publicly available.</p><p>The dataset provided by the Statistisches Bundesamt (DESTATIS, 2025) serves as the most comprehensive source, capturing detailed information on student enrollments, origin, and gender at public and private German higher education institutions. The data provided was so detailed that it included information about branches of Berlin universities in other regions of the country. For example, Media Design School Berlin also has a campus in Munich. These universities  were excluded from the statistics as they do not put pressure on the Berlin Student Housing Market.</p><p>After cleaning, the Higher Education Institution list from the Federal Statistical Office was double-checked with the official Berlin city directory of higher education institutions (Berlin City Portal, 2025) and the official registry maintained by the German Rectors’ Conference (Hochschul Kompass, 2025).</p><p>A complete list of online sources used for manual data collection on higher education institutions is provided in Table XX.</p></div><div id="LF0Po894Sx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">sourses[[
    &quot;sourse&quot;,
    &quot;comment¹&quot;,
    &quot;link&quot;,
]].iloc[23:] </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="N3L6o9sCJBfZBH1sfCvEy" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="SCOERzAvVo" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Manual Data Collection Sources for Higher Education Universities</em></p></div><div id="tTbsojZSgl" class="myst-jp-nb-block relative group/block"><p>After secondary verification of the list of educational institutions, the next task was to collect unique addresses, as large universities have more than one campus. For example, Charité - Universitätsmedizin Berlin has four campuses in Berlin, which are located at a total of 41 unique addresses. The manual search for addresses was carried out using two services: Open Street Map and Google Maps.</p><p>For Higher Education Universities, the data collected included the code according to the Federal Statistical Office, the abbreviation (<code>abr</code>), the name (<code>name</code>) and the full name (<code>fname</code>), the address (<code>adr</code>), the ownership model (<code>own</code>), type of educational institution (<code>stud</code>), number of German students (<code>!s_de</code>), number of foreign students (<code>!s_aus</code>) and total number of students (<code>!s_all</code>).</p><p>As a result of manual data collection, data was collected on 70 higher education institutions in Berlin, located at 357 unique addresses.</p></div><div id="cXW3gC8cR0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">op = r&quot;../inputs/2.2_urban_data_mining/input_uni.xlsx&quot;

uni = pd.read_excel(op, sheet_name=&#x27;Uni&#x27;, dtype={&#x27;adr&#x27;: str})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="2lZFrKlRGMQ3E9UqRs7eD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Tm1HJZjTye" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uni.info()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="0nrBnp7CrZW69c551Tb-t" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;
RangeIndex: 357 entries, 0 to 356
Data columns (total 11 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   code    357 non-null    object 
 1   abr     70 non-null     object 
 2   name    70 non-null     object 
 3   fname   70 non-null     object 
 4   adr     357 non-null    object 
 5   own     70 non-null     object 
 6   stud    71 non-null     object 
 7   !s_de   53 non-null     float64
 8   !s_aus  52 non-null     float64
 9   !s_all  54 non-null     float64
 10  url     42 non-null     object 
dtypes: float64(3), object(8)
memory usage: 30.8+ KB
</span></code></pre></div></div></div></div><div id="zJNJIzzPcz" class="myst-jp-nb-block relative group/block"><h1 id="automated-data-preparation" class="relative group"><span class="heading-text">Automated Data Preparation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#automated-data-preparation" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>During Manual Data Collection, one of the biggest challenges of data-driven research - finding and selecting data - was successfully overcome.<br/>The next challenge within Urban Data Mining is data cleaning, formatting, and standartalising. Data preparation using the Python programming language not only allows you to identify errors in manual input data, but also automates problem-solving during data import, cleaning, and export, as well as during geocoding.</p></div><div id="czWctMFFl0" class="myst-jp-nb-block relative group/block"><h2 id="set-up" class="relative group"><span class="heading-text">Set Up</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-up" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="rwra8clCPr" class="myst-jp-nb-block relative group/block"><p>Import Libraries</p></div><div id="hbkWKTqbTh" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import pandas as pd 
import numpy as np 
from tqdm import tqdm  
import geopandas as gpd 
from geopy.geocoders import Nominatim, Photon 
from geopy.extra.rate_limiter import RateLimiter 
import matplotlib.pyplot as plt 
from matplotlib.colors import LinearSegmentedColormap 
from shapely.geometry import MultiPoint 
from sklearn.cluster import DBSCAN 
import time  </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6abGsASFrwxDXm8aL-WlQ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="eycdWNetyG" class="myst-jp-nb-block relative group/block"><p>Scripts</p></div><div id="aTCQawe3kJ" class="myst-jp-nb-block relative group/block"><p>In order to access spatial analysis and spatial economics methods and Tools, it is necessary to convert addresses to geographical coordinates, which consist of longitude and latitude. Geocoding converts addresses into geographical coordinates to be placed on a map.</p><p>Two services, Nominatim and Photon, were used for geocoding. Despite the use of several services, about 10% of addresses were not recognised or were misinterpreted, indicating errors in the manually collected data.</p><p>To improve the accuracy of the coordinate search, the names of the city (Berlin) and country (Germany) were added to each address, which made it possible to uniquely identify objects in the German capital. In addition, to account for the particularities of the German language and possible spelling errors, an alternative spelling mechanism was implemented: special characters such as ‘ß’ were automatically replaced with ‘ss’, which increased the likelihood of successfully matching the address with the geographic database.</p><p>Since the addresses for student accommodation and higher education universities were collected in different formats, two different scripts were also used for geocoding, which differed from each other in their query (<code>df[“query”]</code>). At the same time, it would be advisable to avoid writing two scripts by collecting data on student accommodation and higher education universities in a single format (for example, <code>df[&#x27;query&#x27;] = df[&#x27;street&#x27;] + &#x27; &#x27; + df[&#x27;house_nummer&#x27;] + &#x27;, &#x27; + df[&#x27;plz&#x27;] + &#x27;, &#x27; + df[&#x27;city&#x27;] + &#x27;, Germany&#x27;</code>).</p></div><div id="v7ac0MKk6U" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def geocode_pbsa(df):
    # Initialize geocoders
    nom = RateLimiter(Nominatim(user_agent=&quot;berlin_housing&quot;, timeout=10).geocode, 
                     min_delay_seconds=1)
    photon = RateLimiter(Photon(user_agent=&quot;berlin_housing&quot;, timeout=10).geocode,
                        min_delay_seconds=0.5)
    
    # Create address strings
    #df[&#x27;query&#x27;] = df[&#x27;adr&#x27;] + &#x27;, Germany&#x27;   
    df[&#x27;query&#x27;] = df[&#x27;street&#x27;] + &#x27; &#x27; + df[&#x27;house_nummer&#x27;] + &#x27;, &#x27; + df[&#x27;plz&#x27;] + &#x27;, &#x27; + df[&#x27;city&#x27;] + &#x27;, Germany&#x27;                 
    df[&#x27;query_alt&#x27;] = df[&#x27;query&#x27;].str.replace(&#x27;ß&#x27;, &#x27;ss&#x27;)  # Alternative spelling
    
    # Geocoding function with retries
    def geocode(address, geocoder, retries=2):
        for _ in range(retries):
            try:
                loc = geocoder(address)
                return (loc.latitude, loc.longitude) if loc else (None, None)
            except:
                time.sleep(1)
        return (None, None)
    
    # Primary geocoding (Nominatim)
    tqdm.pandas(desc=&quot;Primary geocoding&quot;, disable=True)
    df[[&#x27;lat&#x27;, &#x27;lon&#x27;]] = df[&#x27;query&#x27;].progress_apply(
        lambda x: pd.Series(geocode(x, nom))
    )
    
    # Fallback (Photon for failed addresses)
    missing = df[df[&#x27;lat&#x27;].isna()]
    if not missing.empty:
        tqdm.pandas(desc=&quot;Fallback geocoding&quot;, disable=True)
        missing[[&#x27;lat&#x27;, &#x27;lon&#x27;]] = missing[&#x27;query_alt&#x27;].progress_apply(
            lambda x: pd.Series(geocode(x, photon)))
        df.update(missing)
    
    # Convert to GeoDataFrame (Berlin CRS)
    return gpd.GeoDataFrame(
        df.drop([&#x27;query&#x27;, &#x27;query_alt&#x27;], axis=1, errors=&#x27;ignore&#x27;),
        geometry=gpd.points_from_xy(df[&#x27;lon&#x27;], df[&#x27;lat&#x27;]),
        crs=&quot;EPSG:4326&quot;
    ).to_crs(&quot;EPSG:25833&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="b6ZKhUCeZ7yzH4w7lq7Nz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="aWk7R6zGzE" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def geocode_uni(df):
    # Initialize geocoders
    nom = RateLimiter(Nominatim(user_agent=&quot;berlin_housing&quot;, timeout=10).geocode, 
                     min_delay_seconds=1)
    photon = RateLimiter(Photon(user_agent=&quot;berlin_housing&quot;, timeout=10).geocode,
                        min_delay_seconds=0.5)
    
    # Create address strings
    df[&#x27;query&#x27;] = df[&#x27;adr&#x27;] + &#x27;, Germany&#x27;   
    df[&#x27;query_alt&#x27;] = df[&#x27;query&#x27;].str.replace(&#x27;ß&#x27;, &#x27;ss&#x27;)  # Alternative spelling
    
    # Geocoding function with retries
    def geocode(address, geocoder, retries=2):
        for _ in range(retries):
            try:
                loc = geocoder(address)
                return (loc.latitude, loc.longitude) if loc else (None, None)
            except:
                time.sleep(1)
        return (None, None)
    
    # Primary geocoding (Nominatim)
    tqdm.pandas(desc=&quot;Primary geocoding&quot;, disable=True)
    df[[&#x27;lat&#x27;, &#x27;lon&#x27;]] = df[&#x27;query&#x27;].progress_apply(
        lambda x: pd.Series(geocode(x, nom))
    )
    
    # Fallback (Photon for failed addresses)
    missing = df[df[&#x27;lat&#x27;].isna()]
    if not missing.empty:
        tqdm.pandas(desc=&quot;Fallback geocoding&quot;, disable=True)
        missing[[&#x27;lat&#x27;, &#x27;lon&#x27;]] = missing[&#x27;query_alt&#x27;].progress_apply(
            lambda x: pd.Series(geocode(x, photon)))
        df.update(missing)
    
    # Convert to GeoDataFrame (Berlin CRS)
    return gpd.GeoDataFrame(
        df.drop([&#x27;query&#x27;, &#x27;query_alt&#x27;], axis=1, errors=&#x27;ignore&#x27;),
        geometry=gpd.points_from_xy(df[&#x27;lon&#x27;], df[&#x27;lat&#x27;]),
        crs=&quot;EPSG:4326&quot;
    ).to_crs(&quot;EPSG:25833&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="twG8TKWt95CZZRen_euzW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gShwP1YgvW" class="myst-jp-nb-block relative group/block hidden"><p>Colors</p></div><div id="n7941YVXah" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">color_palettes = {
    &quot;Pi&quot;: [&quot;#F8EDEB&quot;, &quot;#FAE1DD&quot;, &quot;#FCD5CE&quot;, &quot;#FEC5BB&quot;, &quot;#F8AD9D&quot;, &quot;#F4978E&quot;, &quot;#F08080&quot;],
    &quot;Or&quot;: [&quot;#FFE5D9&quot;, &quot;#FFD7BA&quot;, &quot;#FEC89A&quot;, &quot;#FFB78F&quot;, &quot;#F49F7D&quot;, &quot;#F28B6D&quot;],
    &quot;GrSc&quot;:  [&quot;#434343&quot;, &quot;#666666&quot;, &quot;#999999&quot;, &quot;#b7b7b7&quot;, &quot;#cccccc&quot;, &quot;#d9d9d9&quot;, &quot;#efefef&quot;, &quot;#f3f3f3&quot;, &quot;#ffffff&quot;]
}

cmap_pi = LinearSegmentedColormap.from_list(&quot;Pi&quot;, color_palettes[&quot;Pi&quot;])
cmap_or = LinearSegmentedColormap.from_list(&quot;Or&quot;, color_palettes[&quot;Or&quot;])
cmap_grsc = LinearSegmentedColormap.from_list(&quot;GrSc&quot;, color_palettes[&quot;GrSc&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="dElROgDo6xtj18H2WGVIo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XAokkaIwgf" class="myst-jp-nb-block relative group/block hidden"><p>Font</p></div><div id="a6pfwYt9Qw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.rcParams[&quot;font.family&quot;] = &quot;Helvetica&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ItmKcwex1VY_WxCpPCs1k" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Xz32dnbHar" class="myst-jp-nb-block relative group/block"><p>Berlin Spatial Boundaries</p></div><div id="pyECjHsGGY" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pf = r&quot;../inputs/2.2_urban_data_mining/lor_pgr.gpkg&quot;
pgr = gpd.read_file(pf)
pgr.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)

bf = r&quot;../inputs/2.2_urban_data_mining/adm_bz.gpkg&quot;
bz = gpd.read_file(bf)
bz.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)

of = r&quot;../inputs/2.2_urban_data_mining/adm_out.gpkg&quot;
out = gpd.read_file(of)
out.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="4p4o3p-tYYEebcP12-Dd0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="t8Wb8a3sHI" class="myst-jp-nb-block relative group/block"><h2 id="data-import" class="relative group"><span class="heading-text">Data Import</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-import" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="zELeCFSHYK" class="myst-jp-nb-block relative group/block"><p>The data obtained as a result of manual data collection served as input data for the automated stage.</p></div><div id="tUi9IXUMcl" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fp = r&quot;../inputs/2.2_urban_data_mining/input_pbsa.xlsx&quot;

pbsa = pd.read_excel(fp, sheet_name=&#x27;SA&#x27;, dtype={&#x27;street&#x27;: str, &#x27;house_nummer&#x27;: str, &#x27;plz&#x27;: str})

op = r&quot;../inputs/2.2_urban_data_mining/input_uni.xlsx&quot;

uni = pd.read_excel(op, sheet_name=&#x27;Uni&#x27;, dtype={&#x27;adr&#x27;: str})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="8fHUjkPtwJNAXPDa1Rtp4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ANFIfjEi2J" class="myst-jp-nb-block relative group/block"><h2 id="geocoding" class="relative group"><span class="heading-text">Geocoding</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#geocoding" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="vpcFH5brTu" class="myst-jp-nb-block relative group/block"><p>As part of the automated data preparation stage, the addresses of student accommodation and higher education institutions were geocoded to obtain accurate geographical coordinates for each unique address. The data was then converted into a geospatial format (GeoDataFrame) and reprojected into the official Berlin coordinate system (EPSG:25833).</p></div><div id="bPFdIthnX4" class="myst-jp-nb-block relative group/block"><p><strong>Student Accommodation</strong></p></div><div id="tlG2sHuvBn" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa = geocode_pbsa(pbsa)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZC0--85UqOwE8rsgFO7yL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left hidden"></div></div><div id="OdvNHQHQdA" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa.info()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="eu3Jx-FfWC6TmC0E9C2xd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>&lt;class &#x27;geopandas.geodataframe.GeoDataFrame&#x27;&gt;
RangeIndex: 171 entries, 0 to 170
Data columns (total 19 columns):
 #   Column           Non-Null Count  Dtype   
---  ------           --------------  -----   
 0   name             171 non-null    object  
 1   street           171 non-null    object  
 2   house_nummer     171 non-null    object  
 3   plz              171 non-null    object  
 4   city             171 non-null    object  
 5   model            171 non-null    object  
 6   ownership        171 non-null    object  
 7   ownership_model  171 non-null    object  
 8   !units           93 non-null     float64 
 9   !students        148 non-null    float64 
 10  units type       168 non-null    object  
 11  price_min        148 non-null    float64 
 12  price_max        96 non-null     float64 
 13  area_min         154 non-null    float64 
 14  area_max         144 non-null    float64 
 15  link             168 non-null    object  
 16  lat              171 non-null    float64 
 17  lon              171 non-null    float64 
 18  geometry         171 non-null    geometry
dtypes: float64(8), geometry(1), object(10)
memory usage: 25.5+ KB
</span></code></pre></div></div></div></div><div id="fbi01mVJRY" class="myst-jp-nb-block relative group/block"><p><strong>Higher Education Universities</strong></p></div><div id="FnMFsGVVkO" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uni = geocode_uni(uni)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WOxulsNzz31FXc9IQVK8U" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left hidden"></div></div><div id="DdGgajRELf" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uni_copy = uni.copy()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="8AtitNqskXJWydZ31ZNWJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XsGFYDtseF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uni.info()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="z0T-oDS7gDgCp3u2Vx8Ol" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>&lt;class &#x27;geopandas.geodataframe.GeoDataFrame&#x27;&gt;
RangeIndex: 357 entries, 0 to 356
Data columns (total 14 columns):
 #   Column    Non-Null Count  Dtype   
---  ------    --------------  -----   
 0   code      357 non-null    object  
 1   abr       70 non-null     object  
 2   name      70 non-null     object  
 3   fname     70 non-null     object  
 4   adr       357 non-null    object  
 5   own       70 non-null     object  
 6   stud      71 non-null     object  
 7   !s_de     53 non-null     float64 
 8   !s_aus    52 non-null     float64 
 9   !s_all    54 non-null     float64 
 10  url       42 non-null     object  
 11  lat       357 non-null    float64 
 12  lon       357 non-null    float64 
 13  geometry  357 non-null    geometry
dtypes: float64(5), geometry(1), object(8)
memory usage: 39.2+ KB
</span></code></pre></div></div></div></div><div id="yWSQcDWFK4" class="myst-jp-nb-block relative group/block"><p>This results in a shift from tabular data to geospatial data with a new attribute <code>geometry</code>.</p></div><div id="impM8z06rR" class="myst-jp-nb-block relative group/block"><h2 id="data-cleaning" class="relative group"><span class="heading-text">Data Cleaning</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-cleaning" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="YxNeuP7Qdt" class="myst-jp-nb-block relative group/block"><p><strong>Student Accommodation</strong></p></div><div id="m24RPMSe6j" class="myst-jp-nb-block relative group/block"><p>Student Housing capacity is calculated as a single capacity indicator (<code>!cap</code>) according to the following rule: if the number of students living in student accommodation (<code>students</code>) is known, it is taken; if not, the number of housing units (<code>units</code>) is taken, while purposed build student accommodation, where both values are unknown, is excluded.</p></div><div id="tZvVAAPBlm" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa[&#x27;!cap&#x27;] = pbsa[&#x27;!students&#x27;].where(
    pbsa[&#x27;!students&#x27;].notnull(),
    pbsa[&#x27;!units&#x27;]
)

pbsa = pbsa.dropna(subset=[&#x27;!cap&#x27;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="AejHvpj2bKugR8Vw6rBNq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zQHLVMs26N" class="myst-jp-nb-block relative group/block"><p>After that, there is a transition from unique addresses to centroids or geographical centers (Figure XX), for which grouping by name is performed (<code>pbsa.groupby(“name”)</code>). Thus, student dormitories with more than one building are assigned a single point, and the capacity of all buildings is summed (<code>!cap&#x27;: “sum”</code>).</p></div><div id="ZZEeLIPsRK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa_c = (
    pbsa.groupby(&#x27;name&#x27;)
    .agg({
        &#x27;geometry&#x27;: lambda x: MultiPoint([pt for pt in x]).centroid,
        &#x27;plz&#x27;: &#x27;first&#x27;,
        &#x27;city&#x27;: &#x27;first&#x27;,
        &#x27;model&#x27;: &#x27;first&#x27;,
        &#x27;ownership&#x27;: &#x27;first&#x27;,
        &#x27;ownership_model&#x27;: &#x27;first&#x27;,
        &#x27;!cap&#x27;: &#x27;sum&#x27;,
        &#x27;units type&#x27;: &#x27;first&#x27;,
        &#x27;price_min&#x27;: &#x27;first&#x27;,
        &#x27;price_max&#x27;: &#x27;first&#x27;,
        &#x27;area_min&#x27;: &#x27;first&#x27;,
        &#x27;area_max&#x27;: &#x27;first&#x27;,
        &#x27;link&#x27;: &#x27;first&#x27;
    })
    .reset_index()
)

pbsa_c = gpd.GeoDataFrame(pbsa_c, geometry=&#x27;geometry&#x27;, crs=pbsa.crs)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hfPT7NGMJEM32w9rJv-Uz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OV2KCFyMSt" class="myst-jp-nb-block relative group/block"><p>This results in a transition from 168 points to 88 centroids, which simplifies and speeds up further use of data in the data analysis.</p></div><div id="wXwoowwK6Y" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(1, 2, figsize=(36, 12))

pgr.plot(ax=axs[0], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs[0], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs[0], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)
pbsa.plot(ax=axs[0],
          column=&#x27;!cap&#x27;,
          cmap=cmap_or,
          markersize = 35,  # Scale marker size
          alpha=0.9,
          edgecolor=&#x27;white&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;shrink&#x27;: 0.6, &#x27;label&#x27;: &quot;capacity&quot;},
          vmin=0,
          vmax=pbsa_c[&#x27;!cap&#x27;].quantile(0.95))  # Cap extremes
axs[0].set_title(f&#x27;a. Student Accommodation\n({len(pbsa)} points)&#x27;, fontsize=28, pad=15, fontweight=&#x27;bold&#x27;)
axs[0].set_axis_off()
plt.tight_layout()

pgr.plot(ax=axs[1], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs[1], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs[1], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)
pbsa_c.plot(ax=axs[1],
          column=&#x27;!cap&#x27;,
          cmap=cmap_or,
          markersize = 35,
          alpha=0.9,
          edgecolor=&#x27;white&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;shrink&#x27;: 0.6, &#x27;label&#x27;: &quot;capacity&quot;},
          vmin=0,
          vmax=pbsa_c[&#x27;!cap&#x27;].quantile(0.95)) # Matching Previous plott
axs[1].set_title(f&quot;b. Student Accommodation Centroids\n({len(pbsa_c)} points)&quot;, fontsize=28, pad=15, fontweight=&#x27;bold&#x27;)
axs[1].set_axis_off()

save_path = os.path.join(hf, &quot;Student Accommodation.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.tight_layout()
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="QhO5qZh9QTPSivCcyah8i" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/0ed34ab1d63d93fa135303bc37401bbd.png" alt="&lt;Figure size 3600x1200 with 4 Axes&gt;"/></div></div></div><div id="ywkC4cvTjs" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Visual Comparison Initial Unique Student Accommodation Addresses with Final Centroids</em></p></div><div id="jSy6EG8SKa" class="myst-jp-nb-block relative group/block"><p>It should be noted that unique addresses were collected specifically for the correct calculation of centroids. Meanwhile, for student communities, the calculation of centroids is relatively simple due to the unique names for each community and the proximity of its buildings. For universities, however, the task is not so straightforward, as grouping by name will not give the desired result, since a university with the same name may be located in different parts of the city, for example, Humboldt-Universität, which has three campuses: Campus Mitte, Campus Adlershof, and Campus Nord.</p></div><div id="Nythw9uc8A" class="myst-jp-nb-block relative group/block"><p><strong>Higher Education Universities</strong></p></div><div id="jSgqhtjHma" class="myst-jp-nb-block relative group/block"><p>Higher Education Universities’ demand for each educational institution is calculated as the number of international students enrolled in it. Universities for which there is no data on students are excluded.</p></div><div id="imcVIfbhFq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uni = uni.dropna(subset=[&#x27;!s_all&#x27;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ojoNpMgKM7jHsUn_8OOfy" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="K5EWBkFqZw" class="myst-jp-nb-block relative group/block"><p>Afterwards, there is a transition from unique addresses to centroids (Figure XX). For this purpose, grouping by code (<code>uni[“code”]</code>) is performed, while demand indicators: the number of German students (<code>!s_de</code>), the number of foreign students (<code>!s_aus</code>) and the total number of students (<code>!s_all</code>) are distributed evenly among unique addresses — buildings — with a single unique code (<code>for code in uni[“code”].unique()</code>). This allows us to obtain an ‘average’ representation of the demand indicators for each individual building, while these data for different buildings are initially combined.</p></div><div id="INcqyfMzdl" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">copy_cols = [&#x27;abr&#x27;, &#x27;name&#x27;, &#x27;fname&#x27;, &#x27;own&#x27;, &#x27;stud&#x27;, &#x27;url&#x27;]
split_cols = [&#x27;!s_de&#x27;, &#x27;!s_aus&#x27;, &#x27;!s_all&#x27;]

# Loop over unique codes
for code in uni[&#x27;code&#x27;].unique():
    mask = uni[&#x27;code&#x27;] == code
    group = uni[mask]
    
    # Copy values from first row in group
    for col in copy_cols:
        uni.loc[mask, col] = group.iloc[0][col]
    
    # Distribute numeric values
    for col in split_cols:
        if pd.notnull(group.iloc[0][col]):
            uni.loc[mask, col] = round(group.iloc[0][col] / len(group), 2)
        else:
            uni.loc[mask, col] = pd.NA</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="24GHpm23_Xx5bIhKhi-aH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bSRkTqFond" class="myst-jp-nb-block relative group/block"><p>To further transition from unique addresses to a single address for a complex of university buildings, the data were grouped based on a distance threshold. The threshold parameter was responsible for separating unique addresses belonging to the same university campus based on the spatial factor. The threshold value was obtained through multiple manual tests. At the same time, the demand values for each unique address were summed up.</p></div><div id="gPijZr72zK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">distance_threshold = 650  # in meters
records = []

for code, group in uni.groupby(&quot;code&quot;):
    coords = np.array([(geom.x, geom.y) for geom in group.geometry])
    if len(coords) == 0:
        continue
    # Cluster points that are close to each other
    clustering = DBSCAN(eps=distance_threshold, min_samples=1).fit(coords)
    group = group.copy()
    group[&#x27;cluster&#x27;] = clustering.labels_
    for cluster_id, cluster_points in group.groupby(&#x27;cluster&#x27;):
        mp = MultiPoint(cluster_points.geometry.tolist())
        # Prepare a record with all columns
        record = cluster_points.iloc[0].to_dict()
        record[&#x27;geometry&#x27;] = mp.centroid
        # Sum the specified columns
        for col in [&#x27;!s_de&#x27;, &#x27;!s_aus&#x27;, &#x27;!s_all&#x27;]:
            record[col] = cluster_points[col].sum()
        record[&#x27;cluster&#x27;] = f&quot;{code}_{cluster_id+1}&quot;
        records.append(record)

# Create the GeoDataFrame
uni_c = gpd.GeoDataFrame(records, geometry=&#x27;geometry&#x27;, crs=uni.crs)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lw1i2XtRe4ooTnDeEnsad" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="WWeYRJVSmL" class="myst-jp-nb-block relative group/block"><p>Thus, unique addresses for individual buildings were grouped not only by code but also by university campus affiliation. Next, geometric centers (centroids) were calculated for each group. This resulted in a transition from 357 points to 54 centroids.</p></div><div id="YfnqVHiUuf" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(1, 2, figsize=(32, 12))

pgr.plot(ax=axs[0], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs[0], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs[0], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)
uni.plot(ax=axs[0],
          column=&#x27;!s_all&#x27;,
          cmap=cmap_pi,
          markersize = 35,  # Scale marker size
          alpha=0.9,
          edgecolor=&#x27;white&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;shrink&#x27;: 0.6, &#x27;label&#x27;: &quot;demand&quot;},
          vmin=0,
          vmax=uni_c[&#x27;!s_all&#x27;].quantile(0.85))  # Cap extremes
axs[0].set_title(f&#x27;a. Higher Education Universities\n({len(uni_copy)} points)&#x27;, fontsize=28, pad=15, fontweight=&#x27;bold&#x27;)
axs[0].set_axis_off()
plt.tight_layout()

pgr.plot(ax=axs[1], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs[1], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs[1], facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)
uni_c.plot(ax=axs[1],
          column=&#x27;!s_all&#x27;,
          cmap=cmap_pi,
          markersize = 35,
          alpha=0.9,
          edgecolor=&#x27;white&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;shrink&#x27;: 0.6, &#x27;label&#x27;: &quot;demand&quot;},
          vmin=0,
          vmax=uni_c[&#x27;!s_all&#x27;].quantile(0.85)) # Matching Previous plott
axs[1].set_title(f&quot;b. Higher Education Universities Centroids\n({len(uni_c)} points)&quot;, fontsize=28, pad=15, fontweight=&#x27;bold&#x27;)
axs[1].set_axis_off()

save_path = os.path.join(hf, &quot;Higher Education Universities.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.tight_layout()
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="4K5QD5QArd2lU3rG9UFIa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/67b8908e33a617a4db50461fa7152c88.png" alt="&lt;Figure size 3200x1200 with 4 Axes&gt;"/></div></div></div><div id="PPJrVBrSRe" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Visual Comparison Initial Unique Higher Education Universities Addresses with Final Centroids</em></p></div><div id="UbxnmkaYXJ" class="myst-jp-nb-block relative group/block"><p>The verification method was a manual visual comparison of the final centroids with the original unique addresses in QGIS using the Measure Tool.</p></div><div id="sv6ihCVirk" class="myst-jp-nb-block relative group/block"><h2 id="data-export" class="relative group"><span class="heading-text">Data Export</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-export" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="z2GscTxWJ3" class="myst-jp-nb-block relative group/block"><p>The processed data for analysing the capacity and demand for student housing is stored in geographic packages (<code>.gpkg</code>) — an open format for storing geospatial data, which differs from the tabular format (<code>.exel</code>) in that it contains coordinates.</p></div><div id="QNogy08N7Y" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ef = r&quot;../outputs/2.2_urban_data_mining/pbsa.gpkg&quot;
pbsa.to_file(ef, driver=&quot;GPKG&quot;)

ef = r&quot;../outputs/2.2_urban_data_mining/pbsa_c.gpkg&quot;
pbsa_c.to_file(ef, driver=&quot;GPKG&quot;)

ef = r&quot;../outputs/2.2_urban_data_mining/uni.gpkg&quot;
uni_copy.to_file(ef, driver=&quot;GPKG&quot;)

cf = r&quot;../outputs/2.2_urban_data_mining/uni_c.gpkg&quot;
uni_c.to_file(cf, driver=&quot;GPKG&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="-bJrsxC3-3rhWRhUwBJPN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/rethinking_student_housing/notebooks/overview"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">2. Capacities, Demand &amp; Spatial Distribution</div>2.1 Overview</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/rethinking_student_housing/notebooks/descriptive-market-statistics"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">2. Capacities, Demand &amp; Spatial Distribution</div>2.3 Descriptive Market Statistics</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/rethinking_student_housing/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-7UUHRSK3.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/root-EDJFWIEV.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-ECLX7DIY.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/routes/$-AD65NCUT.js"/><script>window.__remixContext = {"url":"/notebooks/urban-data-mining","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/rethinking_student_housing"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"d8b84ccc8b38dc9b187cfb71dfb9df7641faf88e8d8f284877c50e0caeafe05b","slug":"notebooks.urban-data-mining","location":"/notebooks/2.2_urban_data_mining.ipynb","dependencies":[],"frontmatter":{"title":"2.2 Urban Data Mining","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"geodatascience2.0","language":"python"},"authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","numbering":{"title":{"offset":1}},"source_url":"https://github.com/natashlazarpro/rethinking_student_housing/blob/main/student-housing-book/notebooks/2.2_urban_data_mining.ipynb","edit_url":"https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/2.2_urban_data_mining.ipynb","exports":[{"format":"ipynb","filename":"2.2_urban_data_mining.ipynb","url":"/rethinking_student_housing/build/2.2_urban_data_minin-8627e6bc6a1b280b3604ea201372b393.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import warnings\n\nwarnings.filterwarnings(\"ignore\")\n\nimport pandas as pd\nimport os\nhf = r'../outputs/2.2_urban_data_mining/'\nos.makedirs(hf, exist_ok=True)","visibility":"remove","key":"d1vsIIsbBk"},{"type":"outputs","id":"lrKHDMcgra8tq6pAmXVhg","children":[],"visibility":"show","key":"zAcP8j0i3G"}],"visibility":"show","key":"Oi5QcSJvUF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.2 Urban Data Mining","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f9uqHkqfZl"}],"identifier":"id-2-2-urban-data-mining","label":"2.2 Urban Data Mining","html_id":"id-2-2-urban-data-mining","implicit":true,"key":"cBOYzSpoeK"}],"key":"jjyIXiVuBZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Urban Data Mining, or the process of collecting and preparing data for analysis, consisted of two stages, which can be divided into manual collection and automated data preparation. The purpose of the manual stage was to collect data and convert it into tabular form, while the automated process was aimed to convert the tabular data into geospatial data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bI3k3qz8fZ"}],"key":"VMwwJQovQS"}],"key":"Jw9Z3UJFgD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Manual Data Collection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GGyWbQCzG3"}],"identifier":"manual-data-collection","label":"Manual Data Collection","html_id":"manual-data-collection","implicit":true,"key":"SntLSBbpGN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The main task of manual data collection is searching purpose-built student accommodation and higher education universities in Berlin and collecting capacity and demand data, respectively.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y3FkHnjTek"}],"key":"w5soWNwJ4v"}],"key":"wsnzbI2f1c"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Student Accommodation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zWeou17wwN"}],"identifier":"student-accommodation","label":"Student Accommodation","html_id":"student-accommodation","implicit":true,"key":"Ww7rdWsZz0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Studentenwerk (StW, 2025) website was used as the initial source of data for the purpose of building student accommodation. StW is a public, non-profit organisation that provides essential services to students in Germany, including affordable housing, operating student dormitories in collaboration with universities. The StW website provides not only detailed information about addresses, prices, accommodation types, and living space in student accommodation, but also references to other publicly funded companies that provide social housing for students, such as Howoge, Gewobag, Berlinvo, and others. Data on the capacity of public student dormitories was collected from the Study in Germany website, which is supported by the Federal Ministry of Education and Research (BMBF, 2025) and is part of the ‘Germany – Land of Ideas’ campaign.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oNCor658Fw"}],"key":"pGSn0smWbZ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The missing addresses of private companies were collected from online platforms of companies specialising in student housing and property rental in Berlin. While public companies publish data openly, private companies have less transparent policy, which limits the research process and complicates the manual data mining process.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"khlmto8Lva"}],"key":"PwR8lJzZdP"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"A complete list of online sources used for manual data collection on student accommodation is presented in Table XX.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"h9JZm0dvv0"}],"key":"CC2EAopIj6"}],"key":"QrgkyDTUj3"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sp = r\"../inputs/2.2_urban_data_mining/urban_data_mining_sourses.xlsx\"\n\nsourses = pd.read_excel(sp)\nsourses[[\n    \"sourse\",\n    \"comment¹\",\n    \"link\",\n]].head(23)","visibility":"remove","key":"OPywHnZ2pZ"},{"type":"outputs","id":"_K3N9TjlJiRPuemAbyFtr","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"sourse\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"comment¹\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"link\",\"rawType\":\"object\",\"type\":\"string\"}],\"ref\":\"3a87a023-4dcd-4af8-b3f8-26342b404736\",\"rows\":[[\"0\",\"Study in Germany \",\"An official informational platform aimed at international students who wish to study in Germany. It offers practical guidance on finding accommodation, budgeting for student life, and navigating housing markets. The initiative is supported by the Federal Ministry of Education and Research (BMBF) and is part of the \\\"Germany – Land of Ideas\\\" campaign, reflecting its credibility and public mission to promote higher education in Germany.\",\"https://www.study-in-germany.com/de/\"],[\"1\",\"HOWOGE Wohnungsbaugesellschaft mbH\",\"Municipal housing company with dedicated student apartment projects; includes location, amenities, and price.\",\"https://www.howoge.de/immobiliensuche/neubauprojekte\"],[\"2\",\"GESOBAU AG\",\"Public housing provider offering projects like GESOcampus. Info on construction, rent, and layout.\",\"https://www.gesobau.de/wohnungsbau/neubauprojekte\"],[\"3\",\"GEWOBAG\",\"New-build and modernized housing projects, some suitable for students.\",\"https://www.gewobag.de/\"],[\"4\",\"WBM\",\"Municipal housing firm offering apartments in central districts including student-suitable options.\",\"https://www.wbm.de/neubau-berlin/\"],[\"5\",\"Berlinovo\",\"Offers student apartments across Berlin. Filters for availability, price, and furnishing.\",\"https://www.berlinovo.de/de/apartments\"],[\"6\",\"BGG Berlin\",\"Private housing group with student-suitable apartment complexes in East Berlin.\",\"https://www.bgg-berlin.com/de\"],[\"7\",\"STW Berlin\",\"Official student dorm provider in Berlin; listings of all residences with application process, pricing, amenities.\",\"https://www.stw.berlin/en/\"],[\"8\",\"Studentendorf Berlin\",\"Community-oriented residences in Adlershof and Schlachtensee; shared flats and studios.\",\"https://www.studentendorf.berlin/\"],[\"9\",\"The FIZZ\",\"International student housing brand; premium housing with social and study spaces.\",\"https://www.the-fizz.com/en/\"],[\"10\",\"Neon Wood\",\"Private student housing provider; fully furnished, all-inclusive co-living apartments.\",\"https://neonwood.com/de/\"],[\"11\",\"Home in Berlin\",\"Central Berlin housing platform targeting students and internationals; multiple locations.\",\"https://home-in-berlin.de/\"],[\"12\",\"Insider Apartments\",\"Furnished rental apartments for students and professionals.\",\"https://insiderapartments.com/projects\"],[\"13\",\"Studentenhotel Hubertusallee\",\"Hotel-style short- and long-term housing option for students.\",\"https://studentenhotel-hubertusallee.hotel-in-berlin.org/de/#main\"],[\"14\",\"Studentenwohnheim\",\"External platform listing some Berlin student housing; basic contact info.\",\"http://www.studentenwohnheim.ch/berlin/\"],[\"15\",\"Felixx Student\",\"Premium student housing in Berlin-Charlottenburg.\",\"https://www.felixx-student.de/\"],[\"16\",\"Smartments Student\",\"Fully furnished student housing units in central Berlin.\",\"https://smartments-student.com/de/\"],[\"17\",\"MyGermanUniversity\",\"Informational site for international students in Germany. Includes guides and number of plases in publuic-dorms\",\"https://www.mygermanuniversity.com/\"],[\"18\",\"UniAcco\",\"Global student housing aggregator with listings in Berlin.\",\"https://uniacco.com/\"],[\"19\",\"The Social Hub\",\"Co-living and student-centered community with shared spaces, events, and workspace access.\",\"https://www.thesocialhub.co/\"],[\"20\",\"GLS Campus Berlin\",\"Language school campus with on-site student housing in Berlin Prenzlauer Berg.\",\"https://www.gls-campus-berlin.com/\"],[\"21\",\"Campo Novo Berlin\",\"Berlin location offers furnished apartments and amenities geared toward students.\",\"https://campo-novo-berlin.de/\"],[\"22\",\"STUK Berlin\",\"Student co-living platform with locations and shared housing for Berlin-based students.\",\"https://www.stuk.berlin/\"]],\"shape\":{\"columns\":3,\"rows\":23}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003esourse\u003c/th\u003e\n      \u003cth\u003ecomment¹\u003c/th\u003e\n      \u003cth\u003elink\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eStudy in Germany\u003c/td\u003e\n      \u003ctd\u003eAn official informational platform aimed at in...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.study-in-germany.com/de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eHOWOGE Wohnungsbaugesellschaft mbH\u003c/td\u003e\n      \u003ctd\u003eMunicipal housing company with dedicated stude...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.howoge.de/immobiliensuche/neubaupr...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eGESOBAU AG\u003c/td\u003e\n      \u003ctd\u003ePublic housing provider offering projects like...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.gesobau.de/wohnungsbau/neubauprojekte\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003eGEWOBAG\u003c/td\u003e\n      \u003ctd\u003eNew-build and modernized housing projects, som...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.gewobag.de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003eWBM\u003c/td\u003e\n      \u003ctd\u003eMunicipal housing firm offering apartments in ...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.wbm.de/neubau-berlin/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003eBerlinovo\u003c/td\u003e\n      \u003ctd\u003eOffers student apartments across Berlin. Filte...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.berlinovo.de/de/apartments\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003eBGG Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivate housing group with student-suitable ap...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.bgg-berlin.com/de\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003eSTW Berlin\u003c/td\u003e\n      \u003ctd\u003eOfficial student dorm provider in Berlin; list...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.stw.berlin/en/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eStudentendorf Berlin\u003c/td\u003e\n      \u003ctd\u003eCommunity-oriented residences in Adlershof and...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.studentendorf.berlin/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003eThe FIZZ\u003c/td\u003e\n      \u003ctd\u003eInternational student housing brand; premium h...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.the-fizz.com/en/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003eNeon Wood\u003c/td\u003e\n      \u003ctd\u003ePrivate student housing provider; fully furnis...\u003c/td\u003e\n      \u003ctd\u003ehttps://neonwood.com/de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003eHome in Berlin\u003c/td\u003e\n      \u003ctd\u003eCentral Berlin housing platform targeting stud...\u003c/td\u003e\n      \u003ctd\u003ehttps://home-in-berlin.de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003eInsider Apartments\u003c/td\u003e\n      \u003ctd\u003eFurnished rental apartments for students and p...\u003c/td\u003e\n      \u003ctd\u003ehttps://insiderapartments.com/projects\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003eStudentenhotel Hubertusallee\u003c/td\u003e\n      \u003ctd\u003eHotel-style short- and long-term housing optio...\u003c/td\u003e\n      \u003ctd\u003ehttps://studentenhotel-hubertusallee.hotel-in-...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003eStudentenwohnheim\u003c/td\u003e\n      \u003ctd\u003eExternal platform listing some Berlin student ...\u003c/td\u003e\n      \u003ctd\u003ehttp://www.studentenwohnheim.ch/berlin/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e15\u003c/th\u003e\n      \u003ctd\u003eFelixx Student\u003c/td\u003e\n      \u003ctd\u003ePremium student housing in Berlin-Charlottenburg.\u003c/td\u003e\n      \u003ctd\u003ehttps://www.felixx-student.de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e16\u003c/th\u003e\n      \u003ctd\u003eSmartments Student\u003c/td\u003e\n      \u003ctd\u003eFully furnished student housing units in centr...\u003c/td\u003e\n      \u003ctd\u003ehttps://smartments-student.com/de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e17\u003c/th\u003e\n      \u003ctd\u003eMyGermanUniversity\u003c/td\u003e\n      \u003ctd\u003eInformational site for international students ...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.mygermanuniversity.com/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e18\u003c/th\u003e\n      \u003ctd\u003eUniAcco\u003c/td\u003e\n      \u003ctd\u003eGlobal student housing aggregator with listing...\u003c/td\u003e\n      \u003ctd\u003ehttps://uniacco.com/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e19\u003c/th\u003e\n      \u003ctd\u003eThe Social Hub\u003c/td\u003e\n      \u003ctd\u003eCo-living and student-centered community with ...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.thesocialhub.co/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e20\u003c/th\u003e\n      \u003ctd\u003eGLS Campus Berlin\u003c/td\u003e\n      \u003ctd\u003eLanguage school campus with on-site student ho...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.gls-campus-berlin.com/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e21\u003c/th\u003e\n      \u003ctd\u003eCampo Novo Berlin\u003c/td\u003e\n      \u003ctd\u003eBerlin location offers furnished apartments an...\u003c/td\u003e\n      \u003ctd\u003ehttps://campo-novo-berlin.de/\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e22\u003c/th\u003e\n      \u003ctd\u003eSTUK Berlin\u003c/td\u003e\n      \u003ctd\u003eStudent co-living platform with locations and ...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.stuk.berlin/\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                sourse  \\\n0                    Study in Germany    \n1   HOWOGE Wohnungsbaugesellschaft mbH   \n2                           GESOBAU AG   \n3                              GEWOBAG   \n4                                  WBM   \n5                            Berlinovo   \n6                           BGG Berlin   \n7                           STW Berlin   \n8                 Studentendorf Berlin   \n9                             The FIZZ   \n10                           Neon Wood   \n11                      Home in Berlin   \n12                  Insider Apartments   \n13        Studentenhotel Hubertusallee   \n14                   Studentenwohnheim   \n15                      Felixx Student   \n16                  Smartments Student   \n17                  MyGermanUniversity   \n18                             UniAcco   \n19                      The Social Hub   \n20                   GLS Campus Berlin   \n21                   Campo Novo Berlin   \n22                         STUK Berlin   \n\n                                             comment¹  \\\n0   An official informational platform aimed at in...   \n1   Municipal housing company with dedicated stude...   \n2   Public housing provider offering projects like...   \n3   New-build and modernized housing projects, som...   \n4   Municipal housing firm offering apartments in ...   \n5   Offers student apartments across Berlin. Filte...   \n6   Private housing group with student-suitable ap...   \n7   Official student dorm provider in Berlin; list...   \n8   Community-oriented residences in Adlershof and...   \n9   International student housing brand; premium h...   \n10  Private student housing provider; fully furnis...   \n11  Central Berlin housing platform targeting stud...   \n12  Furnished rental apartments for students and p...   \n13  Hotel-style short- and long-term housing optio...   \n14  External platform listing some Berlin student ...   \n15  Premium student housing in Berlin-Charlottenburg.   \n16  Fully furnished student housing units in centr...   \n17  Informational site for international students ...   \n18  Global student housing aggregator with listing...   \n19  Co-living and student-centered community with ...   \n20  Language school campus with on-site student ho...   \n21  Berlin location offers furnished apartments an...   \n22  Student co-living platform with locations and ...   \n\n                                                 link  \n0                https://www.study-in-germany.com/de/  \n1   https://www.howoge.de/immobiliensuche/neubaupr...  \n2   https://www.gesobau.de/wohnungsbau/neubauprojekte  \n3                             https://www.gewobag.de/  \n4                   https://www.wbm.de/neubau-berlin/  \n5              https://www.berlinovo.de/de/apartments  \n6                       https://www.bgg-berlin.com/de  \n7                          https://www.stw.berlin/en/  \n8                   https://www.studentendorf.berlin/  \n9                        https://www.the-fizz.com/en/  \n10                           https://neonwood.com/de/  \n11                         https://home-in-berlin.de/  \n12             https://insiderapartments.com/projects  \n13  https://studentenhotel-hubertusallee.hotel-in-...  \n14            http://www.studentenwohnheim.ch/berlin/  \n15                     https://www.felixx-student.de/  \n16                 https://smartments-student.com/de/  \n17                https://www.mygermanuniversity.com/  \n18                               https://uniacco.com/  \n19                       https://www.thesocialhub.co/  \n20                 https://www.gls-campus-berlin.com/  \n21                      https://campo-novo-berlin.de/  \n22                           https://www.stuk.berlin/  ","content_type":"text/plain"}}},"children":[],"key":"TxJTs3LMNJ"}],"visibility":"show","key":"M6z0o6CxwP"}],"visibility":"show","key":"eQFGdEFLjx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Manual Data Collection Sources for Student Accommodation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"foMZCEOvPv"}],"key":"CPqYD7BC7G"}],"key":"Y4mmn88Mys"}],"key":"vpUHNzOqT1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The address is a critical parameter for conducting spatial econometric analysis. However, many student accommodations have more than one building. For example, WH Spandauer Damm comprises five buildings located at Spandauer Damm 134–142 (Studierendenwerk Berlin, 2025). During manual data collection, one of the tasks was to collect unique addresses related to the student housing market in order to calculate centroids afterwards, during automated data preparetion.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nxBaKBR36T"}],"key":"CWnIrgEoAQ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For student housing, the data collected included the address (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QOuHYYxOwb"},{"type":"inlineCode","value":"street","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"npKqoK16nQ"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MVYc4M9hzq"},{"type":"inlineCode","value":"house_nummer","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KGxj8AdfN1"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XyMHr4ESLY"},{"type":"inlineCode","value":"plz","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XyYwnAypLH"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mys4UKJ6jk"},{"type":"inlineCode","value":"city","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QHyxlF2sIs"},{"type":"text","value":"), the name of the building complex (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NekRuVFl8u"},{"type":"inlineCode","value":"name","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ccUxkmJPlQ"},{"type":"text","value":"), the ownership company name (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"faG3wSVcek"},{"type":"inlineCode","value":"ownership","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FAtuloUz7T"},{"type":"text","value":"), the ownership model (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LGxkY5V8zS"},{"type":"inlineCode","value":"ownership model","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d2XIXAuaX8"},{"type":"text","value":"), number of residential units (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YjRFUuMov1"},{"type":"inlineCode","value":"!units","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LqQIPV9EiV"},{"type":"text","value":"), their capacity (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"o8UJtEUXuN"},{"type":"inlineCode","value":"!students","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DsZZtGb6WI"},{"type":"text","value":") and type (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fIKz58RUOb"},{"type":"inlineCode","value":"units type","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JWIdNJBHlf"},{"type":"text","value":"), maximum and minimum price (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gv29cjUaCP"},{"type":"inlineCode","value":"price_min","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sTnu9t7pWb"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CM3ZVaIKYw"},{"type":"inlineCode","value":"price_max","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NJhXvsmA8v"},{"type":"text","value":"), maximum and minimum living space (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YDCNeMVcyR"},{"type":"inlineCode","value":"area_min","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wqru6x8l5g"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VtMbIhazpf"},{"type":"inlineCode","value":"area_max","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MN1Dvvjlfv"},{"type":"text","value":"), link to the source (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L52c2st3su"},{"type":"inlineCode","value":"link","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RwzM35TCUt"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZSGSGCTbbu"}],"key":"iaWBXRipJo"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"As a result of manual data collection, data was collected on 94 proposed student accommodation buildings located at 171 unique addresses.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vzXlTp4znL"}],"key":"FfnOgp6ZFl"}],"key":"EXOeWoTEJW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fp = r\"../inputs/2.2_urban_data_mining/input_pbsa.xlsx\"\n\npbsa = pd.read_excel(fp, sheet_name='SA', dtype={'street': str, 'house_nummer': str, 'plz': str})","key":"XNJjIFvysz"},{"type":"outputs","id":"zDJxuftqdyKeMTLufo1QC","children":[],"key":"ilbrZHFVCZ"}],"key":"dvVn72R3Ah"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pbsa.info()","key":"Vrc7Uv5Gya"},{"type":"outputs","id":"E3-M_cxKd-92YdaKZni8_","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u003cclass 'pandas.core.frame.DataFrame'\u003e\nRangeIndex: 171 entries, 0 to 170\nData columns (total 16 columns):\n #   Column           Non-Null Count  Dtype  \n---  ------           --------------  -----  \n 0   name             171 non-null    object \n 1   street           171 non-null    object \n 2   house_nummer     171 non-null    object \n 3   plz              171 non-null    object \n 4   city             171 non-null    object \n 5   model            171 non-null    object \n 6   ownership        171 non-null    object \n 7   ownership_model  171 non-null    object \n 8   !units           93 non-null     float64\n 9   !students        148 non-null    float64\n 10  units type       168 non-null    object \n 11  price_min        148 non-null    float64\n 12  price_max        96 non-null     float64\n 13  area_min         154 non-null    float64\n 14  area_max         144 non-null    float64\n 15  link             168 non-null    object \ndtypes: float64(6), object(10)\nmemory usage: 21.5+ KB\n"},"children":[],"key":"gbV3oIWhoF"}],"key":"FS2JEPeqJu"}],"key":"osB9Q2bCRG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GLhhfoTHov"}],"identifier":"higher-education-universities","label":"Higher Education Universities","html_id":"higher-education-universities","implicit":true,"key":"NEC7joLfJ1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In order to indicate Berlin’s student demand, it was necessary to collect data on all of Berlin’s higher education institutions and the number of students enrolled in them. Although the initial plan was to limit the search to public educational institutions only. Nevertheless during the data collection process it became evident that the list and statistics for private universities were also publicly available.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PwffRLJsNQ"}],"key":"sgBmfXz9tx"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The dataset provided by the Statistisches Bundesamt (DESTATIS, 2025) serves as the most comprehensive source, capturing detailed information on student enrollments, origin, and gender at public and private German higher education institutions. The data provided was so detailed that it included information about branches of Berlin universities in other regions of the country. For example, Media Design School Berlin also has a campus in Munich. These universities  were excluded from the statistics as they do not put pressure on the Berlin Student Housing Market.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dMaurFqimi"}],"key":"dazVc9mBwj"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"After cleaning, the Higher Education Institution list from the Federal Statistical Office was double-checked with the official Berlin city directory of higher education institutions (Berlin City Portal, 2025) and the official registry maintained by the German Rectors’ Conference (Hochschul Kompass, 2025).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZyqBRuiPuK"}],"key":"RzQiDGokEG"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"A complete list of online sources used for manual data collection on higher education institutions is provided in Table XX.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"U7utXdCDvo"}],"key":"Z64AJ84Hm8"}],"key":"fzFbb2JzjA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sourses[[\n    \"sourse\",\n    \"comment¹\",\n    \"link\",\n]].iloc[23:] ","key":"oHZwM6WOFQ"},{"type":"outputs","id":"N3L6o9sCJBfZBH1sfCvEy","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"sourse\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"comment¹\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"link\",\"rawType\":\"object\",\"type\":\"string\"}],\"ref\":\"a9e54c9a-f27a-4ff8-b2f0-f6203d2a32e5\",\"rows\":[[\"23\",\"STW\",\"Official public map of university-related facilities, including student services and universites\",\"https://www.stw.berlin\"],[\"24\",\"Hochschul Kompass\",\"Official registry of higher education institutions in Germany. Provides names, locations, and types of universities; maintained by the German Rectors’ Conference\",\"https://www.hochschulkompass.de/hochschulen/hochschulsuche.html?tx_szhrksearch_pi1%5Bsearch%5D=1\u0026tx_szhrksearch_pi1%5BQUICK%5D=1\u0026tx_szhrksearch_pi1%5Bname%5D=Berlin\u0026tx_szhrksearch_pi1%5Btraegerschaft%5D=\"],[\"25\",\"Berlin City Portal \",\"Official Berlin city directory of higher education institutions, including public and private universities and applied sciences institutions\",\"https://www.berlin.de/sen/wissenschaft/einrichtungen/hochschulen/\"],[\"26\",\"Federal Statistical Office of Germany (Destatis)\",\"Statistik der Studenten (Code: 21311-0002) is a comprehensive semester-based dataset provided by the Statistisches Bundesamt (DESTATIS), capturing detailed information on student enrollments at German higher education institutions.   It includes variables such as gender, nationality, study program and institution\",\"https://www.openstreetmap.org/#map=12/52.5141/13.3707\"]],\"shape\":{\"columns\":3,\"rows\":4}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003esourse\u003c/th\u003e\n      \u003cth\u003ecomment¹\u003c/th\u003e\n      \u003cth\u003elink\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e23\u003c/th\u003e\n      \u003ctd\u003eSTW\u003c/td\u003e\n      \u003ctd\u003eOfficial public map of university-related faci...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.stw.berlin\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e24\u003c/th\u003e\n      \u003ctd\u003eHochschul Kompass\u003c/td\u003e\n      \u003ctd\u003eOfficial registry of higher education institut...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.hochschulkompass.de/hochschulen/ho...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e25\u003c/th\u003e\n      \u003ctd\u003eBerlin City Portal\u003c/td\u003e\n      \u003ctd\u003eOfficial Berlin city directory of higher educa...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.berlin.de/sen/wissenschaft/einrich...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e26\u003c/th\u003e\n      \u003ctd\u003eFederal Statistical Office of Germany (Destatis)\u003c/td\u003e\n      \u003ctd\u003eStatistik der Studenten (Code: 21311-0002) is ...\u003c/td\u003e\n      \u003ctd\u003ehttps://www.openstreetmap.org/#map=12/52.5141/...\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                              sourse  \\\n23                                               STW   \n24                                 Hochschul Kompass   \n25                               Berlin City Portal    \n26  Federal Statistical Office of Germany (Destatis)   \n\n                                             comment¹  \\\n23  Official public map of university-related faci...   \n24  Official registry of higher education institut...   \n25  Official Berlin city directory of higher educa...   \n26  Statistik der Studenten (Code: 21311-0002) is ...   \n\n                                                 link  \n23                             https://www.stw.berlin  \n24  https://www.hochschulkompass.de/hochschulen/ho...  \n25  https://www.berlin.de/sen/wissenschaft/einrich...  \n26  https://www.openstreetmap.org/#map=12/52.5141/...  ","content_type":"text/plain"}}},"children":[],"key":"fuQXjgLKVF"}],"key":"EtHquLd96y"}],"key":"LF0Po894Sx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Manual Data Collection Sources for Higher Education Universities","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L0KNRe4wh4"}],"key":"k9BnNtLRya"}],"key":"kGRnqq3mR0"}],"key":"SCOERzAvVo"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"After secondary verification of the list of educational institutions, the next task was to collect unique addresses, as large universities have more than one campus. For example, Charité - Universitätsmedizin Berlin has four campuses in Berlin, which are located at a total of 41 unique addresses. The manual search for addresses was carried out using two services: Open Street Map and Google Maps.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ocegry5rJ1"}],"key":"cbeqBthksT"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For Higher Education Universities, the data collected included the code according to the Federal Statistical Office, the abbreviation (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IAFYNRyRXj"},{"type":"inlineCode","value":"abr","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PJanz4W2UB"},{"type":"text","value":"), the name (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OFw5jAwThn"},{"type":"inlineCode","value":"name","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yKEZHU4MOJ"},{"type":"text","value":") and the full name (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Kcf7s1ad9h"},{"type":"inlineCode","value":"fname","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JkhuCHWGaU"},{"type":"text","value":"), the address (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"j3HQYdI5Mh"},{"type":"inlineCode","value":"adr","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"av2jSCrnEZ"},{"type":"text","value":"), the ownership model (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MUX75qYUsS"},{"type":"inlineCode","value":"own","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QueRks3rDA"},{"type":"text","value":"), type of educational institution (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OqS3VPOXk9"},{"type":"inlineCode","value":"stud","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"avzl6BIWqT"},{"type":"text","value":"), number of German students (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MYmbMEhxjQ"},{"type":"inlineCode","value":"!s_de","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZQ11FKrX9m"},{"type":"text","value":"), number of foreign students (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"q8M0QGJJ9O"},{"type":"inlineCode","value":"!s_aus","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"u9byaUMtwG"},{"type":"text","value":") and total number of students (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yAFhwc6f9k"},{"type":"inlineCode","value":"!s_all","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E7zX3rwcqZ"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TNfGZzZ1i0"}],"key":"DzzmnHJ3HJ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"As a result of manual data collection, data was collected on 70 higher education institutions in Berlin, located at 357 unique addresses.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DVc3iifenJ"}],"key":"bgskO7Rrv3"}],"key":"tTbsojZSgl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"op = r\"../inputs/2.2_urban_data_mining/input_uni.xlsx\"\n\nuni = pd.read_excel(op, sheet_name='Uni', dtype={'adr': str})","key":"qUsXzeob9W"},{"type":"outputs","id":"2lZFrKlRGMQ3E9UqRs7eD","children":[],"key":"A3y1W76QX6"}],"key":"cXW3gC8cR0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"uni.info()","key":"V0KbcP5Dz0"},{"type":"outputs","id":"0nrBnp7CrZW69c551Tb-t","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u003cclass 'pandas.core.frame.DataFrame'\u003e\nRangeIndex: 357 entries, 0 to 356\nData columns (total 11 columns):\n #   Column  Non-Null Count  Dtype  \n---  ------  --------------  -----  \n 0   code    357 non-null    object \n 1   abr     70 non-null     object \n 2   name    70 non-null     object \n 3   fname   70 non-null     object \n 4   adr     357 non-null    object \n 5   own     70 non-null     object \n 6   stud    71 non-null     object \n 7   !s_de   53 non-null     float64\n 8   !s_aus  52 non-null     float64\n 9   !s_all  54 non-null     float64\n 10  url     42 non-null     object \ndtypes: float64(3), object(8)\nmemory usage: 30.8+ KB\n"},"children":[],"key":"nvDjIYlSJ2"}],"key":"FHm2drZlPz"}],"key":"Tm1HJZjTye"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Automated Data Preparation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tsZ43FBPgv"}],"identifier":"automated-data-preparation","label":"Automated Data Preparation","html_id":"automated-data-preparation","implicit":true,"key":"HsZUjcNF1R"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"During Manual Data Collection, one of the biggest challenges of data-driven research - finding and selecting data - was successfully overcome.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PbJutMGsre"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L7Ot8wFpIX"},{"type":"text","value":"The next challenge within Urban Data Mining is data cleaning, formatting, and standartalising. Data preparation using the Python programming language not only allows you to identify errors in manual input data, but also automates problem-solving during data import, cleaning, and export, as well as during geocoding.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hmfRbSUMKr"}],"key":"z8aVQxHwI8"}],"key":"zJNJIzzPcz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set Up","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fmHuFxkIpY"}],"identifier":"set-up","label":"Set Up","html_id":"set-up","implicit":true,"key":"PpgIqjeBnx"}],"key":"czWctMFFl0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FzUJVryMsp"}],"key":"KZVNRygF5w"}],"key":"rwra8clCPr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd \nimport numpy as np \nfrom tqdm import tqdm  \nimport geopandas as gpd \nfrom geopy.geocoders import Nominatim, Photon \nfrom geopy.extra.rate_limiter import RateLimiter \nimport matplotlib.pyplot as plt \nfrom matplotlib.colors import LinearSegmentedColormap \nfrom shapely.geometry import MultiPoint \nfrom sklearn.cluster import DBSCAN \nimport time  ","key":"iQkw1ZGr1U"},{"type":"outputs","id":"6abGsASFrwxDXm8aL-WlQ","children":[],"key":"RHOIE05sri"}],"key":"hbkWKTqbTh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Scripts","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a4RNL0ssHf"}],"key":"Wfg9iU8Jok"}],"key":"eycdWNetyG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to access spatial analysis and spatial economics methods and Tools, it is necessary to convert addresses to geographical coordinates, which consist of longitude and latitude. Geocoding converts addresses into geographical coordinates to be placed on a map.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"imbYJRHXhT"}],"key":"g04w6Wi39d"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Two services, Nominatim and Photon, were used for geocoding. Despite the use of several services, about 10% of addresses were not recognised or were misinterpreted, indicating errors in the manually collected data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iw4pPeK5T5"}],"key":"icKyWZm2ZX"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To improve the accuracy of the coordinate search, the names of the city (Berlin) and country (Germany) were added to each address, which made it possible to uniquely identify objects in the German capital. In addition, to account for the particularities of the German language and possible spelling errors, an alternative spelling mechanism was implemented: special characters such as ‘ß’ were automatically replaced with ‘ss’, which increased the likelihood of successfully matching the address with the geographic database.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DwdNZiaxLY"}],"key":"yIPjUz8byI"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Since the addresses for student accommodation and higher education universities were collected in different formats, two different scripts were also used for geocoding, which differed from each other in their query (","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MoY4sF6CHI"},{"type":"inlineCode","value":"df[“query”]","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"M7svhDOUIR"},{"type":"text","value":"). At the same time, it would be advisable to avoid writing two scripts by collecting data on student accommodation and higher education universities in a single format (for example, ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"w04wy2yB6l"},{"type":"inlineCode","value":"df['query'] = df['street'] + ' ' + df['house_nummer'] + ', ' + df['plz'] + ', ' + df['city'] + ', Germany'","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VDyKsMkw6o"},{"type":"text","value":").","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"T1VMy8uYAM"}],"key":"psOgMVGbtA"}],"key":"aTCQawe3kJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def geocode_pbsa(df):\n    # Initialize geocoders\n    nom = RateLimiter(Nominatim(user_agent=\"berlin_housing\", timeout=10).geocode, \n                     min_delay_seconds=1)\n    photon = RateLimiter(Photon(user_agent=\"berlin_housing\", timeout=10).geocode,\n                        min_delay_seconds=0.5)\n    \n    # Create address strings\n    #df['query'] = df['adr'] + ', Germany'   \n    df['query'] = df['street'] + ' ' + df['house_nummer'] + ', ' + df['plz'] + ', ' + df['city'] + ', Germany'                 \n    df['query_alt'] = df['query'].str.replace('ß', 'ss')  # Alternative spelling\n    \n    # Geocoding function with retries\n    def geocode(address, geocoder, retries=2):\n        for _ in range(retries):\n            try:\n                loc = geocoder(address)\n                return (loc.latitude, loc.longitude) if loc else (None, None)\n            except:\n                time.sleep(1)\n        return (None, None)\n    \n    # Primary geocoding (Nominatim)\n    tqdm.pandas(desc=\"Primary geocoding\", disable=True)\n    df[['lat', 'lon']] = df['query'].progress_apply(\n        lambda x: pd.Series(geocode(x, nom))\n    )\n    \n    # Fallback (Photon for failed addresses)\n    missing = df[df['lat'].isna()]\n    if not missing.empty:\n        tqdm.pandas(desc=\"Fallback geocoding\", disable=True)\n        missing[['lat', 'lon']] = missing['query_alt'].progress_apply(\n            lambda x: pd.Series(geocode(x, photon)))\n        df.update(missing)\n    \n    # Convert to GeoDataFrame (Berlin CRS)\n    return gpd.GeoDataFrame(\n        df.drop(['query', 'query_alt'], axis=1, errors='ignore'),\n        geometry=gpd.points_from_xy(df['lon'], df['lat']),\n        crs=\"EPSG:4326\"\n    ).to_crs(\"EPSG:25833\")","key":"WackjBJOxT"},{"type":"outputs","id":"b6ZKhUCeZ7yzH4w7lq7Nz","children":[],"key":"Vy7pv15jWl"}],"key":"v7ac0MKk6U"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def geocode_uni(df):\n    # Initialize geocoders\n    nom = RateLimiter(Nominatim(user_agent=\"berlin_housing\", timeout=10).geocode, \n                     min_delay_seconds=1)\n    photon = RateLimiter(Photon(user_agent=\"berlin_housing\", timeout=10).geocode,\n                        min_delay_seconds=0.5)\n    \n    # Create address strings\n    df['query'] = df['adr'] + ', Germany'   \n    df['query_alt'] = df['query'].str.replace('ß', 'ss')  # Alternative spelling\n    \n    # Geocoding function with retries\n    def geocode(address, geocoder, retries=2):\n        for _ in range(retries):\n            try:\n                loc = geocoder(address)\n                return (loc.latitude, loc.longitude) if loc else (None, None)\n            except:\n                time.sleep(1)\n        return (None, None)\n    \n    # Primary geocoding (Nominatim)\n    tqdm.pandas(desc=\"Primary geocoding\", disable=True)\n    df[['lat', 'lon']] = df['query'].progress_apply(\n        lambda x: pd.Series(geocode(x, nom))\n    )\n    \n    # Fallback (Photon for failed addresses)\n    missing = df[df['lat'].isna()]\n    if not missing.empty:\n        tqdm.pandas(desc=\"Fallback geocoding\", disable=True)\n        missing[['lat', 'lon']] = missing['query_alt'].progress_apply(\n            lambda x: pd.Series(geocode(x, photon)))\n        df.update(missing)\n    \n    # Convert to GeoDataFrame (Berlin CRS)\n    return gpd.GeoDataFrame(\n        df.drop(['query', 'query_alt'], axis=1, errors='ignore'),\n        geometry=gpd.points_from_xy(df['lon'], df['lat']),\n        crs=\"EPSG:4326\"\n    ).to_crs(\"EPSG:25833\")","key":"FzFnpyE6HU"},{"type":"outputs","id":"twG8TKWt95CZZRen_euzW","children":[],"key":"EHeg1A4emC"}],"key":"aWk7R6zGzE"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Colors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CPPHokXxTg"}],"key":"DvALgmOcTe"}],"visibility":"remove","key":"gShwP1YgvW"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"color_palettes = {\n    \"Pi\": [\"#F8EDEB\", \"#FAE1DD\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\", \"#F08080\"],\n    \"Or\": [\"#FFE5D9\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F49F7D\", \"#F28B6D\"],\n    \"GrSc\":  [\"#434343\", \"#666666\", \"#999999\", \"#b7b7b7\", \"#cccccc\", \"#d9d9d9\", \"#efefef\", \"#f3f3f3\", \"#ffffff\"]\n}\n\ncmap_pi = LinearSegmentedColormap.from_list(\"Pi\", color_palettes[\"Pi\"])\ncmap_or = LinearSegmentedColormap.from_list(\"Or\", color_palettes[\"Or\"])\ncmap_grsc = LinearSegmentedColormap.from_list(\"GrSc\", color_palettes[\"GrSc\"])","visibility":"remove","key":"pLe2uue2gu"},{"type":"outputs","id":"dElROgDo6xtj18H2WGVIo","children":[],"visibility":"show","key":"rgGqF7Dt62"}],"visibility":"show","key":"n7941YVXah"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Font","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rTgN8BqWV5"}],"key":"zmEnel6CIg"}],"visibility":"remove","key":"XAokkaIwgf"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.rcParams[\"font.family\"] = \"Helvetica\"","visibility":"remove","key":"bAGCJwbC2A"},{"type":"outputs","id":"ItmKcwex1VY_WxCpPCs1k","children":[],"visibility":"show","key":"sMRBVcNfH0"}],"visibility":"show","key":"a6pfwYt9Qw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Berlin Spatial Boundaries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pgKzO78g0I"}],"key":"pQN75fohbO"}],"key":"Xz32dnbHar"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pf = r\"../inputs/2.2_urban_data_mining/lor_pgr.gpkg\"\npgr = gpd.read_file(pf)\npgr.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nbf = r\"../inputs/2.2_urban_data_mining/adm_bz.gpkg\"\nbz = gpd.read_file(bf)\nbz.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nof = r\"../inputs/2.2_urban_data_mining/adm_out.gpkg\"\nout = gpd.read_file(of)\nout.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)","key":"smmiUdWxmp"},{"type":"outputs","id":"4p4o3p-tYYEebcP12-Dd0","children":[],"key":"eZwAjIDHlO"}],"key":"pyECjHsGGY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Import","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iwHtu7RF7d"}],"identifier":"data-import","label":"Data Import","html_id":"data-import","implicit":true,"key":"oHwX1Fjf8m"}],"key":"t8Wb8a3sHI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The data obtained as a result of manual data collection served as input data for the automated stage.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CtDHwDax3E"}],"key":"NZCcifwLah"}],"key":"zELeCFSHYK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fp = r\"../inputs/2.2_urban_data_mining/input_pbsa.xlsx\"\n\npbsa = pd.read_excel(fp, sheet_name='SA', dtype={'street': str, 'house_nummer': str, 'plz': str})\n\nop = r\"../inputs/2.2_urban_data_mining/input_uni.xlsx\"\n\nuni = pd.read_excel(op, sheet_name='Uni', dtype={'adr': str})","key":"pc0XWv0Whv"},{"type":"outputs","id":"8fHUjkPtwJNAXPDa1Rtp4","children":[],"key":"IhLhYXmXof"}],"key":"tUi9IXUMcl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Geocoding","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cB1ikNSHTb"}],"identifier":"geocoding","label":"Geocoding","html_id":"geocoding","implicit":true,"key":"Mb1u0dGTTR"}],"key":"ANFIfjEi2J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As part of the automated data preparation stage, the addresses of student accommodation and higher education institutions were geocoded to obtain accurate geographical coordinates for each unique address. The data was then converted into a geospatial format (GeoDataFrame) and reprojected into the official Berlin coordinate system (EPSG:25833).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nE09DjHec5"}],"key":"TTHkz1QhUC"}],"key":"vpcFH5brTu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Student Accommodation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vLpDyRcVku"}],"key":"COLTsxdj6z"}],"key":"StiJX0lSso"}],"key":"bPFdIthnX4"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"pbsa = geocode_pbsa(pbsa)","visibility":"show","key":"RmdQq2wGgj"},{"type":"outputs","id":"ZC0--85UqOwE8rsgFO7yL","children":[],"visibility":"remove","key":"BKKIMzTtM9"}],"visibility":"show","key":"tlG2sHuvBn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pbsa.info()","key":"Di1FRtI0Dg"},{"type":"outputs","id":"eu3Jx-FfWC6TmC0E9C2xd","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u003cclass 'geopandas.geodataframe.GeoDataFrame'\u003e\nRangeIndex: 171 entries, 0 to 170\nData columns (total 19 columns):\n #   Column           Non-Null Count  Dtype   \n---  ------           --------------  -----   \n 0   name             171 non-null    object  \n 1   street           171 non-null    object  \n 2   house_nummer     171 non-null    object  \n 3   plz              171 non-null    object  \n 4   city             171 non-null    object  \n 5   model            171 non-null    object  \n 6   ownership        171 non-null    object  \n 7   ownership_model  171 non-null    object  \n 8   !units           93 non-null     float64 \n 9   !students        148 non-null    float64 \n 10  units type       168 non-null    object  \n 11  price_min        148 non-null    float64 \n 12  price_max        96 non-null     float64 \n 13  area_min         154 non-null    float64 \n 14  area_max         144 non-null    float64 \n 15  link             168 non-null    object  \n 16  lat              171 non-null    float64 \n 17  lon              171 non-null    float64 \n 18  geometry         171 non-null    geometry\ndtypes: float64(8), geometry(1), object(10)\nmemory usage: 25.5+ KB\n"},"children":[],"key":"gk1WGnIJ9S"}],"key":"wBh1yr0o7m"}],"key":"OdvNHQHQdA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pqoog52oTo"}],"key":"lbaDqOVMs6"}],"key":"XHrltJqBGy"}],"key":"fbi01mVJRY"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"uni = geocode_uni(uni)","visibility":"show","key":"zaNKNARmXY"},{"type":"outputs","id":"WOxulsNzz31FXc9IQVK8U","children":[],"visibility":"remove","key":"qNKb9B71WN"}],"visibility":"show","key":"FnMFsGVVkO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"uni_copy = uni.copy()","visibility":"show","key":"auEC20C8jg"},{"type":"outputs","id":"8AtitNqskXJWydZ31ZNWJ","children":[],"visibility":"show","key":"Vv4myRRMPm"}],"visibility":"remove","key":"DdGgajRELf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"uni.info()","key":"ykD1p4Pey3"},{"type":"outputs","id":"z0T-oDS7gDgCp3u2Vx8Ol","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u003cclass 'geopandas.geodataframe.GeoDataFrame'\u003e\nRangeIndex: 357 entries, 0 to 356\nData columns (total 14 columns):\n #   Column    Non-Null Count  Dtype   \n---  ------    --------------  -----   \n 0   code      357 non-null    object  \n 1   abr       70 non-null     object  \n 2   name      70 non-null     object  \n 3   fname     70 non-null     object  \n 4   adr       357 non-null    object  \n 5   own       70 non-null     object  \n 6   stud      71 non-null     object  \n 7   !s_de     53 non-null     float64 \n 8   !s_aus    52 non-null     float64 \n 9   !s_all    54 non-null     float64 \n 10  url       42 non-null     object  \n 11  lat       357 non-null    float64 \n 12  lon       357 non-null    float64 \n 13  geometry  357 non-null    geometry\ndtypes: float64(5), geometry(1), object(8)\nmemory usage: 39.2+ KB\n"},"children":[],"key":"W26VIEC4ZG"}],"key":"mS2hK8rUh5"}],"key":"XsGFYDtseF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This results in a shift from tabular data to geospatial data with a new attribute ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZttY5K5Q3q"},{"type":"inlineCode","value":"geometry","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sZPKBljYtd"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RIzRx7OTwC"}],"key":"EuqhV1xUL9"}],"key":"yWSQcDWFK4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Cleaning","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QLd1uSFNTt"}],"identifier":"data-cleaning","label":"Data Cleaning","html_id":"data-cleaning","implicit":true,"key":"T6enMhrLw1"}],"key":"impM8z06rR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Student Accommodation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LQAdOt1I6x"}],"key":"fV4pYn8nUG"}],"key":"KoE6DR1vym"}],"key":"YxNeuP7Qdt"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Student Housing capacity is calculated as a single capacity indicator (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H42SCEuJnD"},{"type":"inlineCode","value":"!cap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qnWIJ5uVBr"},{"type":"text","value":") according to the following rule: if the number of students living in student accommodation (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eztfv1FW9o"},{"type":"inlineCode","value":"students","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DVwFVhXW9Q"},{"type":"text","value":") is known, it is taken; if not, the number of housing units (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EqR21dirOF"},{"type":"inlineCode","value":"units","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aeEfReQSUC"},{"type":"text","value":") is taken, while purposed build student accommodation, where both values are unknown, is excluded.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UmWk4BW6cJ"}],"key":"HXTVpdYVOD"}],"key":"m24RPMSe6j"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pbsa['!cap'] = pbsa['!students'].where(\n    pbsa['!students'].notnull(),\n    pbsa['!units']\n)\n\npbsa = pbsa.dropna(subset=['!cap'])","key":"pyT2T1aGrf"},{"type":"outputs","id":"AejHvpj2bKugR8Vw6rBNq","children":[],"key":"a6L47szgP6"}],"key":"tZvVAAPBlm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"After that, there is a transition from unique addresses to centroids or geographical centers (Figure XX), for which grouping by name is performed (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cNrfADlpho"},{"type":"inlineCode","value":"pbsa.groupby(“name”)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pb50WdjPZO"},{"type":"text","value":"). Thus, student dormitories with more than one building are assigned a single point, and the capacity of all buildings is summed (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iltHsH4CMn"},{"type":"inlineCode","value":"!cap': “sum”","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wq03vySJxZ"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D2tmRYYvlB"}],"key":"kNrDQypAEc"}],"key":"zQHLVMs26N"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pbsa_c = (\n    pbsa.groupby('name')\n    .agg({\n        'geometry': lambda x: MultiPoint([pt for pt in x]).centroid,\n        'plz': 'first',\n        'city': 'first',\n        'model': 'first',\n        'ownership': 'first',\n        'ownership_model': 'first',\n        '!cap': 'sum',\n        'units type': 'first',\n        'price_min': 'first',\n        'price_max': 'first',\n        'area_min': 'first',\n        'area_max': 'first',\n        'link': 'first'\n    })\n    .reset_index()\n)\n\npbsa_c = gpd.GeoDataFrame(pbsa_c, geometry='geometry', crs=pbsa.crs)","key":"uPqZx7gKIz"},{"type":"outputs","id":"hfPT7NGMJEM32w9rJv-Uz","children":[],"key":"GG7K7pI3L0"}],"key":"ZZEeLIPsRK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This results in a transition from 168 points to 88 centroids, which simplifies and speeds up further use of data in the data analysis.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gWG12QGGgC"}],"key":"o6kv7Sk9nr"}],"key":"OV2KCFyMSt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(1, 2, figsize=(36, 12))\n\npgr.plot(ax=axs[0], facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs[0], facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs[0], facecolor='none', edgecolor='#666666', linewidth=1)\npbsa.plot(ax=axs[0],\n          column='!cap',\n          cmap=cmap_or,\n          markersize = 35,  # Scale marker size\n          alpha=0.9,\n          edgecolor='white',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'shrink': 0.6, 'label': \"capacity\"},\n          vmin=0,\n          vmax=pbsa_c['!cap'].quantile(0.95))  # Cap extremes\naxs[0].set_title(f'a. Student Accommodation\\n({len(pbsa)} points)', fontsize=28, pad=15, fontweight='bold')\naxs[0].set_axis_off()\nplt.tight_layout()\n\npgr.plot(ax=axs[1], facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs[1], facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs[1], facecolor='none', edgecolor='#666666', linewidth=1)\npbsa_c.plot(ax=axs[1],\n          column='!cap',\n          cmap=cmap_or,\n          markersize = 35,\n          alpha=0.9,\n          edgecolor='white',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'shrink': 0.6, 'label': \"capacity\"},\n          vmin=0,\n          vmax=pbsa_c['!cap'].quantile(0.95)) # Matching Previous plott\naxs[1].set_title(f\"b. Student Accommodation Centroids\\n({len(pbsa_c)} points)\", fontsize=28, pad=15, fontweight='bold')\naxs[1].set_axis_off()\n\nsave_path = os.path.join(hf, \"Student Accommodation.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"dwN5XAUE9l"},{"type":"outputs","id":"QhO5qZh9QTPSivCcyah8i","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"0ed34ab1d63d93fa135303bc37401bbd","path":"/rethinking_student_housing/build/0ed34ab1d63d93fa135303bc37401bbd.png"},"text/plain":{"content":"\u003cFigure size 3600x1200 with 4 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"W9uR46rueP"}],"visibility":"show","key":"VLz8nGh3IT"}],"visibility":"show","key":"wXwoowwK6Y"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Visual Comparison Initial Unique Student Accommodation Addresses with Final Centroids","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BpkheaKlZn"}],"key":"igI64PmDZf"}],"key":"usm3wBUmBy"}],"key":"ywkC4cvTjs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It should be noted that unique addresses were collected specifically for the correct calculation of centroids. Meanwhile, for student communities, the calculation of centroids is relatively simple due to the unique names for each community and the proximity of its buildings. For universities, however, the task is not so straightforward, as grouping by name will not give the desired result, since a university with the same name may be located in different parts of the city, for example, Humboldt-Universität, which has three campuses: Campus Mitte, Campus Adlershof, and Campus Nord.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YYuwcgPrju"}],"key":"GJJakSskfq"}],"key":"jSy6EG8SKa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q5o9a0xIMP"}],"key":"gGcVu4epuN"}],"key":"MlElFImjZX"}],"key":"Nythw9uc8A"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities’ demand for each educational institution is calculated as the number of international students enrolled in it. Universities for which there is no data on students are excluded.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wQSsjLSnS0"}],"key":"D7xX5kwTPU"}],"key":"jSgqhtjHma"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"uni = uni.dropna(subset=['!s_all'])","key":"IysLBqlfQD"},{"type":"outputs","id":"ojoNpMgKM7jHsUn_8OOfy","children":[],"key":"oEFeRDj17U"}],"key":"imcVIfbhFq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Afterwards, there is a transition from unique addresses to centroids (Figure XX). For this purpose, grouping by code (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WI5JMOpvbR"},{"type":"inlineCode","value":"uni[“code”]","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mFUwyOScWh"},{"type":"text","value":") is performed, while demand indicators: the number of German students (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lNoqvJlj1o"},{"type":"inlineCode","value":"!s_de","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JCo90oHfnv"},{"type":"text","value":"), the number of foreign students (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pHpiPGiu0v"},{"type":"inlineCode","value":"!s_aus","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oKkRJp7XLM"},{"type":"text","value":") and the total number of students (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fsw45jVRmu"},{"type":"inlineCode","value":"!s_all","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RtUBYXac8t"},{"type":"text","value":") are distributed evenly among unique addresses — buildings — with a single unique code (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PQdUuzB0wy"},{"type":"inlineCode","value":"for code in uni[“code”].unique()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SHHq2Zl6ZZ"},{"type":"text","value":"). This allows us to obtain an ‘average’ representation of the demand indicators for each individual building, while these data for different buildings are initially combined.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aXTLP95G16"}],"key":"CCkMozNVPd"}],"key":"K5EWBkFqZw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"copy_cols = ['abr', 'name', 'fname', 'own', 'stud', 'url']\nsplit_cols = ['!s_de', '!s_aus', '!s_all']\n\n# Loop over unique codes\nfor code in uni['code'].unique():\n    mask = uni['code'] == code\n    group = uni[mask]\n    \n    # Copy values from first row in group\n    for col in copy_cols:\n        uni.loc[mask, col] = group.iloc[0][col]\n    \n    # Distribute numeric values\n    for col in split_cols:\n        if pd.notnull(group.iloc[0][col]):\n            uni.loc[mask, col] = round(group.iloc[0][col] / len(group), 2)\n        else:\n            uni.loc[mask, col] = pd.NA","key":"grqVi29GrK"},{"type":"outputs","id":"24GHpm23_Xx5bIhKhi-aH","children":[],"key":"JjzRd1tecJ"}],"key":"INcqyfMzdl"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To further transition from unique addresses to a single address for a complex of university buildings, the data were grouped based on a distance threshold. The threshold parameter was responsible for separating unique addresses belonging to the same university campus based on the spatial factor. The threshold value was obtained through multiple manual tests. At the same time, the demand values for each unique address were summed up.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"seMfPSTtda"}],"key":"TKXKPhnMCP"}],"key":"bSRkTqFond"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"distance_threshold = 650  # in meters\nrecords = []\n\nfor code, group in uni.groupby(\"code\"):\n    coords = np.array([(geom.x, geom.y) for geom in group.geometry])\n    if len(coords) == 0:\n        continue\n    # Cluster points that are close to each other\n    clustering = DBSCAN(eps=distance_threshold, min_samples=1).fit(coords)\n    group = group.copy()\n    group['cluster'] = clustering.labels_\n    for cluster_id, cluster_points in group.groupby('cluster'):\n        mp = MultiPoint(cluster_points.geometry.tolist())\n        # Prepare a record with all columns\n        record = cluster_points.iloc[0].to_dict()\n        record['geometry'] = mp.centroid\n        # Sum the specified columns\n        for col in ['!s_de', '!s_aus', '!s_all']:\n            record[col] = cluster_points[col].sum()\n        record['cluster'] = f\"{code}_{cluster_id+1}\"\n        records.append(record)\n\n# Create the GeoDataFrame\nuni_c = gpd.GeoDataFrame(records, geometry='geometry', crs=uni.crs)","key":"zLMM1Jl0Vq"},{"type":"outputs","id":"lw1i2XtRe4ooTnDeEnsad","children":[],"key":"WayIoImjWd"}],"key":"gPijZr72zK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thus, unique addresses for individual buildings were grouped not only by code but also by university campus affiliation. Next, geometric centers (centroids) were calculated for each group. This resulted in a transition from 357 points to 54 centroids.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i5s1yZthGn"}],"key":"JkpRHB8FpB"}],"key":"WWeYRJVSmL"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(1, 2, figsize=(32, 12))\n\npgr.plot(ax=axs[0], facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs[0], facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs[0], facecolor='none', edgecolor='#666666', linewidth=1)\nuni.plot(ax=axs[0],\n          column='!s_all',\n          cmap=cmap_pi,\n          markersize = 35,  # Scale marker size\n          alpha=0.9,\n          edgecolor='white',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'shrink': 0.6, 'label': \"demand\"},\n          vmin=0,\n          vmax=uni_c['!s_all'].quantile(0.85))  # Cap extremes\naxs[0].set_title(f'a. Higher Education Universities\\n({len(uni_copy)} points)', fontsize=28, pad=15, fontweight='bold')\naxs[0].set_axis_off()\nplt.tight_layout()\n\npgr.plot(ax=axs[1], facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs[1], facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs[1], facecolor='none', edgecolor='#666666', linewidth=1)\nuni_c.plot(ax=axs[1],\n          column='!s_all',\n          cmap=cmap_pi,\n          markersize = 35,\n          alpha=0.9,\n          edgecolor='white',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'shrink': 0.6, 'label': \"demand\"},\n          vmin=0,\n          vmax=uni_c['!s_all'].quantile(0.85)) # Matching Previous plott\naxs[1].set_title(f\"b. Higher Education Universities Centroids\\n({len(uni_c)} points)\", fontsize=28, pad=15, fontweight='bold')\naxs[1].set_axis_off()\n\nsave_path = os.path.join(hf, \"Higher Education Universities.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"t61QywUI8U"},{"type":"outputs","id":"4K5QD5QArd2lU3rG9UFIa","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"67b8908e33a617a4db50461fa7152c88","path":"/rethinking_student_housing/build/67b8908e33a617a4db50461fa7152c88.png"},"text/plain":{"content":"\u003cFigure size 3200x1200 with 4 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"zYCeTfTvFA"}],"visibility":"show","key":"rbvjGaxYBm"}],"visibility":"show","key":"YfnqVHiUuf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Visual Comparison Initial Unique Higher Education Universities Addresses with Final Centroids","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PhCmG7K3LX"}],"key":"N3zaijPgkU"}],"key":"imR6fvuM8p"}],"key":"PPJrVBrSRe"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The verification method was a manual visual comparison of the final centroids with the original unique addresses in QGIS using the Measure Tool.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BsQxrmkjlY"}],"key":"kqGUngjCcj"}],"key":"UbxnmkaYXJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Export","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WLMxBvVZH9"}],"identifier":"data-export","label":"Data Export","html_id":"data-export","implicit":true,"key":"Bu6wRIor2d"}],"key":"sv6ihCVirk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The processed data for analysing the capacity and demand for student housing is stored in geographic packages (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BnZUI9i3Xo"},{"type":"inlineCode","value":".gpkg","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JsT4DJucXp"},{"type":"text","value":") — an open format for storing geospatial data, which differs from the tabular format (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ifpz1HD8RE"},{"type":"inlineCode","value":".exel","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uHpxTzNhC9"},{"type":"text","value":") in that it contains coordinates.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OiAlHkvTUy"}],"key":"kEUjTFjGmL"}],"key":"z2GscTxWJ3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ef = r\"../outputs/2.2_urban_data_mining/pbsa.gpkg\"\npbsa.to_file(ef, driver=\"GPKG\")\n\nef = r\"../outputs/2.2_urban_data_mining/pbsa_c.gpkg\"\npbsa_c.to_file(ef, driver=\"GPKG\")\n\nef = r\"../outputs/2.2_urban_data_mining/uni.gpkg\"\nuni_copy.to_file(ef, driver=\"GPKG\")\n\ncf = r\"../outputs/2.2_urban_data_mining/uni_c.gpkg\"\nuni_c.to_file(cf, driver=\"GPKG\")","key":"OVg5m7bGf1"},{"type":"outputs","id":"-bJrsxC3-3rhWRhUwBJPN","children":[],"key":"eL3OKQkwoI"}],"key":"QNogy08N7Y"}],"key":"k6EXeWlqyt"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"2.1 Overview","url":"/notebooks/overview","group":"2. Capacities, Demand \u0026 Spatial Distribution"},"next":{"title":"2.3 Descriptive Market Statistics","url":"/notebooks/descriptive-market-statistics","group":"2. Capacities, Demand \u0026 Spatial Distribution"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/rethinking_student_housing/build/manifest-7B0967AD.js";
import * as route0 from "/rethinking_student_housing/build/root-EDJFWIEV.js";
import * as route1 from "/rethinking_student_housing/build/routes/$-AD65NCUT.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/rethinking_student_housing/build/entry.client-PCJPW7TK.js");</script></body></html>