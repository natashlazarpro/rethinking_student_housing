<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>3.3 Market Pressure Analysis - Rethinking Student Housing in Berlin</title><meta property="og:title" content="3.3 Market Pressure Analysis - Rethinking Student Housing in Berlin"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/rethinking_student_housing/build/_assets/app-OIHP3NGU.css"/><link rel="stylesheet" href="/rethinking_student_housing/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/rethinking_student_housing/favicon.ico"/><link rel="stylesheet" href="/rethinking_student_housing/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/rethinking_student_housing/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Rethinking Student Housing in Berlin" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/rethinking_student_housing/">Rethinking Student Housing in Berlin</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="0. Prelimitary Pages" class="block break-words rounded py-2 grow cursor-pointer">0. Prelimitary Pages</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="1. Introduction" class="block break-words rounded py-2 grow cursor-pointer">1. Introduction</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2. Capacities, Demand &amp; Spatial Distribution" class="block break-words rounded py-2 grow cursor-pointer">2. Capacities, Demand &amp; Spatial Distribution</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="3. Student Housing Market Imbalance" class="block break-words rounded py-2 grow cursor-pointer">3. Student Housing Market Imbalance</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="4. Students Behind the Numbers" class="block break-words rounded py-2 grow cursor-pointer">4. Students Behind the Numbers</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="5. Data-Driven Decisions" class="block break-words rounded py-2 grow cursor-pointer">5. Data-Driven Decisions</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1upsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1upsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="6. Appendix" class="block break-words rounded py-2 grow cursor-pointer">6. Appendix</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/natashlazarpro/rethinking_student_housing" title="GitHub Repository: natashlazarpro/rethinking_student_housing" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/3.3_market_pressure_analysis.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">3.3 Market Pressure Analysis</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block myst-fm-author-comma text-comma"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rb8ucp:" data-state="closed"><span class="myst-fm-author-name">Lazareva Nataliia</span></button></span><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block myst-fm-author-comma text-comma"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd8ucp:" data-state="closed"><span class="myst-fm-author-name">Urban Design M.Sc.</span></button></span><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rf8ucp:" data-state="closed"><span class="myst-fm-author-name">Technical University of Berlin</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="qsIntOwQa0" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import warnings

warnings.filterwarnings(&quot;ignore&quot;)

import os
hf = r&#x27;../outputs/3.3_market_pressure_analysis/&#x27;
os.makedirs(hf, exist_ok=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZRSof8R-l05qqhSDUqEFi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="DirYtgy1BJ" class="myst-jp-nb-block relative group/block"><h1 id="id-3-3-market-pressure-analysis" class="relative group"><span class="heading-text">3.3 Market Pressure Analysis</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-3-market-pressure-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="FOrQnSFCtS" class="myst-jp-nb-block relative group/block"><p>In the chapter Central Place Analysis, spatial economics metrics were calculated, including demand–capacity pressure for each market area. The task of the chapter Market Pressure Analysis is to move from numerical characteristics to spatial ones and to calculate the local pressure on the student housing market and particular student accommodations.</p></div><div id="S0zJTbbWZ3" class="myst-jp-nb-block relative group/block"><h2 id="set-up" class="relative group"><span class="heading-text">Set Up</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-up" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="KMIUQYyKT3" class="myst-jp-nb-block relative group/block"><p>Import Libraries</p></div><div id="wjuwtKWRPw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import geopandas as gpd
from matplotlib.colors import LinearSegmentedColormap
import seaborn as sns
import matplotlib.patheffects as path_effects
from matplotlib.colors import ListedColormap
from shapely.ops import unary_union
import rasterio
from rasterio import features
from affine import Affine
from scipy.ndimage import gaussian_filter</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ovJqEWIxajqlgPQoCvS3R" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="BEG7gl4agc" class="myst-jp-nb-block relative group/block hidden"><p>Colors</p></div><div id="lZphEHBwAo" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">color_palettes = {
    &quot;Mint&quot;: [&quot;#EAF4E8&quot;, &quot;#C8E0D4&quot;, &quot;#A9CCC1&quot;, &quot;#8FB9AE&quot;, &quot;#76A79D&quot;, &quot;#5F968E&quot;, &quot;#498581&quot;], 
    &quot;Pi&quot;: [&quot;#F8EDEB&quot;, &quot;#FAE1DD&quot;, &quot;#FCD5CE&quot;, &quot;#FEC5BB&quot;, &quot;#F8AD9D&quot;, &quot;#F4978E&quot;, &quot;#F08080&quot;],
    &quot;Or&quot;: [&quot;#FFE5D9&quot;, &quot;#FFD7BA&quot;, &quot;#FEC89A&quot;, &quot;#FFB78F&quot;, &quot;#F49F7D&quot;, &quot;#F28B6D&quot;], 
    &quot;MintPi&quot;: [&quot;#76A79D&quot;, &quot;#8FB9AE&quot;, &quot;#A9CCC1&quot;, &quot;#C8E0D4&quot;, &quot;#FBF0EA&quot;, &quot;#FCD5CE&quot;, &quot;#FEC5BB&quot;, &quot;#F8AD9D&quot;, &quot;#F4978E&quot;],
    &quot;MintOr&quot;: [&quot;#76A79D&quot;, &quot;#8FB9AE&quot;, &quot;#A9CCC1&quot;, &quot;#C8E0D4&quot;, &quot;#FBF0EA&quot;, &quot;#FFD7BA&quot;, &quot;#FEC89A&quot;, &quot;#FFB78F&quot;, &quot;#F28B6D&quot;],
    &quot;GrSc&quot;:  [&quot;#434343&quot;, &quot;#666666&quot;, &quot;#999999&quot;, &quot;#b7b7b7&quot;, &quot;#cccccc&quot;, &quot;#d9d9d9&quot;, &quot;#efefef&quot;, &quot;#f3f3f3&quot;, &quot;#ffffff&quot;]
}

cmap_mint = LinearSegmentedColormap.from_list(&quot;Mint&quot;, color_palettes[&quot;Mint&quot;])
cmap_pi = LinearSegmentedColormap.from_list(&quot;Pi&quot;, color_palettes[&quot;Pi&quot;])
cmap_or = LinearSegmentedColormap.from_list(&quot;Or&quot;, color_palettes[&quot;Or&quot;])
cmap_mintpi = LinearSegmentedColormap.from_list(&quot;MintPi&quot;, color_palettes[&quot;MintPi&quot;])
cmap_mintor = LinearSegmentedColormap.from_list(&quot;MintOr&quot;, color_palettes[&quot;MintOr&quot;])
cmap_grsc = LinearSegmentedColormap.from_list(&quot;GrSc&quot;, color_palettes[&quot;GrSc&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="nk5SQtj3ZNRr2I0qo4f4h" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="uyQabgYsBq" class="myst-jp-nb-block relative group/block hidden"><p>Font</p></div><div id="eCzdwnIrRb" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.rcParams[&quot;font.family&quot;] = &quot;Helvetica&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="dFMVBLYVyoLX3KZ8gN1KT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="WooXg5jWsS" class="myst-jp-nb-block relative group/block"><p>Berlin Spatial Boundaries</p></div><div id="rB9GUprnBN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pf = r&quot;../inputs/3.3_market_pressure_analysis/lor_pgr.gpkg&quot;
pgr = gpd.read_file(pf)
pgr.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)

bf = r&quot;../inputs/3.3_market_pressure_analysis/adm_bz.gpkg&quot;
bz = gpd.read_file(bf)
bz.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)

of = r&quot;../inputs/3.3_market_pressure_analysis/adm_out.gpkg&quot;
out = gpd.read_file(of)
out.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Dg9SyGBqxd6sesewrz2ww" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="SwWEkRStPV" class="myst-jp-nb-block relative group/block"><p>Data Import</p></div><div id="OYJfk3IhiC" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ff = r&quot;../inputs/3.3_market_pressure_analysis/market_area_central_place_analysis.gpkg&quot;
market_area = gpd.read_file(ff)

cf = r&quot;../inputs/3.3_market_pressure_analysis/central_places.gpkg&quot;
central_places = gpd.read_file(cf)

pf = r&quot;../inputs/3.3_market_pressure_analysis/pbsa_capacity_analysis.gpkg&quot;
pbsa_cap = gpd.read_file(pf)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="wkUD9iHnjJxH0YuR2CFB2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Xi2rDOImew" class="myst-jp-nb-block relative group/block"><h1 id="overlap-problem" class="relative group"><span class="heading-text">Overlap Problem</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#overlap-problem" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>Whereas in the original Central Place, theory market areas do not overlap, in order to analyse the aggregate market pressure on the student housing market, it is necessary to move from the overlapping market areas obtained as a result of the Central Place Analysis (Figure XX) to a more accurate local structure that reflects the aggregate pressure on a particular part of the city.</p></div><div id="KsQxWPyRzN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[&#x27;demand_capacity_pressure_rank&#x27;] = pd.qcut(
    market_area[&#x27;demand_capacity_pressure&#x27;],
    q=5, labels=range(1, 6)   # 1‑5 classes
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="xEAuckdMnV0TYaHSGYx6Z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="odwHiGUOby" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cmap_mint_mini = ListedColormap(cmap_mint(np.linspace(0.15, 1, 256)))

fig, ax = plt.subplots(figsize=(12, 12))

pgr.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1.25)

vmin=0
vmax=5

market_area.plot(
    ax=ax,
    column=&#x27;demand_capacity_pressure_rank&#x27;,
    cmap=cmap_mint,
    edgecolor=&#x27;none&#x27;,
    linewidth=0.3,
    alpha=0.55,
    legend=True,
    legend_kwds={&#x27;frameon&#x27;: False}, 
    label = &#x27;demand capacity pressure rank&#x27;, 
    vmax = vmax)  # Matching Previous plott

plt.tight_layout()

# sm = plt.cm.ScalarMappable(cmap=cmap_mint_mini, norm=plt.Normalize(vmin, vmax))
# cbar = fig.colorbar(sm, ax=ax, shrink=0.6)
# cbar.set_label(&quot;demand capacity pressure&quot;)
# cbar.set_ticks(range(vmin, 6))
# cbar.outline.set_visible(False)

market_area.plot(
    ax=ax,
    edgecolor=&#x27;white&#x27;,  # variable for colormap
    facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
    linewidth=0.3,
    alpha=1
)
plt.tight_layout()

central_places.plot(ax=ax,
           color=&#x27;#434343&#x27;,
           markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
plt.tight_layout()
for idx, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    ax.annotate(
        row[&#x27;abr&#x27;],  # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # position of the point
        xytext=(0, offset),  # move text upward
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,     # dark mint / forest green for good contrast
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

ax.set_title(&#x27;Market Areas Demand Capacity Pressure&#x27;, fontsize=16, weight=&#x27;bold&#x27;)
ax.set_axis_off()

save_path = os.path.join(hf, &quot;Market_Areas_Demand_Capacity_Pressure.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="29MOFX7EkNKu7F4ThHYNA" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/bdd91e8208fae1b61bc46792c1da8841.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="INzOyVtGfO" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Market Areas Demand Capacity Pressure Rank</em></p></div><div id="MeJo3vYRMH" class="myst-jp-nb-block relative group/block"><p>Market Areas Demand Capacity Pressure Rank (Figure XX) illustrates that each university forms its own accessibility zone, and these zones naturally overlap. On the one hand, this overlap reflects the real competition for student flows for the same housing stock. On the other hand, it creates analytical complexity: some territories are part of several market areas at the same time, which complicates the interpretation of local pressure.</p><p>This is partly due to the fact that, initially, isochrones were calculated using multipolygons, which form complex geometries and consist of several polygon parts. These fragments overlap with each other and with the polygons of other universities.</p><p>According to the results of spatial analysis, individual market areas of overlap and are part of at least five different market areas, while particularly central areas, such as parts of the Mitte district, are part of 14 market areas simultaneously. In order to simplify such a dense network of intersecting zones of influence, it is necessary to eliminate overlaps.</p></div><div id="ZK04OOASSG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[&#x27;er_overlap&#x27;] = 0

# Calculate overlaps
for i, current_poly in market_area.iterrows():
    overlap_count = 0
    for j, other_poly in market_area.iterrows():
        if i != j:  # Don&#x27;t compare with itself
            if current_poly.geometry.intersects(other_poly.geometry):
                overlap_count += 1
    market_area.at[i, &#x27;er_overlap&#x27;] = overlap_count

print(f&quot;Overlap Counts Range for Market Areas: {market_area[&#x27;er_overlap&#x27;].min()} to {market_area[&#x27;er_overlap&#x27;].max()}&quot;)

ff = r&#x27;../outputs/3.3_market_pressure_analysis/market_areas_not_explode_overlap.gpkg&#x27;
market_area.to_file(ff, driver=&quot;GPKG&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="uYS1NVAOq81Uv7J0RUWh7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Overlap Counts Range for Market Areas: 5 to 14
</span></code></pre></div></div></div></div><div id="IpqwL2YovD" class="myst-jp-nb-block relative group/block"><p>One way to simplify geometry is to divide complex multipolygon geometry into simple polygons <code>market_area.explode(ignore_index=True)</code>. In this case, polygons intersect between 0 and 51 times.</p></div><div id="IvdnSwebuI" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area_exp = market_area.explode(ignore_index=True)

market_area_exp[&#x27;er_overlap&#x27;] = 0

for i, current_poly in market_area_exp.iterrows():
    overlap_count = 0
    for j, other_poly in market_area_exp.iterrows():
        if i != j:  
            if current_poly.geometry.intersects(other_poly.geometry):
                overlap_count += 1
    market_area_exp.at[i, &#x27;er_overlap&#x27;] = overlap_count

print(f&quot;Overlap Counts Range for Exploded Market Areas: {market_area_exp[&#x27;er_overlap&#x27;].min()} to {market_area_exp[&#x27;er_overlap&#x27;].max()}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="-JnAqrgRH4QVJy-r_Xxo_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Overlap Counts Range for Exploded Market Areas: 0 to 51
</span></code></pre></div></div></div></div><div id="kPQx3kTprF" class="myst-jp-nb-block relative group/block"><p>This means that in order to switch to simple geometry, it will be necessary to apply the division 51 more times. Such a task is not only difficult in terms of computing power, but will also result in the resulting non-intersecting polygons being extremely small.</p></div><div id="n3Iq7nCIjn" class="myst-jp-nb-block relative group/block"><h1 id="rasterisation" class="relative group"><span class="heading-text">Rasterisation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#rasterisation" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>Another way to eliminate the problem of multiple market area overlaps is to switch from vector geometry to raster representation, i.e., to a regular grid of fixed size. Rasterisation allows complex, overlapping polygons to be replaced with a set of uniform pixel cells. Unlike a vector model, where a single territory can belong to several market areas at once, a raster grid forces a unique spatial correspondence: one cell equals one pressure value.</p><p>The use of a regular 25-meter grid provides a sufficient level of spatial detail to identify micro-zones of local congestion, especially in areas where the density of universities and student accommodation is highest.</p></div><div id="d9DLXYKxmZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">value_col = &quot;demand_capacity_pressure&quot;

# Define raster resolution (in meters)
resolution = 25 

# Bounding box
minx, miny, maxx, maxy = market_area.total_bounds

# Create transform (affine)
transform = Affine.translation(minx, maxy) * Affine.scale(resolution, -resolution)

# Calculate raster shape
width = int((maxx - minx) / resolution)
height = int((maxy - miny) / resolution)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ayaOIZYoZfUvPMuTjYNc1" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="AyzXpNsCQd" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">raster = np.zeros((height, width), dtype=np.float32)

# For each polygon, add pressure values
for _, row in market_area.iterrows():
    shapes = [(row.geometry, row[value_col])]
    layer = features.rasterize(
        shapes=shapes,
        out_shape=(height, width),
        transform=transform,
        fill=0,
        all_touched=True,
        dtype=np.float32
    )
    raster += layer</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="M_ka50GtRUuanN3FMM9DV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LS80bgKgVt" class="myst-jp-nb-block relative group/block"><h1 id="demand-capacity-pressure" class="relative group"><span class="heading-text">Demand Capacity Pressure</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#demand-capacity-pressure" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="IDM3afw6NG" class="myst-jp-nb-block relative group/block"><p>Thus, rasterisation can be used to assess Market Areas Local Demand Capacity Pressure (Figure XX).</p><p>The Local Demand–Capacity Pressure (Figure XX) shows the spatial distribution of the total market pressure arising from the overlap of the catchment areas of all universities. Unlike capacity–demand pressure, which is calculated at the level of individual market areas, this visualisation shows the ‘accumulated’ pressure, reflecting the cumulative effect of student competition for housing resources at each point in the urban area.</p><p>The most intense pressure zones are marked in saturated red shades and are concentrated in the central part of the city — primarily in the districts of Mitte, Charlottenburg-Wilmersdorf, and Friedrichshain-Kreuzberg. This core coincides with the spatial location of the largest educational clusters: the University of the Arts Berlin (UAB), University of Europe for Applied Sciences (UEAS), Berlin International University (BIU), Berlin School of Technology (BTS), and School of Economics and Law (HWR_BA). The catchment areas of these universities overlap most densely, which greatly increases the pressure on the limited housing stock in the central districts. It is here that local pressure reaches its maximum values — over 30, which indicates extremely high competition among international students for available places.</p><p>As move away from the central core, the intensity of the pressure gradually decreases, transitioning into moderate greenish hues. However, the decrease is asymmetrical: in the south-west (Steglitz-Zehlendorf), south-east (Treptow-Köpenick), and partly in the north-east (Pankow), there are still local areas of increased local pressure caused by the influence of the large universities FU, HU, and HTW. At the same time, the districts of Reinickendorf, Spandau, and Marzahn-Hellersdorf show the lowest local pressure values, indicating weak involvement in competition for housing stock and relatively low attractiveness for students.</p><p>Thus, the local demand–capacity pressure map clearly shows that market tension in the student housing market in Berlin is concentrated and polycentric, reaching its peak in the central ‘education corridor’ and gradually weakening towards the periphery.</p><p>Importantly, this visualisation emphasises that the pressure is not generated by individual market areas, but by the overlap of multiple accessibility zones, which explains why it is the concentration of university functions — and not just the local shortage of student accommodation — that is the key driver of market pressure in the central areas of the city.</p></div><div id="I25W3eISFR" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(12, 12))
extent = (minx, maxx, miny, maxy)

cmap_mintpi_mini = ListedColormap(cmap_mintpi(np.linspace(0.15, 1, 256)))


# Replace pgr, bz, out with your base layers if needed
pgr.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1.25)


#-----------------------------1-------------------------------------

central_places.plot(ax=ax,
           color=&#x27;#434343&#x27;,
           markersize= 10,
           alpha=0.85,
           edgecolor=None,
           linewidth=1)
plt.tight_layout()
for idx, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    ax.annotate(
        row[&#x27;abr&#x27;],  # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # position of the point
        xytext=(0, offset),  # move text upward
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,     # dark mint / forest green for good contrast
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

#-----------------------------2-------------------------------------  
pbsa_cap.plot(ax=ax,
           color=&#x27;#434343&#x27;,
           markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)

#-----------------------------3-------------------------------------  
                  
masked_raster = np.ma.masked_where(raster == 0, raster)

im = ax.imshow(
    masked_raster,
    cmap=cmap_mintpi_mini,
    alpha=0.9,
    zorder=1
)

ax.imshow(masked_raster, cmap=cmap_mintpi_mini, extent=extent) #, extent=extent
ax.set_title(&#x27;Market Areas Local Demand Capacity Pressure&#x27;, fontsize=16, weight=&#x27;bold&#x27;)
ax.axis(&#x27;off&#x27;) 

cbar = plt.colorbar(im, ax=ax, fraction=0.036, pad=0.04)
cbar.set_label(&#x27;local demand capacity pressure&#x27;, fontsize=12)
cbar.outline.set_visible(False)  # cleaner look

save_path = os.path.join(hf, &quot;Market Areas Local Demand Capacity Pressure.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.tight_layout()
plt.show()
ax.set_axis_off()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="BDfclVhMDT5IqIkwt4LVF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/030c03480753445636c2c04c02d40590.png" alt="&lt;Figure size 1200x1200 with 2 Axes&gt;"/></div></div></div><div id="m1ICxdzmpF" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Market Areas Local Demand Capacity Pressure</em></p></div><div id="GixGIrFTzc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">out_raw = r&#x27;../outputs/3.3_market_pressure_analysis/market_pressure_sum_raw.tif&#x27;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="vWTCkX9TgnYPn1zGTV5qH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="K3orIgonS5" class="myst-jp-nb-block relative group/block"><h1 id="student-accommodation-pressure" class="relative group"><span class="heading-text">Student Accommodation Pressure</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#student-accommodation-pressure" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="ih4wQt9HR3" class="myst-jp-nb-block relative group/block"><p>Data Import</p></div><div id="tQadgMFu1F" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">out_raw = r&#x27;../outputs/3.3_market_pressure_analysis/market_pressure_sum_raw.tif&#x27;

with rasterio.open(out_raw) as src:
    raster = src.read(1)  # read first band as numpy array
    transform = src.transform
    crs = src.crs

ef = r&quot;../inputs/3.3_market_pressure_analysis/pbsa_capacity_analysis.gpkg&quot;
pbsa_cap = gpd.read_file(ef)

pbsa_cap.drop(columns=[&#x27;link&#x27;, &#x27;!cap_slag&#x27;, &#x27;!cap_std&#x27;, &#x27;!cap_slag_std&#x27;, &#x27;cluster&#x27;, &#x27;model&#x27;, &#x27;color&#x27;, &#x27;city&#x27;], inplace=True, errors=&#x27;ignore&#x27;) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="DniXi_671pZ0eVfkVP-I0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GGfSxQZelc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">coords = [(geom.x, geom.y) for geom in pbsa_cap.geometry]
with rasterio.open(out_raw) as src:
    pbsa_cap[&quot;local_demand_capacity_pressure&quot;] = [val[0] for val in src.sample(coords)]

pbsa_cap[&quot;local_demand_capacity_pressure&quot;] = pbsa_cap[&quot;local_demand_capacity_pressure&quot;].round(3)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="N8zdR0G4arvq_jz_ipmFs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="UFidRyUEkY" class="myst-jp-nb-block relative group/block"><p>Less Pressured Student Accommodations:</p></div><div id="EIlVTxZvta" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa_cap[pbsa_cap[&quot;local_demand_capacity_pressure&quot;] &gt; 0][[
    &quot;name&quot;,
    &quot;plz&quot;,
    &quot;ownership&quot;,
    &quot;!cap&quot;,
    &quot;ownership_model&quot;,
    &quot;cluster_cap&quot;,
    &quot;local_demand_capacity_pressure&quot;,
]].sort_values(&quot;local_demand_capacity_pressure&quot;).head(10)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6cqBt0id2XAHy93vwyNv0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ki9GxySIrw" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Less Pressured Student Accommodations</em></p></div><div id="e6oJvVCCN1" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pbsa_cap[pbsa_cap[&quot;local_demand_capacity_pressure&quot;] &gt; 0][[
    &quot;name&quot;,
    &quot;plz&quot;,
    &quot;ownership&quot;,
    &quot;!cap&quot;,
    &quot;ownership_model&quot;,
    &quot;cluster_cap&quot;,
    &quot;local_demand_capacity_pressure&quot;,
]].sort_values(&quot;local_demand_capacity_pressure&quot;, ascending=False).head(10)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="mEZ3n65zr83FKEbms_uNt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="sIHXJLennp" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Most Pressured Student Accommodations</em></p></div><div id="vyvuAvNwsB" class="myst-jp-nb-block relative group/block"><p>большое давнение прихолитьмя именно на Studierendenwerk Berlin - госудавсвенные общежития</p></div><div id="BABUfh7M3U" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cmap_mint_mini = ListedColormap(cmap_mint(np.linspace(0.15, 1, 256)))

fig, ax = plt.subplots(figsize=(12, 12))

# Replace pgr, bz, out with your base layers if needed
pgr.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
# for idx, row in bz.iterrows():
#     centroid = row[&#x27;geometry&#x27;].centroid
#     txt = ax.text(
#         centroid.x, centroid.y,
#         str(row[&#x27;namgem&#x27;]),
#         fontsize=8, color=&#x27;#666666&#x27;, ha=&#x27;center&#x27;, va=&#x27;center&#x27;
#     )
#     txt.set_path_effects([
#         path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
#         path_effects.Normal()
#     ])
out.plot(ax=ax, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1.25)

vmin=0
vmax=35

pbsa_cap.plot(
    ax=ax,
    column=&#x27;local_demand_capacity_pressure&#x27;,
    cmap=cmap_mintpi_mini,
    edgecolor=&#x27;none&#x27;,
    linewidth=0.3,
    alpha=1,
    legend=False,
    vmin = vmin,
    vmax = vmax)  # Matching Previous plott

plt.tight_layout()

cbar = plt.colorbar(im, ax=ax, fraction=0.036, pad=0.04)
cbar.set_label(&#x27;local_demand_capacity_pressure&#x27;, fontsize=12)
cbar.outline.set_visible(False)  # cleaner look

# sm = plt.cm.ScalarMappable(cmap=cmap_mintpi_mini, norm=plt.Normalize(vmin, vmax))
# cbar = fig.colorbar(sm, ax=ax, shrink=0.6)
# cbar.set_label(&quot;summed demand capacity pressure&quot;)
# cbar.set_ticks(range(vmin, 36))

# for _, r in market_area.iterrows():
#     ax.annotate(str(int(r[&quot;cntr_hierracy_rank&quot;])), 
#                 xy=r[&quot;geometry&quot;].representative_point().coords[0],
#                 ha=&quot;center&quot;, va=&quot;center&quot;, fontsize=7)

# market_area.plot(
#     ax=ax,
#     edgecolor=&#x27;white&#x27;,  # variable for colormap
#     facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
#     linewidth=0.3,
#     alpha=1
# )
plt.tight_layout()

central_places.plot(ax=ax,
           color=&#x27;#434343&#x27;,
           markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
plt.tight_layout()
for idx, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    ax.annotate(
        row[&#x27;abr&#x27;],  # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # position of the point
        xytext=(0, offset),  # move text upward
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,     # dark mint / forest green for good contrast
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

#ax.legend(handles=legend_elements, loc=&#x27;lower center&#x27;, ncol=5, frameon=False, prop={&#x27;size&#x27;: 10})
ax.set_title(&#x27;Student Accommodation Demand Capacity Pressure&#x27;, fontsize=16, weight=&#x27;bold&#x27;)
ax.set_axis_off()

save_path = os.path.join(hf, &quot;Student Accommodation Demand Capacity Pressure.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="EvpL_8yfLS31LYHRDs2Q_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/dd05bc99b4de4c8e60c398783719b646.png" alt="&lt;Figure size 1200x1200 with 2 Axes&gt;"/></div></div></div><div id="fsB0gVwxAw" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Student Accommodation Demand Capacity Pressure</em></p></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/rethinking_student_housing/notebooks/central-place-analysis"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">3. Student Housing Market Imbalance</div>3.2 Central Place Analysis</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/rethinking_student_housing/notebooks/overview-2"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">4. Students Behind the Numbers</div>4.1 Overview</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/rethinking_student_housing/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-7UUHRSK3.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/root-EDJFWIEV.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-ECLX7DIY.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/routes/$-AD65NCUT.js"/><script>window.__remixContext = {"url":"/notebooks/market-pressure-analysis","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/rethinking_student_housing"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"bf03a117e2356dc2d066efd2fc226fc0a047551a02d21f9201e27aedd4e13a8e","slug":"notebooks.market-pressure-analysis","location":"/notebooks/3.3_market_pressure_analysis.ipynb","dependencies":[],"frontmatter":{"title":"3.3 Market Pressure Analysis","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"geodatascience2.0","language":"python"},"authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","numbering":{"title":{"offset":1}},"source_url":"https://github.com/natashlazarpro/rethinking_student_housing/blob/main/student-housing-book/notebooks/3.3_market_pressure_analysis.ipynb","edit_url":"https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/3.3_market_pressure_analysis.ipynb","exports":[{"format":"ipynb","filename":"3.3_market_pressure_analysis.ipynb","url":"/rethinking_student_housing/build/3.3_market_pressure_-3f40241bf245e19890d0eb66bd6dfb8f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import warnings\n\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nhf = r'../outputs/3.3_market_pressure_analysis/'\nos.makedirs(hf, exist_ok=True)","visibility":"show","key":"G5iRFxY9QG"},{"type":"outputs","id":"ZRSof8R-l05qqhSDUqEFi","children":[],"visibility":"show","key":"Aq7QIrkraC"}],"visibility":"remove","key":"qsIntOwQa0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3.3 Market Pressure Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Umpcf9LRZQ"}],"identifier":"id-3-3-market-pressure-analysis","label":"3.3 Market Pressure Analysis","html_id":"id-3-3-market-pressure-analysis","implicit":true,"key":"LQY2rfGIPL"}],"key":"DirYtgy1BJ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the chapter Central Place Analysis, spatial economics metrics were calculated, including demand–capacity pressure for each market area. The task of the chapter Market Pressure Analysis is to move from numerical characteristics to spatial ones and to calculate the local pressure on the student housing market and particular student accommodations.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cQRCjKCX8J"}],"key":"t0FpoqoJ2e"}],"key":"FOrQnSFCtS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set Up","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kLYQmzgM1m"}],"identifier":"set-up","label":"Set Up","html_id":"set-up","implicit":true,"key":"zbm7aenJ9E"}],"key":"S0zJTbbWZ3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x32JhcHQ0Q"}],"key":"uKVwBftSij"}],"key":"KMIUQYyKT3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nfrom matplotlib.colors import LinearSegmentedColormap\nimport seaborn as sns\nimport matplotlib.patheffects as path_effects\nfrom matplotlib.colors import ListedColormap\nfrom shapely.ops import unary_union\nimport rasterio\nfrom rasterio import features\nfrom affine import Affine\nfrom scipy.ndimage import gaussian_filter","key":"YmHIPrqb6Z"},{"type":"outputs","id":"ovJqEWIxajqlgPQoCvS3R","children":[],"key":"CK4v2iINPF"}],"key":"wjuwtKWRPw"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Colors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uyuns1KaxV"}],"key":"oXK8fjBMh4"}],"visibility":"remove","key":"BEG7gl4agc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"color_palettes = {\n    \"Mint\": [\"#EAF4E8\", \"#C8E0D4\", \"#A9CCC1\", \"#8FB9AE\", \"#76A79D\", \"#5F968E\", \"#498581\"], \n    \"Pi\": [\"#F8EDEB\", \"#FAE1DD\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\", \"#F08080\"],\n    \"Or\": [\"#FFE5D9\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F49F7D\", \"#F28B6D\"], \n    \"MintPi\": [\"#76A79D\", \"#8FB9AE\", \"#A9CCC1\", \"#C8E0D4\", \"#FBF0EA\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\"],\n    \"MintOr\": [\"#76A79D\", \"#8FB9AE\", \"#A9CCC1\", \"#C8E0D4\", \"#FBF0EA\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F28B6D\"],\n    \"GrSc\":  [\"#434343\", \"#666666\", \"#999999\", \"#b7b7b7\", \"#cccccc\", \"#d9d9d9\", \"#efefef\", \"#f3f3f3\", \"#ffffff\"]\n}\n\ncmap_mint = LinearSegmentedColormap.from_list(\"Mint\", color_palettes[\"Mint\"])\ncmap_pi = LinearSegmentedColormap.from_list(\"Pi\", color_palettes[\"Pi\"])\ncmap_or = LinearSegmentedColormap.from_list(\"Or\", color_palettes[\"Or\"])\ncmap_mintpi = LinearSegmentedColormap.from_list(\"MintPi\", color_palettes[\"MintPi\"])\ncmap_mintor = LinearSegmentedColormap.from_list(\"MintOr\", color_palettes[\"MintOr\"])\ncmap_grsc = LinearSegmentedColormap.from_list(\"GrSc\", color_palettes[\"GrSc\"])","visibility":"show","key":"LoQw5aWcrJ"},{"type":"outputs","id":"nk5SQtj3ZNRr2I0qo4f4h","children":[],"visibility":"show","key":"NITcktMknZ"}],"visibility":"remove","key":"lZphEHBwAo"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Font","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nJ5w6Izmbd"}],"key":"woCGB8G5d4"}],"visibility":"remove","key":"uyQabgYsBq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.rcParams[\"font.family\"] = \"Helvetica\"","visibility":"show","key":"Hv9nGYWLdL"},{"type":"outputs","id":"dFMVBLYVyoLX3KZ8gN1KT","children":[],"visibility":"show","key":"iFeDVmIadM"}],"visibility":"remove","key":"eCzdwnIrRb"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Berlin Spatial Boundaries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S0TgJQKtjW"}],"key":"tJrm8Wzc9i"}],"key":"WooXg5jWsS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pf = r\"../inputs/3.3_market_pressure_analysis/lor_pgr.gpkg\"\npgr = gpd.read_file(pf)\npgr.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nbf = r\"../inputs/3.3_market_pressure_analysis/adm_bz.gpkg\"\nbz = gpd.read_file(bf)\nbz.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nof = r\"../inputs/3.3_market_pressure_analysis/adm_out.gpkg\"\nout = gpd.read_file(of)\nout.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)","key":"XZ30ing1Wr"},{"type":"outputs","id":"Dg9SyGBqxd6sesewrz2ww","children":[],"key":"yMaI7a3UV4"}],"key":"rB9GUprnBN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Import","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GlL7wIFVir"}],"key":"Sy9KIn4qWE"}],"key":"SwWEkRStPV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ff = r\"../inputs/3.3_market_pressure_analysis/market_area_central_place_analysis.gpkg\"\nmarket_area = gpd.read_file(ff)\n\ncf = r\"../inputs/3.3_market_pressure_analysis/central_places.gpkg\"\ncentral_places = gpd.read_file(cf)\n\npf = r\"../inputs/3.3_market_pressure_analysis/pbsa_capacity_analysis.gpkg\"\npbsa_cap = gpd.read_file(pf)","key":"QGEkrTITtA"},{"type":"outputs","id":"wkUD9iHnjJxH0YuR2CFB2","children":[],"key":"v5OUN9dJe2"}],"key":"OYJfk3IhiC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overlap Problem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tnnLERAdON"}],"identifier":"overlap-problem","label":"Overlap Problem","html_id":"overlap-problem","implicit":true,"key":"iaOQbRMzXp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Whereas in the original Central Place, theory market areas do not overlap, in order to analyse the aggregate market pressure on the student housing market, it is necessary to move from the overlapping market areas obtained as a result of the Central Place Analysis (Figure XX) to a more accurate local structure that reflects the aggregate pressure on a particular part of the city.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RR0H2U2GZ4"}],"key":"AiROv2QVcP"}],"key":"Xi2rDOImew"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"market_area['demand_capacity_pressure_rank'] = pd.qcut(\n    market_area['demand_capacity_pressure'],\n    q=5, labels=range(1, 6)   # 1‑5 classes\n)","key":"j7pEsNwUc1"},{"type":"outputs","id":"xEAuckdMnV0TYaHSGYx6Z","children":[],"key":"zZVLYZpYYV"}],"key":"KsQxWPyRzN"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cmap_mint_mini = ListedColormap(cmap_mint(np.linspace(0.15, 1, 256)))\n\nfig, ax = plt.subplots(figsize=(12, 12))\n\npgr.plot(ax=ax, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=ax, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=ax, facecolor='none', edgecolor='#666666', linewidth=1.25)\n\nvmin=0\nvmax=5\n\nmarket_area.plot(\n    ax=ax,\n    column='demand_capacity_pressure_rank',\n    cmap=cmap_mint,\n    edgecolor='none',\n    linewidth=0.3,\n    alpha=0.55,\n    legend=True,\n    legend_kwds={'frameon': False}, \n    label = 'demand capacity pressure rank', \n    vmax = vmax)  # Matching Previous plott\n\nplt.tight_layout()\n\n# sm = plt.cm.ScalarMappable(cmap=cmap_mint_mini, norm=plt.Normalize(vmin, vmax))\n# cbar = fig.colorbar(sm, ax=ax, shrink=0.6)\n# cbar.set_label(\"demand capacity pressure\")\n# cbar.set_ticks(range(vmin, 6))\n# cbar.outline.set_visible(False)\n\nmarket_area.plot(\n    ax=ax,\n    edgecolor='white',  # variable for colormap\n    facecolor=\"none\",        # transparent polygons  # edge colors from your column\n    linewidth=0.3,\n    alpha=1\n)\nplt.tight_layout()\n\ncentral_places.plot(ax=ax,\n           color='#434343',\n           markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nplt.tight_layout()\nfor idx, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    ax.annotate(\n        row['abr'],  # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # position of the point\n        xytext=(0, offset),  # move text upward\n        textcoords='offset points',\n        color='#1b4332',     # dark mint / forest green for good contrast\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\nax.set_title('Market Areas Demand Capacity Pressure', fontsize=16, weight='bold')\nax.set_axis_off()\n\nsave_path = os.path.join(hf, \"Market_Areas_Demand_Capacity_Pressure.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"DKnOb5nrvN"},{"type":"outputs","id":"29MOFX7EkNKu7F4ThHYNA","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"bdd91e8208fae1b61bc46792c1da8841","path":"/rethinking_student_housing/build/bdd91e8208fae1b61bc46792c1da8841.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"CnneuXbF1I"}],"visibility":"show","key":"HPRB4IdZVK"}],"visibility":"show","key":"odwHiGUOby"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Market Areas Demand Capacity Pressure Rank","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EqmnyFClH0"}],"key":"CrL6zw4C6G"}],"key":"NQN3uRVbMu"}],"key":"INzOyVtGfO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Market Areas Demand Capacity Pressure Rank (Figure XX) illustrates that each university forms its own accessibility zone, and these zones naturally overlap. On the one hand, this overlap reflects the real competition for student flows for the same housing stock. On the other hand, it creates analytical complexity: some territories are part of several market areas at the same time, which complicates the interpretation of local pressure.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iUelolxAX2"}],"key":"ssEQbsXD3R"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This is partly due to the fact that, initially, isochrones were calculated using multipolygons, which form complex geometries and consist of several polygon parts. These fragments overlap with each other and with the polygons of other universities.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iJSoexwduL"}],"key":"foKaQCgiPr"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"According to the results of spatial analysis, individual market areas of overlap and are part of at least five different market areas, while particularly central areas, such as parts of the Mitte district, are part of 14 market areas simultaneously. In order to simplify such a dense network of intersecting zones of influence, it is necessary to eliminate overlaps.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SK7iy79Xrl"}],"key":"IiUR5S9tX4"}],"key":"MeJo3vYRMH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"market_area['er_overlap'] = 0\n\n# Calculate overlaps\nfor i, current_poly in market_area.iterrows():\n    overlap_count = 0\n    for j, other_poly in market_area.iterrows():\n        if i != j:  # Don't compare with itself\n            if current_poly.geometry.intersects(other_poly.geometry):\n                overlap_count += 1\n    market_area.at[i, 'er_overlap'] = overlap_count\n\nprint(f\"Overlap Counts Range for Market Areas: {market_area['er_overlap'].min()} to {market_area['er_overlap'].max()}\")\n\nff = r'../outputs/3.3_market_pressure_analysis/market_areas_not_explode_overlap.gpkg'\nmarket_area.to_file(ff, driver=\"GPKG\")","key":"yt5UvD2Mjk"},{"type":"outputs","id":"uYS1NVAOq81Uv7J0RUWh7","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Overlap Counts Range for Market Areas: 5 to 14\n"},"children":[],"key":"z8179j5yw5"}],"key":"Z76dzjT7qQ"}],"key":"ZK04OOASSG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"One way to simplify geometry is to divide complex multipolygon geometry into simple polygons ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HEAjctUjHW"},{"type":"inlineCode","value":"market_area.explode(ignore_index=True)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hIRzckOtV8"},{"type":"text","value":". In this case, polygons intersect between 0 and 51 times.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rbHUSJExgy"}],"key":"LC7POkx8ZV"}],"key":"IpqwL2YovD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"market_area_exp = market_area.explode(ignore_index=True)\n\nmarket_area_exp['er_overlap'] = 0\n\nfor i, current_poly in market_area_exp.iterrows():\n    overlap_count = 0\n    for j, other_poly in market_area_exp.iterrows():\n        if i != j:  \n            if current_poly.geometry.intersects(other_poly.geometry):\n                overlap_count += 1\n    market_area_exp.at[i, 'er_overlap'] = overlap_count\n\nprint(f\"Overlap Counts Range for Exploded Market Areas: {market_area_exp['er_overlap'].min()} to {market_area_exp['er_overlap'].max()}\")","key":"rpMR1h7qUl"},{"type":"outputs","id":"-JnAqrgRH4QVJy-r_Xxo_","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Overlap Counts Range for Exploded Market Areas: 0 to 51\n"},"children":[],"key":"CwUkUXAL0Z"}],"key":"zoCRxNThzt"}],"key":"IvdnSwebuI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This means that in order to switch to simple geometry, it will be necessary to apply the division 51 more times. Such a task is not only difficult in terms of computing power, but will also result in the resulting non-intersecting polygons being extremely small.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DfY1hD7HRX"}],"key":"DE6Io9Ixpw"}],"key":"kPQx3kTprF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Rasterisation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nDtxlGzjNg"}],"identifier":"rasterisation","label":"Rasterisation","html_id":"rasterisation","implicit":true,"key":"LknRRzNo98"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Another way to eliminate the problem of multiple market area overlaps is to switch from vector geometry to raster representation, i.e., to a regular grid of fixed size. Rasterisation allows complex, overlapping polygons to be replaced with a set of uniform pixel cells. Unlike a vector model, where a single territory can belong to several market areas at once, a raster grid forces a unique spatial correspondence: one cell equals one pressure value.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"K1MU8egbl2"}],"key":"MDnuLEWD5M"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The use of a regular 25-meter grid provides a sufficient level of spatial detail to identify micro-zones of local congestion, especially in areas where the density of universities and student accommodation is highest.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kaMXQQbZJZ"}],"key":"r7ZVIAZhLO"}],"key":"n3Iq7nCIjn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"value_col = \"demand_capacity_pressure\"\n\n# Define raster resolution (in meters)\nresolution = 25 \n\n# Bounding box\nminx, miny, maxx, maxy = market_area.total_bounds\n\n# Create transform (affine)\ntransform = Affine.translation(minx, maxy) * Affine.scale(resolution, -resolution)\n\n# Calculate raster shape\nwidth = int((maxx - minx) / resolution)\nheight = int((maxy - miny) / resolution)","key":"V43YxY9xNq"},{"type":"outputs","id":"ayaOIZYoZfUvPMuTjYNc1","children":[],"key":"CXve9m4CYN"}],"key":"d9DLXYKxmZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"raster = np.zeros((height, width), dtype=np.float32)\n\n# For each polygon, add pressure values\nfor _, row in market_area.iterrows():\n    shapes = [(row.geometry, row[value_col])]\n    layer = features.rasterize(\n        shapes=shapes,\n        out_shape=(height, width),\n        transform=transform,\n        fill=0,\n        all_touched=True,\n        dtype=np.float32\n    )\n    raster += layer","key":"jUgT3BcwIX"},{"type":"outputs","id":"M_ka50GtRUuanN3FMM9DV","children":[],"key":"RjbOToYmOb"}],"key":"AyzXpNsCQd"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Demand Capacity Pressure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a6uHVbSrYl"}],"identifier":"demand-capacity-pressure","label":"Demand Capacity Pressure","html_id":"demand-capacity-pressure","implicit":true,"key":"HJF5G3LK61"}],"key":"LS80bgKgVt"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thus, rasterisation can be used to assess Market Areas Local Demand Capacity Pressure (Figure XX).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lz1r271Mjp"}],"key":"uWAlYTfsf9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Local Demand–Capacity Pressure (Figure XX) shows the spatial distribution of the total market pressure arising from the overlap of the catchment areas of all universities. Unlike capacity–demand pressure, which is calculated at the level of individual market areas, this visualisation shows the ‘accumulated’ pressure, reflecting the cumulative effect of student competition for housing resources at each point in the urban area.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pyhyuIl6Qd"}],"key":"dma64x00QE"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The most intense pressure zones are marked in saturated red shades and are concentrated in the central part of the city — primarily in the districts of Mitte, Charlottenburg-Wilmersdorf, and Friedrichshain-Kreuzberg. This core coincides with the spatial location of the largest educational clusters: the University of the Arts Berlin (UAB), University of Europe for Applied Sciences (UEAS), Berlin International University (BIU), Berlin School of Technology (BTS), and School of Economics and Law (HWR_BA). The catchment areas of these universities overlap most densely, which greatly increases the pressure on the limited housing stock in the central districts. It is here that local pressure reaches its maximum values — over 30, which indicates extremely high competition among international students for available places.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VOeaNN1Sqs"}],"key":"yTi6i6s9Kc"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"As move away from the central core, the intensity of the pressure gradually decreases, transitioning into moderate greenish hues. However, the decrease is asymmetrical: in the south-west (Steglitz-Zehlendorf), south-east (Treptow-Köpenick), and partly in the north-east (Pankow), there are still local areas of increased local pressure caused by the influence of the large universities FU, HU, and HTW. At the same time, the districts of Reinickendorf, Spandau, and Marzahn-Hellersdorf show the lowest local pressure values, indicating weak involvement in competition for housing stock and relatively low attractiveness for students.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"y0B4LAajoN"}],"key":"LmQUZFFNqM"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Thus, the local demand–capacity pressure map clearly shows that market tension in the student housing market in Berlin is concentrated and polycentric, reaching its peak in the central ‘education corridor’ and gradually weakening towards the periphery.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"r7FDFDPu3u"}],"key":"dcvkqHMiUd"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Importantly, this visualisation emphasises that the pressure is not generated by individual market areas, but by the overlap of multiple accessibility zones, which explains why it is the concentration of university functions — and not just the local shortage of student accommodation — that is the key driver of market pressure in the central areas of the city.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Zu3ijS6QcS"}],"key":"jjzv9kgrCT"}],"key":"IDM3afw6NG"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(12, 12))\nextent = (minx, maxx, miny, maxy)\n\ncmap_mintpi_mini = ListedColormap(cmap_mintpi(np.linspace(0.15, 1, 256)))\n\n\n# Replace pgr, bz, out with your base layers if needed\npgr.plot(ax=ax, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=ax, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=ax, facecolor='none', edgecolor='#666666', linewidth=1.25)\n\n\n#-----------------------------1-------------------------------------\n\ncentral_places.plot(ax=ax,\n           color='#434343',\n           markersize= 10,\n           alpha=0.85,\n           edgecolor=None,\n           linewidth=1)\nplt.tight_layout()\nfor idx, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    ax.annotate(\n        row['abr'],  # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # position of the point\n        xytext=(0, offset),  # move text upward\n        textcoords='offset points',\n        color='#1b4332',     # dark mint / forest green for good contrast\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\n#-----------------------------2-------------------------------------  \npbsa_cap.plot(ax=ax,\n           color='#434343',\n           markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\n\n#-----------------------------3-------------------------------------  \n                  \nmasked_raster = np.ma.masked_where(raster == 0, raster)\n\nim = ax.imshow(\n    masked_raster,\n    cmap=cmap_mintpi_mini,\n    alpha=0.9,\n    zorder=1\n)\n\nax.imshow(masked_raster, cmap=cmap_mintpi_mini, extent=extent) #, extent=extent\nax.set_title('Market Areas Local Demand Capacity Pressure', fontsize=16, weight='bold')\nax.axis('off') \n\ncbar = plt.colorbar(im, ax=ax, fraction=0.036, pad=0.04)\ncbar.set_label('local demand capacity pressure', fontsize=12)\ncbar.outline.set_visible(False)  # cleaner look\n\nsave_path = os.path.join(hf, \"Market Areas Local Demand Capacity Pressure.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()\nax.set_axis_off()","visibility":"remove","key":"iv7Mv6Vp5C"},{"type":"outputs","id":"BDfclVhMDT5IqIkwt4LVF","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"030c03480753445636c2c04c02d40590","path":"/rethinking_student_housing/build/030c03480753445636c2c04c02d40590.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"ZYwxUmIekF"}],"visibility":"show","key":"aTrN0Up0x5"}],"visibility":"show","key":"I25W3eISFR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Market Areas Local Demand Capacity Pressure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dWuBJ3bIph"}],"key":"pFVWGNtKN5"}],"key":"FlaKDb0M6U"}],"key":"m1ICxdzmpF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"out_raw = r'../outputs/3.3_market_pressure_analysis/market_pressure_sum_raw.tif'","key":"dgNuahsKCf"},{"type":"outputs","id":"vWTCkX9TgnYPn1zGTV5qH","children":[],"key":"G6bTrxKE2t"}],"key":"GixGIrFTzc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Student Accommodation Pressure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ntYodIVvWA"}],"identifier":"student-accommodation-pressure","label":"Student Accommodation Pressure","html_id":"student-accommodation-pressure","implicit":true,"key":"vG8wPVL34h"}],"key":"K3orIgonS5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Import","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hWR3l2dwRk"}],"key":"XVUevpuZP6"}],"key":"ih4wQt9HR3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"out_raw = r'../outputs/3.3_market_pressure_analysis/market_pressure_sum_raw.tif'\n\nwith rasterio.open(out_raw) as src:\n    raster = src.read(1)  # read first band as numpy array\n    transform = src.transform\n    crs = src.crs\n\nef = r\"../inputs/3.3_market_pressure_analysis/pbsa_capacity_analysis.gpkg\"\npbsa_cap = gpd.read_file(ef)\n\npbsa_cap.drop(columns=['link', '!cap_slag', '!cap_std', '!cap_slag_std', 'cluster', 'model', 'color', 'city'], inplace=True, errors='ignore') ","key":"ZGRmOlUG2M"},{"type":"outputs","id":"DniXi_671pZ0eVfkVP-I0","children":[],"key":"KEbT1cPts5"}],"key":"tQadgMFu1F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"coords = [(geom.x, geom.y) for geom in pbsa_cap.geometry]\nwith rasterio.open(out_raw) as src:\n    pbsa_cap[\"local_demand_capacity_pressure\"] = [val[0] for val in src.sample(coords)]\n\npbsa_cap[\"local_demand_capacity_pressure\"] = pbsa_cap[\"local_demand_capacity_pressure\"].round(3)","key":"iVCObdLVHN"},{"type":"outputs","id":"N8zdR0G4arvq_jz_ipmFs","children":[],"key":"XzK70usMqy"}],"key":"GGfSxQZelc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Less Pressured Student Accommodations:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"n8oHyqWXbC"}],"key":"B9eBfaKnLb"}],"key":"UFidRyUEkY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pbsa_cap[pbsa_cap[\"local_demand_capacity_pressure\"] \u003e 0][[\n    \"name\",\n    \"plz\",\n    \"ownership\",\n    \"!cap\",\n    \"ownership_model\",\n    \"cluster_cap\",\n    \"local_demand_capacity_pressure\",\n]].sort_values(\"local_demand_capacity_pressure\").head(10)","key":"Wjrbkke5QL"},{"type":"outputs","id":"6cqBt0id2XAHy93vwyNv0","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"name\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"plz\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"ownership\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!cap\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"ownership_model\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"cluster_cap\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"local_demand_capacity_pressure\",\"rawType\":\"float32\",\"type\":\"float\"}],\"ref\":\"766ea061-fad5-413a-b9ca-10e579fef135\",\"rows\":[[\"86\",\"Walter-Friedländer-Straße Pankow\",\"10249\",\"Berlinovo\",\"285.0\",\"State-Owned\",\"HL\",\"0.738\"],[\"37\",\"Storckower Straße Lichtenberg I\",\"10369\",\"Berlinovo\",\"141.0\",\"State-Owned\",\"HL\",\"0.738\"],[\"31\",\"Rhinstraße Lichtenberg\",\"10315\",\"Berlinovo\",\"800.0\",\"State-Owned\",\"HH\",\"1.167\"],[\"55\",\"WH Aristotelessteig\",\"10318\",\"Studierendenwerk Berlin\",\"913.0\",\"State-Owned\",\"HH\",\"1.167\"],[\"54\",\"WH Allee der Kosmonauten\",\"10315\",\"Studierendenwerk Berlin\",\"298.0\",\"State-Owned\",\"HH\",\"1.167\"],[\"42\",\"Studentenwohnheim Alfred-Jung-Straße\",\"10369\",\"Home in Berlin GmbH\",\"800.0\",\"Privat-Owned\",\"HH\",\"1.167\"],[\"8\",\"Elfriede-Tygör-Straße\",\"10319\",\"Berlinovo\",\"202.0\",\"State-Owned\",\"HL\",\"1.167\"],[\"11\",\"Friedenhorster Straße Friedrichsfelde\",\"10319\",\"Berlinovo\",\"138.0\",\"State-Owned\",\"HL\",\"1.167\"],[\"80\",\"WH Sewanstraße\",\"10319\",\"Studierendenwerk Berlin\",\"700.0\",\"State-Owned\",\"HH\",\"1.167\"],[\"83\",\"WH Storkower Straße (Ferdinand Thomas)\",\"10367\",\"Studierendenwerk Berlin\",\"508.0\",\"State-Owned\",\"HH\",\"1.595\"]],\"shape\":{\"columns\":7,\"rows\":10}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003ename\u003c/th\u003e\n      \u003cth\u003eplz\u003c/th\u003e\n      \u003cth\u003eownership\u003c/th\u003e\n      \u003cth\u003e!cap\u003c/th\u003e\n      \u003cth\u003eownership_model\u003c/th\u003e\n      \u003cth\u003ecluster_cap\u003c/th\u003e\n      \u003cth\u003elocal_demand_capacity_pressure\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e86\u003c/th\u003e\n      \u003ctd\u003eWalter-Friedländer-Straße Pankow\u003c/td\u003e\n      \u003ctd\u003e10249\u003c/td\u003e\n      \u003ctd\u003eBerlinovo\u003c/td\u003e\n      \u003ctd\u003e285.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e0.738\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e37\u003c/th\u003e\n      \u003ctd\u003eStorckower Straße Lichtenberg I\u003c/td\u003e\n      \u003ctd\u003e10369\u003c/td\u003e\n      \u003ctd\u003eBerlinovo\u003c/td\u003e\n      \u003ctd\u003e141.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e0.738\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e31\u003c/th\u003e\n      \u003ctd\u003eRhinstraße Lichtenberg\u003c/td\u003e\n      \u003ctd\u003e10315\u003c/td\u003e\n      \u003ctd\u003eBerlinovo\u003c/td\u003e\n      \u003ctd\u003e800.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e55\u003c/th\u003e\n      \u003ctd\u003eWH Aristotelessteig\u003c/td\u003e\n      \u003ctd\u003e10318\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e913.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e54\u003c/th\u003e\n      \u003ctd\u003eWH Allee der Kosmonauten\u003c/td\u003e\n      \u003ctd\u003e10315\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e298.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e42\u003c/th\u003e\n      \u003ctd\u003eStudentenwohnheim Alfred-Jung-Straße\u003c/td\u003e\n      \u003ctd\u003e10369\u003c/td\u003e\n      \u003ctd\u003eHome in Berlin GmbH\u003c/td\u003e\n      \u003ctd\u003e800.0\u003c/td\u003e\n      \u003ctd\u003ePrivat-Owned\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eElfriede-Tygör-Straße\u003c/td\u003e\n      \u003ctd\u003e10319\u003c/td\u003e\n      \u003ctd\u003eBerlinovo\u003c/td\u003e\n      \u003ctd\u003e202.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003eFriedenhorster Straße Friedrichsfelde\u003c/td\u003e\n      \u003ctd\u003e10319\u003c/td\u003e\n      \u003ctd\u003eBerlinovo\u003c/td\u003e\n      \u003ctd\u003e138.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e80\u003c/th\u003e\n      \u003ctd\u003eWH Sewanstraße\u003c/td\u003e\n      \u003ctd\u003e10319\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e700.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1.167\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e83\u003c/th\u003e\n      \u003ctd\u003eWH Storkower Straße (Ferdinand Thomas)\u003c/td\u003e\n      \u003ctd\u003e10367\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e508.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1.595\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                      name    plz                ownership  \\\n86        Walter-Friedländer-Straße Pankow  10249                Berlinovo   \n37         Storckower Straße Lichtenberg I  10369                Berlinovo   \n31                  Rhinstraße Lichtenberg  10315                Berlinovo   \n55                     WH Aristotelessteig  10318  Studierendenwerk Berlin   \n54                WH Allee der Kosmonauten  10315  Studierendenwerk Berlin   \n42    Studentenwohnheim Alfred-Jung-Straße  10369      Home in Berlin GmbH   \n8                    Elfriede-Tygör-Straße  10319                Berlinovo   \n11   Friedenhorster Straße Friedrichsfelde  10319                Berlinovo   \n80                          WH Sewanstraße  10319  Studierendenwerk Berlin   \n83  WH Storkower Straße (Ferdinand Thomas)  10367  Studierendenwerk Berlin   \n\n     !cap ownership_model cluster_cap  local_demand_capacity_pressure  \n86  285.0     State-Owned          HL                           0.738  \n37  141.0     State-Owned          HL                           0.738  \n31  800.0     State-Owned          HH                           1.167  \n55  913.0     State-Owned          HH                           1.167  \n54  298.0     State-Owned          HH                           1.167  \n42  800.0    Privat-Owned          HH                           1.167  \n8   202.0     State-Owned          HL                           1.167  \n11  138.0     State-Owned          HL                           1.167  \n80  700.0     State-Owned          HH                           1.167  \n83  508.0     State-Owned          HH                           1.595  ","content_type":"text/plain"}}},"children":[],"key":"KTrgi0JTq4"}],"key":"EqdN1DV7t6"}],"key":"EIlVTxZvta"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Less Pressured Student Accommodations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mHI06y7N9H"}],"key":"iaIpX3iDSR"}],"key":"prdZEnyTfJ"}],"key":"ki9GxySIrw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pbsa_cap[pbsa_cap[\"local_demand_capacity_pressure\"] \u003e 0][[\n    \"name\",\n    \"plz\",\n    \"ownership\",\n    \"!cap\",\n    \"ownership_model\",\n    \"cluster_cap\",\n    \"local_demand_capacity_pressure\",\n]].sort_values(\"local_demand_capacity_pressure\", ascending=False).head(10)","key":"vY7BkykI5l"},{"type":"outputs","id":"mEZ3n65zr83FKEbms_uNt","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"name\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"plz\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"ownership\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!cap\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"ownership_model\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"cluster_cap\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"local_demand_capacity_pressure\",\"rawType\":\"float32\",\"type\":\"float\"}],\"ref\":\"99820232-6f1d-4a51-afbf-8521f76c9a67\",\"rows\":[[\"2\",\"Am Mühlenberg\",\"10825\",\"Gewobag\",\"158.0\",\"State-Owned\",\"LL\",\"34.094\"],[\"15\",\"Insider Apartments Berliner Straße\",\"10715\",\"Insider Apartment Community Living GmbH\",\"200.0\",\"Privat-Owned\",\"LL\",\"33.356\"],[\"63\",\"WH Düsseldorfer Straße\",\"10719\",\"Studierendenwerk Berlin\",\"73.0\",\"State-Owned\",\"LL\",\"31.245\"],[\"78\",\"WH Pfalzburgerstraße\",\"10717\",\"Studierendenwerk Berlin\",\"28.0\",\"State-Owned\",\"LL\",\"31.245\"],[\"62\",\"WH Derfflingerstraße (Haus Unger)\",\"10785\",\"Studierendenwerk Berlin\",\"143.0\",\"State-Owned\",\"LL\",\"28.344\"],[\"81\",\"WH Siegmunds Hof\",\"10555\",\"Studierendenwerk Berlin\",\"590.0\",\"State-Owned\",\"LH\",\"28.344\"],[\"17\",\"Insider Apartments Leibniz Straße\",\"10625\",\"Insider Apartment Community Living GmbH\",\"200.0\",\"Privat-Owned\",\"LL\",\"28.344\"],[\"76\",\"WH Nollendorfstraße\",\"10777\",\"Studierendenwerk Berlin\",\"183.0\",\"State-Owned\",\"LL\",\"28.344\"],[\"70\",\"WH Hardenbergstraße\",\"10623\",\"Studierendenwerk Berlin\",\"46.0\",\"State-Owned\",\"LL\",\"28.344\"],[\"47\",\"Studentenwohnheim Walter-May-Haus\",\"13353\",\"Home in Berlin GmbH\",\"276.0\",\"Privat-Owned\",\"NS\",\"27.154\"]],\"shape\":{\"columns\":7,\"rows\":10}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003ename\u003c/th\u003e\n      \u003cth\u003eplz\u003c/th\u003e\n      \u003cth\u003eownership\u003c/th\u003e\n      \u003cth\u003e!cap\u003c/th\u003e\n      \u003cth\u003eownership_model\u003c/th\u003e\n      \u003cth\u003ecluster_cap\u003c/th\u003e\n      \u003cth\u003elocal_demand_capacity_pressure\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eAm Mühlenberg\u003c/td\u003e\n      \u003ctd\u003e10825\u003c/td\u003e\n      \u003ctd\u003eGewobag\u003c/td\u003e\n      \u003ctd\u003e158.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e34.094002\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e15\u003c/th\u003e\n      \u003ctd\u003eInsider Apartments Berliner Straße\u003c/td\u003e\n      \u003ctd\u003e10715\u003c/td\u003e\n      \u003ctd\u003eInsider Apartment Community Living GmbH\u003c/td\u003e\n      \u003ctd\u003e200.0\u003c/td\u003e\n      \u003ctd\u003ePrivat-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e33.355999\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e63\u003c/th\u003e\n      \u003ctd\u003eWH Düsseldorfer Straße\u003c/td\u003e\n      \u003ctd\u003e10719\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e73.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e31.245001\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e78\u003c/th\u003e\n      \u003ctd\u003eWH Pfalzburgerstraße\u003c/td\u003e\n      \u003ctd\u003e10717\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e28.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e31.245001\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e62\u003c/th\u003e\n      \u003ctd\u003eWH Derfflingerstraße (Haus Unger)\u003c/td\u003e\n      \u003ctd\u003e10785\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e143.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e28.344000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e81\u003c/th\u003e\n      \u003ctd\u003eWH Siegmunds Hof\u003c/td\u003e\n      \u003ctd\u003e10555\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e590.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e28.344000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e17\u003c/th\u003e\n      \u003ctd\u003eInsider Apartments Leibniz Straße\u003c/td\u003e\n      \u003ctd\u003e10625\u003c/td\u003e\n      \u003ctd\u003eInsider Apartment Community Living GmbH\u003c/td\u003e\n      \u003ctd\u003e200.0\u003c/td\u003e\n      \u003ctd\u003ePrivat-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e28.344000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e76\u003c/th\u003e\n      \u003ctd\u003eWH Nollendorfstraße\u003c/td\u003e\n      \u003ctd\u003e10777\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e183.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e28.344000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e70\u003c/th\u003e\n      \u003ctd\u003eWH Hardenbergstraße\u003c/td\u003e\n      \u003ctd\u003e10623\u003c/td\u003e\n      \u003ctd\u003eStudierendenwerk Berlin\u003c/td\u003e\n      \u003ctd\u003e46.0\u003c/td\u003e\n      \u003ctd\u003eState-Owned\u003c/td\u003e\n      \u003ctd\u003eLL\u003c/td\u003e\n      \u003ctd\u003e28.344000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e47\u003c/th\u003e\n      \u003ctd\u003eStudentenwohnheim Walter-May-Haus\u003c/td\u003e\n      \u003ctd\u003e13353\u003c/td\u003e\n      \u003ctd\u003eHome in Berlin GmbH\u003c/td\u003e\n      \u003ctd\u003e276.0\u003c/td\u003e\n      \u003ctd\u003ePrivat-Owned\u003c/td\u003e\n      \u003ctd\u003eNS\u003c/td\u003e\n      \u003ctd\u003e27.153999\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                  name    plz  \\\n2                        Am Mühlenberg  10825   \n15  Insider Apartments Berliner Straße  10715   \n63              WH Düsseldorfer Straße  10719   \n78                WH Pfalzburgerstraße  10717   \n62   WH Derfflingerstraße (Haus Unger)  10785   \n81                    WH Siegmunds Hof  10555   \n17   Insider Apartments Leibniz Straße  10625   \n76                 WH Nollendorfstraße  10777   \n70                 WH Hardenbergstraße  10623   \n47   Studentenwohnheim Walter-May-Haus  13353   \n\n                                  ownership   !cap ownership_model  \\\n2                                   Gewobag  158.0     State-Owned   \n15  Insider Apartment Community Living GmbH  200.0    Privat-Owned   \n63                  Studierendenwerk Berlin   73.0     State-Owned   \n78                  Studierendenwerk Berlin   28.0     State-Owned   \n62                  Studierendenwerk Berlin  143.0     State-Owned   \n81                  Studierendenwerk Berlin  590.0     State-Owned   \n17  Insider Apartment Community Living GmbH  200.0    Privat-Owned   \n76                  Studierendenwerk Berlin  183.0     State-Owned   \n70                  Studierendenwerk Berlin   46.0     State-Owned   \n47                      Home in Berlin GmbH  276.0    Privat-Owned   \n\n   cluster_cap  local_demand_capacity_pressure  \n2           LL                       34.094002  \n15          LL                       33.355999  \n63          LL                       31.245001  \n78          LL                       31.245001  \n62          LL                       28.344000  \n81          LH                       28.344000  \n17          LL                       28.344000  \n76          LL                       28.344000  \n70          LL                       28.344000  \n47          NS                       27.153999  ","content_type":"text/plain"}}},"children":[],"key":"VznbQawhUq"}],"key":"Jr2Ge94G2C"}],"key":"e6oJvVCCN1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Most Pressured Student Accommodations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QHrMwgmVWm"}],"key":"BDULnyUNvz"}],"key":"wRNbLtxgEv"}],"key":"sIHXJLennp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"большое давнение прихолитьмя именно на Studierendenwerk Berlin - госудавсвенные общежития","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CRUTOBc2i8"}],"key":"ObVeavXN7K"}],"key":"vyvuAvNwsB"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cmap_mint_mini = ListedColormap(cmap_mint(np.linspace(0.15, 1, 256)))\n\nfig, ax = plt.subplots(figsize=(12, 12))\n\n# Replace pgr, bz, out with your base layers if needed\npgr.plot(ax=ax, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=ax, facecolor='none', edgecolor='#999999', linewidth=0.75)\n# for idx, row in bz.iterrows():\n#     centroid = row['geometry'].centroid\n#     txt = ax.text(\n#         centroid.x, centroid.y,\n#         str(row['namgem']),\n#         fontsize=8, color='#666666', ha='center', va='center'\n#     )\n#     txt.set_path_effects([\n#         path_effects.Stroke(linewidth=2, foreground='white'),\n#         path_effects.Normal()\n#     ])\nout.plot(ax=ax, facecolor='none', edgecolor='#666666', linewidth=1.25)\n\nvmin=0\nvmax=35\n\npbsa_cap.plot(\n    ax=ax,\n    column='local_demand_capacity_pressure',\n    cmap=cmap_mintpi_mini,\n    edgecolor='none',\n    linewidth=0.3,\n    alpha=1,\n    legend=False,\n    vmin = vmin,\n    vmax = vmax)  # Matching Previous plott\n\nplt.tight_layout()\n\ncbar = plt.colorbar(im, ax=ax, fraction=0.036, pad=0.04)\ncbar.set_label('local_demand_capacity_pressure', fontsize=12)\ncbar.outline.set_visible(False)  # cleaner look\n\n# sm = plt.cm.ScalarMappable(cmap=cmap_mintpi_mini, norm=plt.Normalize(vmin, vmax))\n# cbar = fig.colorbar(sm, ax=ax, shrink=0.6)\n# cbar.set_label(\"summed demand capacity pressure\")\n# cbar.set_ticks(range(vmin, 36))\n\n# for _, r in market_area.iterrows():\n#     ax.annotate(str(int(r[\"cntr_hierracy_rank\"])), \n#                 xy=r[\"geometry\"].representative_point().coords[0],\n#                 ha=\"center\", va=\"center\", fontsize=7)\n\n# market_area.plot(\n#     ax=ax,\n#     edgecolor='white',  # variable for colormap\n#     facecolor=\"none\",        # transparent polygons  # edge colors from your column\n#     linewidth=0.3,\n#     alpha=1\n# )\nplt.tight_layout()\n\ncentral_places.plot(ax=ax,\n           color='#434343',\n           markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nplt.tight_layout()\nfor idx, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    ax.annotate(\n        row['abr'],  # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # position of the point\n        xytext=(0, offset),  # move text upward\n        textcoords='offset points',\n        color='#1b4332',     # dark mint / forest green for good contrast\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\n#ax.legend(handles=legend_elements, loc='lower center', ncol=5, frameon=False, prop={'size': 10})\nax.set_title('Student Accommodation Demand Capacity Pressure', fontsize=16, weight='bold')\nax.set_axis_off()\n\nsave_path = os.path.join(hf, \"Student Accommodation Demand Capacity Pressure.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"YsCqRLM8TU"},{"type":"outputs","id":"EvpL_8yfLS31LYHRDs2Q_","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"dd05bc99b4de4c8e60c398783719b646","path":"/rethinking_student_housing/build/dd05bc99b4de4c8e60c398783719b646.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"kYLVmEdBeu"}],"visibility":"show","key":"LXXjelBQGP"}],"visibility":"show","key":"BABUfh7M3U"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Demand Capacity Pressure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SyYNjpDiO1"}],"key":"ByXi6WgkPj"}],"key":"LvFMzoshYA"}],"key":"fsB0gVwxAw"}],"key":"v7W2yb3uRO"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"3.2 Central Place Analysis","url":"/notebooks/central-place-analysis","group":"3. Student Housing Market Imbalance"},"next":{"title":"4.1 Overview","url":"/notebooks/overview-2","group":"4. Students Behind the Numbers"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/rethinking_student_housing/build/manifest-7B0967AD.js";
import * as route0 from "/rethinking_student_housing/build/root-EDJFWIEV.js";
import * as route1 from "/rethinking_student_housing/build/routes/$-AD65NCUT.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/rethinking_student_housing/build/entry.client-PCJPW7TK.js");</script></body></html>