<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>3.2 Central Place Analysis - Rethinking Student Housing in Berlin</title><meta property="og:title" content="3.2 Central Place Analysis - Rethinking Student Housing in Berlin"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/rethinking_student_housing/build/_assets/app-OIHP3NGU.css"/><link rel="stylesheet" href="/rethinking_student_housing/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/rethinking_student_housing/favicon.ico"/><link rel="stylesheet" href="/rethinking_student_housing/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/rethinking_student_housing/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Rethinking Student Housing in Berlin" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/rethinking_student_housing/">Rethinking Student Housing in Berlin</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="0. Prelimitary Pages" class="block break-words rounded py-2 grow cursor-pointer">0. Prelimitary Pages</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="1. Introduction" class="block break-words rounded py-2 grow cursor-pointer">1. Introduction</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2. Capacities, Demand &amp; Spatial Distribution" class="block break-words rounded py-2 grow cursor-pointer">2. Capacities, Demand &amp; Spatial Distribution</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="3. Student Housing Market Imbalance" class="block break-words rounded py-2 grow cursor-pointer">3. Student Housing Market Imbalance</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="4. Students Behind the Numbers" class="block break-words rounded py-2 grow cursor-pointer">4. Students Behind the Numbers</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="5. Data-Driven Decisions" class="block break-words rounded py-2 grow cursor-pointer">5. Data-Driven Decisions</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1upsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1upsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="6. Appendix" class="block break-words rounded py-2 grow cursor-pointer">6. Appendix</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/natashlazarpro/rethinking_student_housing" title="GitHub Repository: natashlazarpro/rethinking_student_housing" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/3.2_central_place_analysis.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">3.2 Central Place Analysis</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block myst-fm-author-comma text-comma"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rb8ucp:" data-state="closed"><span class="myst-fm-author-name">Lazareva Nataliia</span></button></span><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block myst-fm-author-comma text-comma"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd8ucp:" data-state="closed"><span class="myst-fm-author-name">Urban Design M.Sc.</span></button></span><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rf8ucp:" data-state="closed"><span class="myst-fm-author-name">Technical University of Berlin</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="O8VZyJdGql" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import warnings

warnings.filterwarnings(&quot;ignore&quot;)

import os
hf = r&#x27;../outputs/3.2_central_place_analysis/&#x27;
os.makedirs(hf, exist_ok=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="sD3KV3yl7Q5y-w0jB73qJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tZyYmz7MOP" class="myst-jp-nb-block relative group/block"><h1 id="id-3-2-central-place-analysis" class="relative group"><span class="heading-text">3.2 Central Place Analysis</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-2-central-place-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="i5MalItrbi" class="myst-jp-nb-block relative group/block"><p>The chapter Student Housing Market: Capacities, Demand, and Spatial Distribution provides a consistent analysis of two systems: student accommodations and higher education universities.</p><p>To proceed to market analysis, it is necessary to examine how these two systems interact with each other, forming the student accommodation market. Central Place Theory, outlined in the chapter Theoretical Framework, assists in navigating the analysis process.</p></div><div id="I1OKQ23JQV" class="myst-jp-nb-block relative group/block"><h3 id="set-up" class="relative group"><span class="heading-text">Set Up</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-up" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="jDCvTNkHyi" class="myst-jp-nb-block relative group/block"><p>Import Libraries</p></div><div id="GceCvayOB4" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import os
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import matplotlib as mpl
import geopandas as gpd
from shapely.geometry import Point, MultiPoint
from pyproj import CRS
from scipy.stats import norm
from matplotlib.colors import LinearSegmentedColormap
import matplotlib.patheffects as path_effects
import string
import requests
import time
from shapely.geometry import Polygon
import seaborn as sns
from shapely.geometry import MultiPolygon</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="eHsbrKH3zq46AbKe0TjD5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="CKl4novAyU" class="myst-jp-nb-block relative group/block hidden"><p>Colors</p></div><div id="KU0HRoy8nW" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">color_palettes = {
    &quot;Mint&quot;: [&quot;#EAF4E8&quot;, &quot;#C8E0D4&quot;, &quot;#A9CCC1&quot;, &quot;#8FB9AE&quot;, &quot;#76A79D&quot;, &quot;#5F968E&quot;, &quot;#498581&quot;], 
    &quot;Pi&quot;: [&quot;#F8EDEB&quot;, &quot;#FAE1DD&quot;, &quot;#FCD5CE&quot;, &quot;#FEC5BB&quot;, &quot;#F8AD9D&quot;, &quot;#F4978E&quot;, &quot;#F08080&quot;],
    &quot;Or&quot;: [&quot;#FFE5D9&quot;, &quot;#FFD7BA&quot;, &quot;#FEC89A&quot;, &quot;#FFB78F&quot;, &quot;#F49F7D&quot;, &quot;#F28B6D&quot;, &quot;#E1755CFF&quot;],
    &quot;GrSc&quot;:  [&#x27;#EFEFEF&#x27;, &#x27;#D9D9D9&#x27;, &#x27;#CCCCCC&#x27;, &#x27;#B7B7B7&#x27;, &#x27;#999999&#x27;, &#x27;#666666&#x27;, &#x27;#434343&#x27;],
    &quot;MintPi&quot;: [&quot;#76A79D&quot;, &quot;#8FB9AE&quot;, &quot;#A9CCC1&quot;, &quot;#C8E0D4&quot;, &quot;#FBF0EA&quot;, &quot;#FCD5CE&quot;, &quot;#FEC5BB&quot;, &quot;#F8AD9D&quot;, &quot;#F4978E&quot;],
    &quot;MintOr&quot;: [&quot;#76A79D&quot;, &quot;#8FB9AE&quot;, &quot;#A9CCC1&quot;, &quot;#C8E0D4&quot;, &quot;#FBF0EA&quot;, &quot;#FFD7BA&quot;, &quot;#FEC89A&quot;, &quot;#FFB78F&quot;, &quot;#F28B6D&quot;],
    &quot;MiPiOr&quot;: [&#x27;#EAF4E8&#x27;, &#x27;#FAE1DD&#x27;, &#x27;#C8E0D4&#x27;, &#x27;#FFD7BA&#x27;, &#x27;#F8EDEB&#x27;, &#x27;#FCD5CE&#x27;, &#x27;#FFE5D9&#x27;]
}

cmap_mint = LinearSegmentedColormap.from_list(&quot;Mint&quot;, color_palettes[&quot;Mint&quot;])
cmap_pi = LinearSegmentedColormap.from_list(&quot;Pi&quot;, color_palettes[&quot;Pi&quot;])
cmap_or = LinearSegmentedColormap.from_list(&quot;Or&quot;, color_palettes[&quot;Or&quot;])
cmap_mintpi = LinearSegmentedColormap.from_list(&quot;MintPi&quot;, color_palettes[&quot;MintPi&quot;])
cmap_mintor = LinearSegmentedColormap.from_list(&quot;MintOr&quot;, color_palettes[&quot;MintOr&quot;])
cmap_grsc = LinearSegmentedColormap.from_list(&quot;GrSc&quot;, color_palettes[&quot;GrSc&quot;])
cmap_mipior = LinearSegmentedColormap.from_list(&quot;MiPiOr&quot;, color_palettes[&quot;MiPiOr&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="8RkKJHcrnIjYZ-Co0Fb3H" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="lMiJtq46WT" class="myst-jp-nb-block relative group/block hidden"><p>Font</p></div><div id="bWLsaY3TxO" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.rcParams[&quot;font.family&quot;] = &quot;Helvetica&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="iDu6WtGUxtOzqdSC-S0Pd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="iRMrsilAJD" class="myst-jp-nb-block relative group/block"><p>Berlin Spatial Boundaries</p></div><div id="TAYpVmdjbu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pf = r&quot;../inputs/3.2_central_place_analysis/lor_pgr.gpkg&quot;
pgr = gpd.read_file(pf)
pgr.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)

bf = r&quot;../inputs/3.2_central_place_analysis/adm_bz.gpkg&quot;
bz = gpd.read_file(bf)
bz.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)

of = r&quot;../inputs/3.2_central_place_analysis/adm_out.gpkg&quot;
out = gpd.read_file(of)
out.replace({&#x27;-&#x27;: np.nan, 0: np.nan, &#x27;&#x27;: np.nan}, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="e8_d6VLb3Rl6iNQtvCkaM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vljNw5sP35" class="myst-jp-nb-block relative group/block"><p>The analysis of student accommodation capacity and higher education universities’ international student demand data, obtained as a result of Global Spatial Autocorrelation, served as the basis for student housing market research.</p></div><div id="JaHk8ZwTQ3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ef = r&#x27;../inputs/3.2_central_place_analysis/pbsa_capacity_analysis.gpkg&#x27;
pbsa_cap = gpd.read_file(ef)

mf = r&#x27;../inputs/3.2_central_place_analysis/uni_int_demand_analysis.gpkg&#x27;
uni_dem = gpd.read_file(mf, driver=&quot;GPKG&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="i7omfKTzp-yc7B4CQqClE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="AcB5EgWyVV" class="myst-jp-nb-block relative group/block"><h1 id="central-places-definition" class="relative group"><span class="heading-text">Central Places Definition</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#central-places-definition" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="SZUiAIm7Ef" class="myst-jp-nb-block relative group/block"><p>In Central Place Theory King (1986) argue that the idea that there is a smooth and regular progression in urban centres from the smallest up to the largest center - is not a very useful one, and that greater insight can be gained into the nature of an urban pattern by referring to discrete population-size classes.</p><p>Taking this into account, central universities should be defined not as the ‘largest’ in terms of numbers, but as institutions that perform central functions in the urban system. Their significance is determined not so much by the scale of student enrolment as by their functional role, their position in the urban and educational hierarchy, and their ability to serve wider areas of attraction.</p></div><div id="PlBaz2GofU" class="myst-jp-nb-block relative group/block hidden"><p>Cleaning Higher Education Universities Data Set</p></div><div id="xItM2lASFU" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uni_dem = uni_dem.dropna(subset=[&#x27;!s_aus&#x27;])

uni_dem = uni_dem.drop(columns=[&#x27;!s_aus_std&#x27;, &#x27;!s_aus_slag&#x27;, &#x27;!s_aus_slag_std&#x27;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="nk3IU3__Yk1C8_rQPBhuK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YEB4C5xdyf" class="myst-jp-nb-block relative group/block"><p>In order to determine which universities are considered central, the following concerns must be taken into account.</p><p>Firstly, based on spatial economics analysis of university clusters, only High–High (HH), Low–High (LH) and High–Low (HL) clusters are capable of generating sustained high demand in the housing market, fulfilling the functional roles of centres. Meanwhile, Low–Low (LL) clusters do not form centres of demand.</p><p>Secondly, the number of central universities must be limited, as 26 out of 52 universities cannot be central by definition.</p><p>Only by taking this into account can a quantitative test be conducted using the international student demand (<code>!s_aus</code>) threshold.</p></div><div id="Qo2WP4tpV4" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Option 1: Based on percentiles (recommended for your data)
threshold_percentile = np.percentile(np.abs(uni_dem[&#x27;!s_aus&#x27;]), 75)  
# 75th percentile of absolute values
print(f&quot;Option 1 - Percentile-based threshold: {threshold_percentile:.3f}&quot;)
print(f&quot;  (75th percentile of absolute values)&quot;)

# Option 2: Based on standard deviation
std_dev = uni_dem[&#x27;!s_aus&#x27;].std()
threshold_std = 0.5 * std_dev  # 0.5 standard deviations
print(f&quot;Option 2 - Standard deviation-based threshold: {threshold_std:.3f}&quot;) #Standard deviation für alle features 
print(f&quot;  (0.5 * standard deviation)&quot;)

# Option 3: Fixed threshold based on your data range
threshold_fixed = 550.0  # Fixed value appropriate for your range
print(f&quot;Option 3 - Fixed threshold: {threshold_fixed:.3f}&quot;)
print(f&quot;  (Fixed value for your data range)&quot;)

# Option 4: Median-based threshold
median_abs = np.median(np.abs(uni_dem[&#x27;!s_aus&#x27;]))
threshold_median = median_abs * 0.5
print(f&quot;Option 4 - Median-based threshold: {threshold_median:.3f}&quot;)
print(f&quot; (0.5 * median of absolute values)&quot;)

thresholds_to_test = [threshold_percentile, threshold_std, threshold_fixed, threshold_median]

for i, test_threshold in enumerate(thresholds_to_test, 1):
    print(f&quot;\nTest {i}: threshold = {test_threshold:.3f}&quot;)
    
    test_centr = uni_dem[
        (uni_dem[&#x27;cluster&#x27;].isin([&#x27;HL&#x27;, &#x27;HH&#x27;, &#x27;LH&#x27;, &#x27;LL&#x27;,])) &amp; 
        (uni_dem[&#x27;!s_aus&#x27;] &gt;= test_threshold)
        ]

    print(f&quot;Total features: {len(test_centr)}&quot;)
    print(f&quot;Total demand: {test_centr[&#x27;!s_aus&#x27;].sum()}&quot;)

    print(f&quot;Features with cluster = &#x27;NS&#x27;: {len(test_centr[test_centr[&#x27;cluster&#x27;] == &#x27;NS&#x27;])}&quot;)
    print(f&quot;Features with cluster = &#x27;HH&#x27;: {len(test_centr[test_centr[&#x27;cluster&#x27;] == &#x27;HH&#x27;])}&quot;)
    print(f&quot;Features with cluster = &#x27;LH&#x27;: {len(test_centr[test_centr[&#x27;cluster&#x27;] == &#x27;LH&#x27;])}&quot;)
    print(f&quot;Features with cluster = &#x27;HL&#x27;: {len(test_centr[test_centr[&#x27;cluster&#x27;] == &#x27;HL&#x27;])}&quot;)
    print(f&quot;Features with cluster = &#x27;LL&#x27;: {len(test_centr[test_centr[&#x27;cluster&#x27;] == &#x27;LL&#x27;])}&quot;)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_0J93_U5lnpq5Lqpg-SsC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Option 1 - Percentile-based threshold: 414.000
  (75th percentile of absolute values)
Option 2 - Standard deviation-based threshold: 828.251
  (0.5 * standard deviation)
Option 3 - Fixed threshold: 550.000
  (Fixed value for your data range)
Option 4 - Median-based threshold: 51.000
 (0.5 * median of absolute values)

Test 1: threshold = 414.000
Total features: 15
Total demand: 40958.7
Features with cluster = &#x27;NS&#x27;: 0
Features with cluster = &#x27;HH&#x27;: 3
Features with cluster = &#x27;LH&#x27;: 9
Features with cluster = &#x27;HL&#x27;: 3
Features with cluster = &#x27;LL&#x27;: 0

Test 2: threshold = 828.251
Total features: 12
Total demand: 39607.76
Features with cluster = &#x27;NS&#x27;: 0
Features with cluster = &#x27;HH&#x27;: 3
Features with cluster = &#x27;LH&#x27;: 9
Features with cluster = &#x27;HL&#x27;: 0
Features with cluster = &#x27;LL&#x27;: 0

Test 3: threshold = 550.000
Total features: 12
Total demand: 39607.76
Features with cluster = &#x27;NS&#x27;: 0
Features with cluster = &#x27;HH&#x27;: 3
Features with cluster = &#x27;LH&#x27;: 9
Features with cluster = &#x27;HL&#x27;: 0
Features with cluster = &#x27;LL&#x27;: 0

Test 4: threshold = 51.000
Total features: 45
Total demand: 46240.259999999995
Features with cluster = &#x27;NS&#x27;: 0
Features with cluster = &#x27;HH&#x27;: 3
Features with cluster = &#x27;LH&#x27;: 9
Features with cluster = &#x27;HL&#x27;: 19
Features with cluster = &#x27;LL&#x27;: 14
</span></code></pre></div></div></div></div><div id="CHybaOPNam" class="myst-jp-nb-block relative group/block"><p>In order to correctly interpret the Threshold Test, it is necessary to pay attention to the number of universities and their distribution across four spatial clusters.</p><p><strong>Option 1 - Percentile-based threshold: 414,000</strong><br/>With a percentile-based threshold, the upper quarter of the distribution is selected, taking into account three spatial clusters - HH, LH and HL. It also significantly reduces the sample from 52 to 15 universities, fixing the central nodes of the pair. Therefore, this threshold creates a threshold that reflects the real structure of the student housing market. (<code>theshold = threshold_percentile</code>).</p><p><strong>Option 2 - Standard deviation-based threshold: 828.251</strong><br/><strong>Option 3 - Fixed threshold: 550.000</strong><br/>Standard deviation-based and fixed thresholds exclude HL clusters that are early indicators of the development of new student attraction zones.</p><p><strong>Option 4 - Median-based threshold: 51.000</strong><br/>With a median-based threshold, almost all universities become ‘central,’ which devalues the category itself.</p><p>Thus, using the spatial clusters and percentile-based threshold filter, 15 universities (Table XX) were identified as central.</p></div><div id="igK8UIW9Ws" class="myst-jp-nb-block relative group/block"><p>Таким образом, с помошью фильтра по spatial clusters and percentile-based threshold было получено 15 университетов (Table XX), которые являються центральными.</p></div><div id="VfGTmMjQUA" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">central_places = uni_dem[
    (uni_dem[&#x27;cluster_aus&#x27;].isin([&#x27;HL&#x27;, &#x27;HH&#x27;, &#x27;LH&#x27;])) &amp; 
    (uni_dem[&#x27;!s_aus&#x27;] &gt;= threshold_percentile)
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hdJMI5vljA15yXxR1UHmz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="PEAZ7xgroQ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">central_places[[
    &quot;code&quot;,
    &quot;abr&quot;,
    &quot;name&quot;,
    &quot;own&quot;,
    &quot;cluster&quot;,
    &quot;!s_aus&quot;
]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZIox-N0JaI6m3-FQ7reob" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="K390BFOTZG" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Central Higher Education Universities</em></p></div><div id="zbLtNmmhTL" class="myst-jp-nb-block relative group/block"><h1 id="market-areas-definition" class="relative group"><span class="heading-text">Market Areas Definition</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#market-areas-definition" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="PvilC3x5CW" class="myst-jp-nb-block relative group/block"><p>Once the central universities have been identified, the next step is to define market areas that jointly reflect data on higher education universities’ international demand and student accommodation capacity. As noted in the Overview chapter, there are several approaches to combining these data. Here are three primary approaches.</p><p>The first approach is to use Berlin’s existing administrative boundaries, such as Life-Oriented Spaces (LOR - Lebensweltlich Orientierte Räume) or their sub-level Neighbourhood Districts (BZR - Bezirksregionen). However, this method creates significant gaps: many areas end up “empty” because they have neither universities nor student accommodation. This indicates that neighbourhood districts are too small for analysing the urban supply and demand system. The next level, Prognosis Areas (PGR), on the contrary, is too large and aggregates too heterogeneous areas. Thus, the existing life-oriented spaces do not reflect the real geography of the student housing market.</p><p>The second approach is to build buffer zones around central universities, creating new geometries for spatial data integration. However, due to Berlin’s heterogeneous morphology, it is impossible to correctly determine a universal buffer distance. In addition, this method results in all market areas being the same size, which contradicts the actual structure of urban accessibility and central place theory.</p><p>The third approach is to use accessibility isochrones, i.e., zones formed on the basis of actual travel time. Unlike administrative boundaries or fixed buffers, isochrones reflect the actual spatial relationship  and student mobility. This allows for the creation of flexible and functionally relevant market areas in which supply and demand can be matched more accurately.</p><p>To construct accessibility isochrones, the study used the Travel Time API service, which allows modelling reachability zones based on real-time travel. A distinctive feature of the Travel Time service is the ability to generate isochrones based on public transport estimates (<code>‘type’: ‘public_transport’</code>).</p><p>Below is an example of using the Travel Time API to create 15-minute accessibility zones (<code>travel_time = 900</code>).</p></div><div id="WkkVTchqpn" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># url = &#x27;https://api.traveltimeapp.com/v4/time-map&#x27;

# tt_app_id = &#x27;my_app_id&#x27;
# tt_api_key = &#x27;my_api_key&#x27;

# headers = {
#     &#x27;content-type&#x27;: &#x27;application/json&#x27;,
#     &#x27;x-application-id&#x27;: tt_app_id,
#     &#x27;x-api-key&#x27;: tt_api_key
# }

# travel_time = 900 # 15 minutes

# for idx, row in central_places.iterrows():
#     lon = float(row[&#x27;lon&#x27;])
#     lat = float(row[&#x27;lat&#x27;])

#     payload = {
#         &quot;arrival_searches&quot;: [
#             {
#                 &quot;id&quot;: f&quot;iso_{idx}&quot;,
#                 &quot;coords&quot;: {&quot;lat&quot;: lat, &quot;lng&quot;: lon},
#                 &quot;arrival_time&quot;: &quot;2025-08-13T09:00:00+01:00&quot;,
#                 &quot;travel_time&quot;: travel_time,
#                 &quot;transportation&quot;: {&quot;type&quot;: &quot;public_transport&quot;, &quot;disable_border_crossing&quot;: True } 
#             }
#         ]
#     }

#     resp = requests.post(url, json=payload, headers=headers)
#     print(f&quot;request {idx}: {resp.status_code} {resp.reason} for location {[lon, lat]}&quot;)

#     if resp.ok:
#         data = resp.json()
#         for res in data.get(&#x27;results&#x27;, []):
#             search_id = res.get(&#x27;search_id&#x27;)
#             for shp in res.get(&#x27;shapes&#x27;, []):
#                 shell = shp.get(&#x27;shell&#x27;, [])
#                 if not shell:
#                     continue
#                 coords = [(pt[&#x27;lng&#x27;], pt[&#x27;lat&#x27;]) for pt in shell]
#                 if coords and coords[0] != coords[-1]:
#                     coords.append(coords[0])
#                 poly = Polygon(coords)
#                 g = gpd.GeoDataFrame([{&#x27;geometry&#x27;: poly, &#x27;tt_id&#x27;: search_id, 
#                                       &#x27;origin_lon&#x27;: lon, &#x27;origin_lat&#x27;: lat}],
#                                       crs=&#x27;EPSG:4326&#x27;)
#                 iso_gdf = gpd.GeoDataFrame(pd.concat([iso_gdf, g], 
#                                                       ignore_index=True, 
#                                                       sort=False))

#         time.sleep(15)

# print(f&quot;got {len(iso_gdf)} isochrone polygons.&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WjTKHwr107s6Zm_gB2_e-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="lNZT2LgECo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># iso_gdf[&quot;geometry&quot;] = iso_gdf[&quot;geometry&quot;].buffer(0)
# iso_gdf.to_crs(epsg=25833)

# ef = r&quot;../outputs/3.2_central_place_analysis/iso_without_data_15_min.gpkg&quot;
# iso_gdf.to_file(ef, driver=&quot;GPKG&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="l_w2TgSGx0tlg5ZL1AWha" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="BRxQjTlYDd" class="myst-jp-nb-block relative group/block"><h1 id="travel-time-test" class="relative group"><span class="heading-text">Travel Time Test</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#travel-time-test" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="lA4kVL41AG" class="myst-jp-nb-block relative group/block"><p>Since isochrones are sensitive to travel time, a travel time test was conducted (Figure XX) to determine market areas where travel time varied from 10 to 35 minutes with 5-minute intervals (<code>isochrone_times = [10, 15, 20, 25, 30, 35]</code>).</p></div><div id="iEXwuqOHkH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define isochrone time ranges
isochrone_times = [10, 15, 20, 25, 30, 35]
base_path = &quot;../outputs/3.2_central_place_analysis&quot;

# Initialize results storage
results_summary = []
pbsa_market_summary = None
iso_dem_ready = None 
pbsa_cap_ready = None
summary_df = None</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="gmRMKAFrpuYqJkdUS_-Bi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YGRxzRKKc5" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">total_capacity_complete = pbsa_cap[&quot;!cap&quot;].sum()
total_demand_complete = uni_dem[&quot;!s_aus&quot;].sum()

pbsa_cap = pbsa_cap.to_crs(&quot;EPSG:25833&quot;)
central_places = central_places.to_crs(&quot;EPSG:25833&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZS7TYw0pqmtVySSkSw-SU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ZJ94FNapM6" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">n_rows, n_cols = 3, 2   
fig, axs = plt.subplots(
    nrows=n_rows,
    ncols=n_cols,
    figsize=(9 * n_cols, 6 * n_rows)
)

for idx, time_min in enumerate(isochrone_times):
    r, c = divmod(idx, n_cols)         
    ax = axs[r, c]

    file_path = os.path.join(base_path, f&quot;iso_without_data_{time_min}_min.gpkg&quot;)
    market = gpd.read_file(file_path).to_crs(&quot;EPSG:25833&quot;)


    pgr.plot(ax=ax,facecolor=&#x27;none&#x27;,edgecolor=&#x27;#cccccc&#x27;,linewidth=0.5,linestyle=&#x27;--&#x27;)
    bz.plot(ax=ax,facecolor=&#x27;none&#x27;,edgecolor=&#x27;#999999&#x27;,linewidth=0.75)
    out.plot(ax=ax,facecolor=&#x27;none&#x27;,edgecolor=&#x27;#666666&#x27;,linewidth=1)

    market.plot(
        ax=ax,
        color=&quot;#FEC5BB&quot;,          #.reversed()   # &lt;-- choose any matplotlib colormap
        alpha=0.35,
        edgecolor=&#x27;white&#x27;,
        linewidth=1,
        legend=True,
        legend_kwds={&#x27;shrink&#x27;: 0.6, &#x27;label&#x27;: &quot;demand‑capacity pressure&quot;}
    )

    letter = string.ascii_lowercase[idx]  # &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, …
    ax.set_title(f&quot;{letter}. Travel Time – {time_min} minutes&quot;, fontsize=12, pad=8, fontweight=&#x27;bold&#x27;)
    ax.set_axis_off()
    plt.tight_layout()

save_path = os.path.join(hf, &quot;Travel Time Test.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Y-NKDp2wJ-u5zjBAgy8Lm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/45949f69f37e9f5a26be3666e3add5b8.png" alt="&lt;Figure size 1800x1800 with 6 Axes&gt;"/></div></div></div><div id="AFOgmL90yM" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Travel-Time API Test</em></p></div><div id="IZMFEagI7K" class="myst-jp-nb-block relative group/block"><p>When constructing isochrones, it is important to correctly interpret the allocation of student housing capacity and higher education universities demand.</p><p>The allocation of student accommodations is performed using a spatial join between points and isochrone polygons. Since one student accommodations facility may be located within the catchment area of several universities, directly assigning its full capacity to each area would lead to a significant overestimation of supply. To avoid double-counting, each student accommodation facility first receives information about the number of isochrones in which it is located, after which its capacity is divided equally among all relevant areas. The adjusted values are then aggregated at the market area level. This approach allows for the correct distribution of available housing in accordance with the actual spatial structure of accessibility, taking into account the overlap of the areas of influence of different universities.</p><p>Similar to the distribution of dormitories, university demand (number of German students (<code>!s_de</code>), number of foreign students (<code>!s_aus</code>) and total number of students (<code>!s_all</code>)) is assigned to isochrones based on the principle of spatial intersection. Universities may also lie within several isochrones, especially when accessibility times are long (30–35 minutes). Therefore, the demand for each university is divided among all the zones within which it falls. This method eliminates artificial doubling of demand and creates a balanced distribution that reflects the real impact of universities on the housing market within their accessibility zones. The final demand values are aggregated at the market area level and can be compared with the distributed student accommodation capacity.</p></div><div id="THErzdSQfk" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">for time_min in isochrone_times:
    # Load isochrone data
    iso_file = f&quot;{base_path}/iso_without_data_{time_min}_min.gpkg&quot;
    iso_gdf = gpd.read_file(iso_file)
    
    # Reproject immediately
    if iso_gdf.crs != &quot;EPSG:25833&quot;:
        iso_gdf = iso_gdf.to_crs(&quot;EPSG:25833&quot;)

    # Build multipolygons per tt_id 
    iso_multi = (
        iso_gdf.groupby([&quot;tt_id&quot;, &quot;origin_lon&quot;, &quot;origin_lat&quot;])
        .geometry.apply(lambda g: MultiPolygon([geom for geom in g]))
        .reset_index()
    )
    iso_multi_gdf = gpd.GeoDataFrame(iso_multi, geometry=&quot;geometry&quot;, crs=&quot;EPSG:25833&quot;)

    # Prepare central places (no geometry needed for merge)
    central_places_no_geom = central_places.drop(columns=&quot;geometry&quot;)
    central_places_no_geom[&quot;lon&quot;] = central_places_no_geom[&quot;lon&quot;].astype(float)

    # Merge on origin_lon/lon
    iso_multi_gdf[&quot;origin_lon&quot;] = iso_multi_gdf[&quot;origin_lon&quot;].astype(float)
    iso_dem = iso_multi_gdf.merge(
        central_places_no_geom,
        left_on=&quot;origin_lon&quot;,
        right_on=&quot;lon&quot;
    )
    iso_dem = gpd.GeoDataFrame(iso_dem, geometry=&quot;geometry&quot;, crs=&quot;EPSG:25833&quot;)
    iso_dem = iso_dem.drop(columns=[&quot;origin_lon&quot;, &quot;url&quot;])
    iso_dem[&quot;geometry&quot;] = iso_dem[&quot;geometry&quot;].buffer(0)   # fix invalids

    # From here everything is already in EPSG:25833
    pbsa_cap_ready = pbsa_cap.copy()
    if &quot;pbsa_id&quot; not in pbsa_cap_ready.columns:
        pbsa_cap_ready[&quot;pbsa_id&quot;] = pbsa_cap_ready.index
    
    iso_dem_ready = iso_dem.copy()
    if &quot;iso_id&quot; not in iso_dem_ready.columns:
        iso_dem_ready[&quot;iso_id&quot;] = iso_dem_ready.index
    
    uni_dem = uni_dem.copy()
    if &#x27;uni_id&#x27; not in uni_dem.columns:
        uni_dem[&#x27;uni_id&#x27;] = uni_dem.index

    # PBSA allocation
    join_pbsa = gpd.sjoin(pbsa_cap_ready, iso_dem_ready, how=&quot;inner&quot;, predicate=&quot;intersects&quot;)
    n_iso_pbsa = join_pbsa.groupby(&quot;pbsa_id&quot;)[&quot;iso_id&quot;].nunique().rename(&quot;n_iso_pbsa&quot;)
    join_pbsa = join_pbsa.merge(n_iso_pbsa, left_on=&quot;pbsa_id&quot;, right_index=True, how=&quot;left&quot;)
    cap_cols = [&quot;!cap&quot;]
    for c in cap_cols:
        join_pbsa[f&quot;{c}_sum&quot;] = join_pbsa[c] / join_pbsa[&quot;n_iso_pbsa&quot;]
    iso_alloc_pbsa = (
        join_pbsa.groupby(&quot;iso_id&quot;)[[f&quot;{c}_sum&quot; for c in cap_cols]]
        .sum().reset_index()
    )
    
    # --- UNI allocation ---
    join_uni = gpd.sjoin(uni_dem, iso_dem_ready, how=&#x27;inner&#x27;, predicate=&#x27;intersects&#x27;)
    n_iso_uni = join_uni.groupby(&#x27;uni_id&#x27;)[&#x27;iso_id&#x27;].nunique().rename(&#x27;n_iso_uni&#x27;)
    join_uni = join_uni.merge(n_iso_uni, left_on=&#x27;uni_id&#x27;, right_index=True, how=&#x27;left&#x27;)
    dem_cols = [&#x27;!s_aus_left&#x27;, &#x27;!s_de_left&#x27;, &#x27;!s_all_left&#x27;]
    for c in dem_cols:
        join_uni[f&#x27;{c}_sum&#x27;] = join_uni[c] / join_uni[&#x27;n_iso_uni&#x27;]
    iso_alloc_uni = (join_uni.groupby(&#x27;iso_id&#x27;)[[f&#x27;{c}_sum&#x27; for c in dem_cols]]
                 .sum()
                 .reset_index())
    
    # Merge results
    market_area = iso_dem_ready.merge(iso_alloc_pbsa, on=&quot;iso_id&quot;, how=&quot;left&quot;)
    market_area = market_area.merge(iso_alloc_uni, on=&quot;iso_id&quot;, how=&quot;left&quot;)
    
    market_area = market_area.rename(columns={
        &quot;!s_aus_left_sum&quot;: &quot;!s_aus_sum&quot;,
        &quot;!s_de_left_sum&quot;: &quot;!s_de_sum&quot;,
        &quot;!s_all_left_sum&quot;: &quot;!s_all_sum&quot;,
    })
    
    # Ratios
    market_area[&quot;capacity_demand_ratio&quot;] = (
        market_area[&quot;!cap_sum&quot;] / market_area[&quot;!s_aus_sum&quot;].replace(0, np.inf)
    )
    market_area[&quot;demand_capacity_pressure&quot;] = (
        market_area[&quot;!s_aus_sum&quot;] / market_area[&quot;!cap_sum&quot;].replace(0, np.inf)
    )
    market_area[&quot;area&quot;] = market_area.geometry.area / 1e6 # in sq km
    
    # PBSA count
    pbsa_pts = pbsa_cap_ready.copy()
    wb = gpd.sjoin(pbsa_pts, market_area[[&quot;iso_id&quot;, &quot;geometry&quot;]], how=&quot;inner&quot;, predicate=&quot;within&quot;)
    pbsa_counts = wb.groupby(&quot;iso_id&quot;).size()
    market_area[&quot;pbsa_count&quot;] = market_area[&quot;iso_id&quot;].map(pbsa_counts).fillna(0).astype(int)

    # Uni Count 
    uni_pts = uni_dem.copy()   # again, geometry is already active
    # Spatial join: UNI point within isochrone polygon
    wb = gpd.sjoin(uni_pts, market_area[[&#x27;iso_id&#x27;, &#x27;geometry&#x27;]], how=&#x27;inner&#x27;, predicate=&#x27;within&#x27;)
    # Count UNI per iso_id
    uni_counts = wb.groupby(&#x27;iso_id&#x27;).size()
    # Attach to market_area – fill missing with 0
    market_area[&#x27;uni_count&#x27;] = market_area[&#x27;iso_id&#x27;].map(uni_counts).fillna(0).astype(int)
    
    # Travel time
    market_area[&quot;travel_time_min&quot;] = time_min
    
    #Cleaning 
    market_area[&#x27;cluster&#x27;] = market_area[&#x27;cluster&#x27;].map({
    &#x27;HH&#x27;: &#x27;High-High (HH)&#x27;,
    &#x27;HL&#x27;: &#x27;High-Low (HL)&#x27;, 
    &#x27;LH&#x27;: &#x27;Low-High (LH)&#x27;,
    &#x27;LL&#x27;: &#x27;Low-Low (LL)&#x27;,
    &#x27;NS&#x27;: &#x27;Not Significant (NS)&#x27;
    })
    columns_to_drop = [&#x27;origin_lat&#x27;, &#x27;origin_lon&#x27;, &#x27;cluster_aus&#x27;, &#x27;iso_id&#x27;, &#x27;lon&#x27;]
    market_area = market_area.drop(columns=columns_to_drop, errors=&#x27;ignore&#x27;)

    # Save
    output_file = f&quot;{base_path}/market_areas_{time_min}_min.gpkg&quot;
    market_area.to_file(output_file, driver=&quot;GPKG&quot;)
    
    # Summary stats
    total_capacity_inside = market_area[&quot;!cap_sum&quot;].sum()
    total_demand_inside = market_area[&quot;!s_aus_sum&quot;].sum()

    uncovered_demand = total_demand_complete - total_demand_inside
    unused_capacity = total_capacity_complete - total_capacity_inside
    
    results_summary.append({
        &quot;travel_time_min&quot;: time_min,
        &quot;total_capacity_inside&quot;: total_capacity_inside,
        &quot;total_demand_inside&quot;: total_demand_inside,
        &quot;uncovered_demand&quot;: uncovered_demand,
        &quot;unused_capacity&quot;: unused_capacity,
        # &quot;market_areas_count&quot;: len(market_area),
        # &quot;market_areas_with_capasity&quot;: len(market_area[market_area[&#x27;!cap_sum&#x27;].notnull()]),
    })</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="UGX3wIJTEX9j1LVSu5tQF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="E4lbGUhSZB" class="myst-jp-nb-block relative group/block"><p>By changing the time thresholds, it is possible to check the stability of market areas: whether the structure of supply and demand zones changes or remains stable. To do this, at the final stage, a summary of key indicators is formed for each tested time of availability, allowing us to assess how effectively the formed market areas reflect the real structure of supply and demand. The table (Table XX) contains: the total capacity of dormitories that fall within the isochrones (<code>total_capacity_inside</code>) and the total university demand covered by these same areas (<code>total_demand_inside</code>).</p></div><div id="fdvBhamzxa" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create summary DataFrame
summary_df = []

summary_df = pd.DataFrame(results_summary).round(1)

summary_df.sort_values(&quot;travel_time_min&quot;, inplace=True)

summary_df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZqzRvDKg8HbNDsr_OfgZw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Kd2ZMmuc8B" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Travel Time Summary Statistics</em></p></div><div id="GsEfGyYCoH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">output_path = r&quot;../outputs/3.2_central_place_analysis/market_area_travel_time.xlsx&quot; 
with pd.ExcelWriter(output_path, engine=&#x27;openpyxl&#x27;) as writer:
    summary_df.to_excel(writer, sheet_name=&#x27;base&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="K-5K7w_5g8ocKzKCB8Rzw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="a1WMvZ1eMQ" class="myst-jp-nb-block relative group/block"><p>Comparing these indicators between different time thresholds (10–35 minutes) (Figure XX) allows us to determine the optimal radius of market influence of universities, as well as to identify structural imbalances between supply and demand associated with spatial constraints. This approach provides a quantitative basis for selecting the isochrone threshold and correctly forming market areas.</p></div><div id="sWGlfRihh4" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Get the total values for percentage calculation
total_demand_complete = uni_dem[&#x27;!s_aus&#x27;].sum()  # You&#x27;ll need to load uni_dem data
total_capacity_complete = pbsa_cap[&#x27;!cap&#x27;].sum()

# Create the figure and axis
fig, ax = plt.subplots(figsize=(12, 12))

# Set up the bar positions
x = np.arange(len(summary_df))
width = 0.35

# Calculate percentages
demand_percentages = (summary_df[&#x27;total_demand_inside&#x27;] / total_demand_complete) * 100
capacity_percentages = (summary_df[&#x27;total_capacity_inside&#x27;] / total_capacity_complete) * 100


demand_coeffs    = np.polyfit(x, demand_percentages, 1)
capacity_coeffs  = np.polyfit(x, capacity_percentages, 1)

# Prepare a smooth x array for plotting the line
x_smooth = np.linspace(-0.5, len(summary_df)-0.5, 200)

# Evaluate the fitted lines
demand_trend    = np.polyval(demand_coeffs, x_smooth)
capacity_trend  = np.polyval(capacity_coeffs, x_smooth)

# Plot the trend lines
ax.plot(x_smooth, demand_trend,   color=&#x27;#F08080&#x27;,   lw=1.5, linestyle=&#x27;--&#x27;, label=&#x27;demand trend&#x27;)
ax.plot(x_smooth, capacity_trend, color=&#x27;#F49F7D&#x27;, lw=1.5, linestyle=&#x27;--&#x27;, label=&#x27;capacity trend&#x27;)

# Create bars
demand_bars = ax.bar(x - width/2, demand_percentages, width, label=&#x27;total demand inside&#x27;, 
                     color=&#x27;#FAE1DD&#x27;, alpha=1, linewidth=1)
capacity_bars = ax.bar(x + width/2, capacity_percentages, width, label=&#x27;total capasity inside&#x27;, 
                       color=&#x27;#FFD7BA&#x27;, alpha=1,  linewidth=1)



# Prepare a smooth x array for plotting the line
x_smooth = np.linspace(-0.5, len(summary_df)-0.5, 200)

# Customize the plot
ax.set_ylim(0, 101)                # a bit of head‑room for the trend lines
ax.set_yticks(np.arange(0, 101, 10))   # 0,10,20,...,100
ax.set_xlabel(&#x27;travel time&#x27;)
ax.set_ylabel(&#x27;percentage of total&#x27;)
ax.set_title(&#x27;Market Areas Demand-Capacity Coverage by Travel Time&#x27;, fontsize=12, pad=8, fontweight=&#x27;bold&#x27;)
ax.set_xticks(x)
ax.set_xticklabels(summary_df[&#x27;travel_time_min&#x27;])
plt.legend(loc=&#x27;best&#x27;, frameon=False)
ax.grid(True, alpha=0.3, axis=&#x27;y&#x27;)

# Add percentage labels on bars
def add_labels(bars, percentages):
    for bar, percentage in zip(bars, percentages):
        height = bar.get_height()
        ax.text(bar.get_x() + bar.get_width()/2., height + 0.5,
                f&#x27;{percentage:.0f}%&#x27;, ha=&#x27;center&#x27;, va=&#x27;bottom&#x27;, fontsize=10)

add_labels(demand_bars, demand_percentages)
add_labels(capacity_bars, capacity_percentages)

plt.tight_layout()

save_path = os.path.join(hf, &quot;Market Areas Demand-Capacity Coverage by Travel Time.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XhAmehdoO07yLxuLaEaZR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/2c1b49220938c8317675d305072cc7f8.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="XobG7pojI0" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Market Areas Demand-Capacity Coverage by Travel Time</em></p></div><div id="l16RLhrtMF" class="myst-jp-nb-block relative group/block"><p>The results of the travel time test demonstrate that increasing the time threshold for accessibility significantly affects the degree of coverage of university demand and the capacity of student housing included in market areas. However, the effect grows unevenly, and it is precisely this dynamic that allows us to determine the optimal travel time value.</p><p>First, at thresholds of 10–25 minutes, there is a significant discrepancy between the share of demand covered and the share of capacity included. For example, at 25 minutes, the market already covers 96% of total demand, but only 59% of housing capacity. This imbalance indicates that with short isochrones, a significant portion of dormitories remain formally ‘outside the market,’ which leads to artificially inflated estimates of the deficit and local market pressure.</p><p>Secondly, starting at 30 minutes, the volume of included capacity increases sharply, reaching 69%, and by 35 minutes, 80%, which reflects a significant improvement in the spatial correspondence between university demand and student accommodation capacity. At the same time, there is no further noticeable growth in demand coverage: even at 20 minutes, more than 94% of student demand is covered, and at 30–35 minutes, 97%. This means that an increase in travel time in this range mainly affects the housing supply rather than changing the demand pattern.</p><p>Thus, the 35-minute threshold represents an optimal compromise.</p><p>Moreover, according to a study by Menz &amp; Mandl (2024), students studying mostly in person spend 5 hours more per week on study-related activities compared to students studying mostly online. Thus, it can be concluded that full-time students spend an additional 5 hours per week commuting, which is equivalent to approximately 1 hour per day or 30 minutes each way.</p></div><div id="tEdVXPHKcV" class="myst-jp-nb-block relative group/block"><h1 id="market-areas-analysis" class="relative group"><span class="heading-text">Market Areas Analysis</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#market-areas-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="SlAjSoJt0J" class="myst-jp-nb-block relative group/block"><p>Spatial economics and central place metrics were used to analyse market areas (Table XX).</p></div><div id="i6eFcpBo5z" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[[
    &quot;code&quot;,
    &quot;name&quot;,
    &quot;own&quot;,
    &quot;cluster&quot;,
    &quot;!cap_sum&quot;,
    &quot;!s_aus_sum&quot;,
    &quot;!s_de_sum&quot;,
    &quot;!s_all_sum&quot;
]].round(1)

#market_area.describe().round(1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_Wh1LOjHhXkCzOQlK-u9d" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="xQY11stHGd" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Market Areas</em></p></div><div id="mI8LImqKzM" class="myst-jp-nb-block relative group/block"><h2 id="spatial-economics-metrics" class="relative group"><span class="heading-text">Spatial Economics Metrics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spatial-economics-metrics" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Spatial Economics indicators are important for further calculation of capacity–demand balance and central place metrics.</p><p><strong>Capacity–Demand Ratio</strong><br/>This indicator reflects the ratio between the supply of student housing and university demand within each market area. It is calculated as the share of the total capacity of all student accommodation  in the market area relative to the total demand from international students (<code>market_area[‘capacity_demand_ratio’] = !cap_sum / !s_aus_sum</code>).
High ratio values indicate areas with a relative oversupply, while low values indicate a shortage of housing relative to demand. This indicator helps to identify areas where the market is potentially balanced or, conversely, under the pressure.</p><p><strong>Demand–Capacity Pressure</strong><br/>This indicator is the inverse ratio and is calculated as the share of total university demand relative to student housing capacity (<code>market_area[‘demand_capacity_pressure’] = !s_aus_sum / !cap_sum</code>). It is interpreted as the degree of market pressure: the higher the value, the greater the load on the available supply and the more acute the shortage.</p><p><strong>Number of Student Accommodations</strong><br/>This indicator determines how many student accommodation facilities are located within a specific market area (<code>pbsa_counts = wb.groupby(‘iso_id’).size()</code>).</p><p><strong>Number of Higher Education Universities</strong><br/>This indicator reflects how many higher education institutions fall within the boundaries of the market area (<code>uni_counts = wb.groupby(“iso_id”).size()</code>).</p><p><strong>Market Area Size</strong><br/>The area of each market area is calculated as the area of its geometry in square kilometres (<code>market_area[‘area’] = market_area.geometry.area / 1e6</code>).</p></div><div id="rvtSI4PR4g" class="myst-jp-nb-block relative group/block"><p>The main result of the analysis of spatial economic metrics is the capacity–demand balance (Figure XX), which allows for a direct comparison of the aggregate demand of international students within each market area with the available supply of places in student accommodation.</p><p>As can be seen in the graph, in the vast majority of university market areas, university international demand significantly exceeds available student accommodation capacity. Almost all points are below the ideal equilibrium line (45°), indicating a structural supply shortage and systemic pressure on the student housing market. The size of the points reflects the degree of pressure on a particular university. The smallest pressure is on the market area formed by SRH Berlin University of Applied Sciences, where capacity exceeds demand. The greatest pressure is on the market area formed by the University of Business and Law, where demand exceeds capacity by 6.2 times.</p></div><div id="yLPmdMXOIZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">demand_median = market_area[&#x27;!s_aus_sum&#x27;].median()
capacity_median = market_area[&#x27;!cap_sum&#x27;].median()

mpl.rcParams[&#x27;font.family&#x27;] = &#x27;Helvetica&#x27;

# Plot
f, ax = plt.subplots(1, figsize=(12, 12))
x_min, x_max = 0, 6000  # For capacity_demand_ratio.clip(0, 5)
y_min, y_max = 0, 6000  

ax.scatter(market_area[&#x27;!s_aus_sum&#x27;], market_area[&#x27;!cap_sum&#x27;], color = market_area[&#x27;color&#x27;], s=(market_area[&#x27;demand_capacity_pressure&#x27;])*25, alpha=0.75)

for idx, row in market_area.iterrows():
    offset = 10
    ax.annotate(row[&#x27;abr&#x27;], #abr
        xy=(row[&#x27;!s_aus_sum&#x27;], row[&#x27;!cap_sum&#x27;]),  # Original point position
        xytext=(0, offset),  # Move text 5 points upward from the point
        textcoords=&#x27;offset points&#x27;,  # Use offset coordinates for xytext
        color=&#x27;#999999&#x27;, 
        fontsize=8, 
        alpha=1,
        ha=&#x27;center&#x27;,    # Horizontal alignment: center
        va=&#x27;bottom&#x27; if idx % 2 == 0 else &#x27;bottom&#x27;     # Vertical alignment: bottom of text above point
    )

ax.axhline(capacity_median, color=&#x27;#cccccc&#x27;, linestyle=&#x27;--&#x27;, alpha=0.5)
ax.axvline(demand_median, color=&#x27;#cccccc&#x27;, linestyle=&#x27;--&#x27;, alpha=0.5)
ax.set_xlabel(&#x27;university international demand (!s_aus_sum)&#x27;)
ax.set_ylabel(&#x27;student accommodation capasity (!cap_sum)&#x27;)
ax.set_title(&#x27;Market Areas Capacity Demand Balance&#x27;, fontsize=12, pad=8, fontweight=&#x27;bold&#x27;)
ax.axline((0, 0), slope=1, color=&#x27;#F4978E&#x27;, linestyle=&#x27;--&#x27;, alpha=0.7, label=&#x27;Perfect Balance&#x27;)
ax.set_xlim(x_min, x_max)
ax.set_ylim(y_min, y_max)
plt.grid(True, color=&#x27;#cccccc&#x27;, linestyle=&#x27;--&#x27;, alpha=0.3)
plt.legend(loc=&#x27;upper right&#x27;, frameon=False)

save_path = os.path.join(hf, &quot;Market Areas Capacity Demand Balance.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="X1mqcTa6ipXN4eAWscemT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/748ac17f0f2e370b6b64758ba60fcbfd.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="YVCjA2kA4G" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Market Areas Capacity Demand Balance</em></p></div><div id="lhrceqrwBa" class="myst-jp-nb-block relative group/block"><h2 id="central-place-metrics" class="relative group"><span class="heading-text">Central Place Metrics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#central-place-metrics" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p><strong>Centrality</strong><br/>The first challenge was to find some way of measuring the centrality of an urban place (King, 1986). To calculate centrality Godlund (1956) used the following formula:</p><div id="bp7khkXpGr" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mtext>  </mtext><mo>=</mo><mtext>  </mtext><msqrt><mrow><mtext> </mtext><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>−</mo><mtext>  </mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mtext> </mtext></mrow></msqrt></mrow><annotation encoding="application/x-tex">C \;=\; \sqrt{\,(B)\,(m) \;-\; (P)\,(k)\,}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span></span></span><span style="top:-2.9439em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em;"><span></span></span></span></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#bp7khkXpGr" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->1<!-- -->)</a></div></div><p>where:</p><p>B — a count of the number of shops in the place
m — a weighting factor that took into account the comparative average size of the shops<br/>P — the population of the town<br/>k — was an index of the average accessibility to retail trade services enjoyed by any one inhabitant of the larger region in which the central place was located</p><p>In a study of the student housing market, centrality can be determined using a modified version of Godlund’s formula.</p><div id="LMxkmE99M9" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mtext>  </mtext><mo>=</mo><mtext>  </mtext><msqrt><mrow><mtext> </mtext><mo stretchy="false">(</mo><mi>C</mi><mi>s</mi><mi>a</mi><mo>+</mo><mi>C</mi><mi>u</mi><mi>n</mi><mi>i</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>−</mo><mtext>  </mtext><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>C</mi><mi>i</mi><mi mathvariant="normal">/</mi><mi>D</mi><mi>i</mi><mo stretchy="false">)</mo><mtext> </mtext></mrow></msqrt></mrow><annotation encoding="application/x-tex">C \;=\; \sqrt{\,(Csa +Cuni)\,(m) \;-\; (D)\,(Ci/Di)\,}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">s</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">u</span><span class="mord mathnormal">ni</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span></span></span><span style="top:-2.9439em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em;"><span></span></span></span></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#LMxkmE99M9" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->2<!-- -->)</a></div></div><p>where:</p><p>Csa +Cuni — a sum of the number of student accommodations and higher education  universities in the market area<br/>m — is a constant calculated during manual tests (<code>m=50</code>)<br/>D — the total international demand<br/>Ci/Di — a capacity-demand ratio</p></div><div id="qX2bzUX0O3" class="myst-jp-nb-block relative group/block hidden"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[&quot;!s_aus_sum&quot;] = market_area[&quot;!s_aus_sum&quot;].round(3)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WAsLTVUJAre68F_An5nj5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GmqtT4XiYR" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">m = 50

market_area[&quot;centrality&quot;] = np.sqrt(((market_area[&quot;pbsa_count&quot;] + market_area[&quot;uni_count&quot;]) * m) - 
                                    (market_area[&quot;!s_aus_sum&quot;] * market_area[&quot;capacity_demand_ratio&quot;])).fillna(0.0).round(3)

market_area[[&quot;fname&quot;, &quot;pbsa_count&quot;, &quot;uni_count&quot;, &quot;capacity_demand_ratio&quot;,
           &quot;!s_aus_sum&quot;, &quot;centrality&quot;]].head(15).sort_values(&quot;centrality&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="RfZcmrP2iK40OnSVDk_Nc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="G9LaKzUraX" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Centrality Central Place Metrics</em></p></div><div id="JRhEsCoU0L" class="myst-jp-nb-block relative group/block"><p>The market areas formed by the Humboldt University of Berlin and the University of Applied Sciences for Technology and Economics Berlin have zero centrality, which can be explained by their spatial location in Treptow-Köpenick and Lichtenberg, respectively.</p></div><div id="L37HvVQk8K" class="myst-jp-nb-block relative group/block"><p><strong>Service Range Adequacy</strong><br/>It is based on the key principle of central place theory: service range determines the size of the market territory necessary for the sustainable operation of the facility. As King (1986) notes, the higher the ‘service range’ of a product or service, the larger the area that must provide a sufficient flow of users, and the higher the probability that such a facility will be located in a larger urban centre. Service Range Adequacy allows us to assess how well each territory meets the expected level of service and contributes to the sustainable functioning of the student housing market. It is calculated as the relative share of demand attributable to each market area (<code>market_area[“cntr_service_range_adequacy”] = market_area[“!s_aus_sum”] / total_demand_complete)</code>)</p></div><div id="ieryed1EBL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">total_demand_complete = uni_dem[&#x27;!s_aus&#x27;].sum()
market_area[&#x27;cntr_service_range&#x27;] = (
    market_area[&#x27;!s_aus_sum&#x27;] / total_demand_complete).round(3)

market_area[[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;]].head(15).sort_values(&quot;cntr_service_range&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="eKCfgKRPkMEDrN_iK13fE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="VBdHsawA1J" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Service Range Adequacy Central Place Metrics</em></p></div><div id="kg9jp0qazR" class="myst-jp-nb-block relative group/block"><p><strong>Hierarchy Rank</strong><br/>According to King’s approach, the hierarchy of urban places is defined not only by their size, but primarily by the number and order of the functions they perform (King, 1986, p. 22).</p><p>Following this logic, the ranking of market areas in this study is based on their functional capacity, expressed through two key indicators: centrality and service range adequacy. These values are combined into a composite index (<code>market_area[“cntr_hierarchy”] = ((market_area[“centrality”]/100) + (market_ara[“cntr_service_range”])).round(3)</code>). The hierarchical ranking allows us to see not only the current configuration of supply and demand, but also the structural role of each market area in the urban system, identifying higher-order centres and lower-level areas.</p></div><div id="sHA2ltRJv5" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[&#x27;cntr_hierarchy&#x27;] = (
    (market_area[&#x27;centrality&#x27;]/100) + (market_area[&#x27;cntr_service_range&#x27;])).round(3)

market_area[&#x27;cntr_hierarchy_rank&#x27;] = pd.qcut(
    market_area[&#x27;cntr_hierarchy&#x27;],
    q=5, labels=range(1, 6)   # 1‑5 classes
)

market_area[[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;, 
             &#x27;cntr_hierarchy&#x27;, &#x27;cntr_hierarchy_rank&#x27;]].head(15).sort_values(&quot;cntr_hierarchy&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FEUrKQJe4S_QxP1nPkMvN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="S9Gd0d1gNf" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Hierarchy Rank Central Place Metrics</em></p></div><div id="ddfMIhZPnr" class="myst-jp-nb-block relative group/block"><p>Market Areas Hierarchy Rank demonstrates the distribution of central places by hierarchical classes in accordance with Central Place Theory.</p><p><strong>Hierarchy Rank - 5. Primary Central Places</strong></p><p>Primary Central Places (Figure XX) are formed around the University of the Arts Berlin (UAB), the University of Europe for Applied Sciences (UEAS) and the School of Economics and Law (HWR_BA). Although according to King (1986), centrality is not determined by the physical size of the territory, these market areas have some of the largest areas, more than 90 km² each. This is because top-level zones must have a sufficiently wide coverage to serve a large number of functions and significant volumes of demand.</p><p>Geographically, these market areas are located mainly in the districts of Mitte, Charlottenburg-Wilmersdorf and Friedrichshain-Kreuzberg, as well as partly in Tempelhof-Schöneberg, Steglitz-Zehlendorf and Neukölln, forming a distinct axis in a south-westerly direction. Together, they account for about 32% of total international student demand, which highlights their systemic role in the city’s university infrastructure.</p><p>It is worth noting that two of the three primary centres belong to the High–High cluster, meaning they are stable magnets for international students, around which areas of high demand and growing market pressure are forming. However, the greatest pressure is observed in the School of Economics and Law market zone, where demand exceeds available capacity by 6.2 times, making this zone the most vulnerable in the hierarchy of central locations. This imbalance highlights the critical shortage of infrastructure and the need to prioritise the expansion of the housing stock near this educational cluster.</p><p>Together, the primary central places form the core of Berlin’s student urbanisation, where key educational functions, large volumes of demand and the most significant infrastructure imbalances are concentrated. Their high hierarchical position confirms the central role of these areas in the urban structure, but at the same time demonstrates the vulnerability of the system: even higher-order centres face a significant housing shortage and growing market pressure.</p></div><div id="GYwPybQMOK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(figsize=(12, 12))

pgr.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 5].plot(ax=axs,
          column=&#x27;cntr_hierarchy_rank&#x27;,
          cmap=cmap_pi,
          alpha=0.55,
          edgecolor=&#x27;none&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;frameon&#x27;: False},
          label = &#x27;hierarchy rank&#x27;, 
          vmin=0,
          vmax=5)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 5].plot(
    ax=axs,
    edgecolor=&#x27;white&#x27;,  # variable for colormap
    facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
    linewidth=0.3,
    alpha=1
)

central_places.plot(ax=axs,
           color=&#x27;#76A79D&#x27;, 
           markersize=20,
           #markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
for _, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    axs.annotate(
        row[&#x27;abr&#x27;],                           # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # coords from the Point
        xytext=(0, offset),                   # lift the text a bit
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

axs.set_title(&#x27;Hierarchy Rank - 5. Primary Central Places&#x27;, fontsize=16, fontweight=&#x27;bold&#x27;)
axs.set_axis_off()
plt.tight_layout()

save_path = os.path.join(hf, &quot;Hierarchy Rank - 5. Primary Central Places.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="0tYO-Qyd7uJ_uJaSrTpyP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/e74f9a8ea190d56e00c0690e4f81ca31.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="JKkOyo1gI2" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Primary Central Places</em></p></div><div id="wWUiNXDcjP" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 5][[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;, &#x27;cntr_hierarchy&#x27;, &#x27;cntr_hierarchy_rank&#x27;]].head(15).sort_values(&quot;cntr_hierarchy&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="c1CDF0jTZYQq1NzHorPIV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="OWaWGQ7zEM" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Primary Central Places</em></p></div><div id="c3XHLkOeu2" class="myst-jp-nb-block relative group/block"><p><strong>Hierarchy Rank - 4. Secondary Central Places</strong></p><p>Secondary Central Places Centres (Figure XX) are formed by Humboldt University of (HU), International University of Applied Sciences (BIU) and Charité University Hospital (CU). These market areas are secondary central places, i.e., high-order centres that have significant functional saturation but are lower than primary centres in terms of scale of attraction and infrastructure concentration.</p><p>Geographically, secondary central places are located east of primary central places, covering parts of the Lichtenberg and Pankow districts and forming a distinct west-east axis in the spatial structure of the student housing market. This configuration reflects the expansion of the city’s education system in an easterly direction, which is historically less saturated with higher education institutions. Together, these areas account for about 20% of the total demand from international students, confirming their significant but not dominant role in the urban hierarchy.</p><p>The average demand–capacity pressure value of 2.1 confirms that demand exceeds current supply by more than double. This creates moderate but stable market pressure, indicating the need for strategic expansion of student infrastructure and further development of public-private initiatives in the field of student accommodation.</p><p>Thus, secondary central places function as sub-regional centres in the urban hierarchy, playing a key role in rebalancing demand, ensuring access to higher education and shaping future growth trends in Berlin’s student housing market.</p></div><div id="dssAToApRs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(figsize=(12, 12))

pgr.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 4].plot(ax=axs,
          column=&#x27;cntr_hierarchy_rank&#x27;,
          cmap=cmap_pi,
          alpha=0.55,
          edgecolor=&#x27;none&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;frameon&#x27;: False},
          label = &#x27;hierarchy rank&#x27;, 
          vmin=0,
          vmax=5)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 4].plot(
    ax=axs,
    edgecolor=&#x27;white&#x27;,  # variable for colormap
    facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
    linewidth=0.3,
    alpha=1
)

central_places.plot(ax=axs,
           color=&#x27;#76A79D&#x27;, 
           markersize=20,
           #markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
for _, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    axs.annotate(
        row[&#x27;abr&#x27;],                           # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # coords from the Point
        xytext=(0, offset),                   # lift the text a bit
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

axs.set_title(&#x27;Hierarchy Rank - 4. Secondary Central Places&#x27;, fontsize=16, fontweight=&#x27;bold&#x27;)
axs.set_axis_off()
plt.tight_layout()

save_path = os.path.join(hf, &quot;Hierarchy Rank - 4. Secondary Central Places.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="I4dPJaOSafd4WznhGNY5V" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/aaa7ab1ac3deb48784921be4f569c16a.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="lZGvbslgb0" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Secondary Central Places</em></p></div><div id="CJCeIna6nB" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 4][[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;, &#x27;cntr_hierarchy&#x27;, &#x27;cntr_hierarchy_rank&#x27;]].head(15).sort_values(&quot;cntr_hierarchy&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="29WGz8ld_TplRAE23oFod" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="gW3EUewZM2" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Secondary Central Places</em></p></div><div id="SFm1vBWKJb" class="myst-jp-nb-block relative group/block"><p><strong>Hierarchy Rank - 3. Tertiary Central Places</strong></p><p>Tertiary Central Places (Figure XX) are formed around the Technical University of Berlin (TUB), Free University (FU) and Berlin School of Technology (BTS). These universities represent significant but less dominant centres of demand, located on the periphery of the primary and secondary central places.</p><p>Geographically, tertiary central places occupy areas to the north and south of secondary central places, covering a significant part of Steglitz-Zehlendorf and Reinickendorf. In this way, they support the established south-western educational axis extending from the primary central places and, at the same time, form a new north-south axis in the spatial structure of the student housing market. This configuration reflects the complex multipolar organisation of demand characteristic of a large polycentric city.</p><p>Together, these market areas account for about 17% of total international student demand, making them significant but not dominant elements in the structure of central places.</p><p>It is noteworthy that all three universities forming tertiary central places belong to the Low–High (LH) cluster and are public. This combination indicates the high educational potential of these areas and their ability to be included in existing clusters, but at the same time demonstrates the lack of full strategic integration into established centres of student urbanisation.</p><p>The average demand–capacity pressure value is 2.8, which is higher than that of secondary central places. This indicates that demand is almost three times higher than the available supply. Consequently, tertiary central places are critically important areas of hidden deficit, where a growing gap is forming between the educational potential of universities and the lack of adequate housing infrastructure.</p></div><div id="XQo4UyOVRX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(figsize=(12, 12))

pgr.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 3].plot(ax=axs,
          column=&#x27;cntr_hierarchy_rank&#x27;,
          cmap=cmap_pi,
          alpha=0.55,
          edgecolor=&#x27;none&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;frameon&#x27;: False},
          label = &#x27;hierarchy rank&#x27;, 
          vmin=0,
          vmax=5)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 3].plot(
    ax=axs,
    edgecolor=&#x27;white&#x27;,  # variable for colormap
    facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
    linewidth=0.3,
    alpha=1
)

central_places.plot(ax=axs,
           color=&#x27;#76A79D&#x27;, 
           markersize=20,
           #markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
for _, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    axs.annotate(
        row[&#x27;abr&#x27;],                           # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # coords from the Point
        xytext=(0, offset),                   # lift the text a bit
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

axs.set_title(&#x27;Hierarchy Rank - 3. Tertiary Central Places&#x27;, fontsize=16, fontweight=&#x27;bold&#x27;)
axs.set_axis_off()
plt.tight_layout()

save_path = os.path.join(hf, &quot;Hierarchy Rank - 3. Tertiary Central Places.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="X6jskhD3iI1biFYJLWHhd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/e6962f9201368a3a9278e78ca3fc74ed.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="hqBLrohWUD" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Tertiary Central Places</em></p></div><div id="l3z3rw6OnG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 3][[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;, &#x27;cntr_hierarchy&#x27;, &#x27;cntr_hierarchy_rank&#x27;]].head(15).sort_values(&quot;cntr_hierarchy&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="X7WZGhxI22wsQ99M5zhH0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="gZZftjmLWi" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Tertiary Central Places</em></p></div><div id="sNhjwcq5Ai" class="myst-jp-nb-block relative group/block"><p><strong>Hierarchy Rank - 2. Local Central Places</strong></p><p>Local Central Places (Figure XX) are formed around SRH Berlin University of Applied Sciences (SRHU), Charité University Hospital (CU) and ESCP Business School Berlin (ESCP). These universities act as local centres, primarily serving the surrounding areas and acting as a link between larger secondary and tertiary central places.</p><p>Geographically, these market areas are mainly located in the districts of Friedrichshain-Kreuzberg and Neukölln, as well as partly in Mitte, Charlottenburg-Wilmersdorf, Tempelhof-Schöneberg, Treptow-Köpenick and Lichtenberg. Spatially, they occupy positions south of secondary central places and simultaneously support two key axes of the urban structure: the west-east axis formed by secondary central places and the north-south axis formed by tertiary central places. In this way, local central places reinforce the polycentric organisation of the student housing market, ensuring connectivity between areas of different hierarchical levels and serving 11% of student demand.</p><p>What is particularly interesting is that the three universities that form this hierarchical level belong to different types of spatial clusters: ESCP Business School Berlin is characterised by a High-High (HH) pattern, Charité University Hospital by a High-Low (HL) pattern, and SRH Berlin University of Applied Sciences by a Low-High (LH) pattern. This highlights the heterogeneity of these areas and their varying degrees of integration into existing educational clusters.</p><p>The intensity of market pressure within local central places also varies. Market areas formed by private universities ESCP and SRHU show relatively moderate indicators: 2.7 and 0.7, respectively. At the same time, the area formed by the state-owned Charité University Hospital experiences a pronounced imbalance between supply and demand: demand exceeds available capacity by five times. This indicates a structural shortage of student housing in one of the city’s most important medical and scientific centres.</p><p>Thus, local central places reflect an important intermediate level of the city’s educational and housing structure. They combine areas with stable patterns of demand and supply, adjacent to local shortages, and form a significant component of Berlin’s polycentric student space.</p></div><div id="QzgponzJMl" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(figsize=(12, 12))

pgr.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 2].plot(ax=axs,
          column=&#x27;cntr_hierarchy_rank&#x27;,
          cmap=cmap_pi,
          alpha=0.55,
          edgecolor=&#x27;none&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;frameon&#x27;: False},
          label = &#x27;hierarchy rank&#x27;, 
          vmin=0,
          vmax=5)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 2].plot(
    ax=axs,
    edgecolor=&#x27;white&#x27;,  # variable for colormap
    facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
    linewidth=0.3,
    alpha=1
)

central_places.plot(ax=axs,
           color=&#x27;#76A79D&#x27;, 
           markersize=20,
           #markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
for _, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    axs.annotate(
        row[&#x27;abr&#x27;],                           # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # coords from the Point
        xytext=(0, offset),                   # lift the text a bit
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

axs.set_title(&#x27;Hierarchy Rank - 2. Local Central Places&#x27;, fontsize=16, fontweight=&#x27;bold&#x27;)
axs.set_axis_off()
plt.tight_layout()

save_path = os.path.join(hf, &quot;Hierarchy Rank - 2. Local Central Places.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="xTm9xo0KI8FNn51SpeI2R" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/171e7ea589c29064e58ed91b3de17fa1.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="ekUVSrrxog" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Local Central Places</em></p></div><div id="DFzEsdkXUk" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 3][[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;, &#x27;cntr_hierarchy&#x27;, &#x27;cntr_hierarchy_rank&#x27;]].head(15).sort_values(&quot;cntr_hierarchy&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="BogVf6JpRwjUGUq8Nzs5J" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="M20r8ZXUoL" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Local Central Places</em></p></div><div id="PWh3VHpD73" class="myst-jp-nb-block relative group/block"><p><strong>Hierarchy Rank - 1. Basic Service Areas</strong></p><p>Basic Service Areas (Figure XX) are formed around the German International University Berlin (GIU), University of Applied Sciences for Technology, Economics Berlin (HTW) and Humboldt University of Berlin (HU). These universities are basic service centres whose role in the structure of central locations is primarily to provide fundamental educational functions and support peripheral parts of the urban system.</p><p>Geographically, these market areas are located mainly in the districts of Reinickendorf, Treptow-Köpenick and Lichtenberg. They are situated to the south-east and north-west of the secondary central places. This location emphasises their functional role as areas serving peripheral or poorly integrated parts of the city’s educational space, acting as ‘edge’ centres in Berlin’s polycentric structure.</p><p>Collectively, Basic Service Areas account for about 19% of international student demand — more than  tertiary central places. This indicates that even the most basic centres in the hierarchy play a significant role in the distribution of student mobility and the formation of market pressure, serving significant shares of both educational and housing demand in the periphery.</p><p>It is worth noting that two of the three universities forming this hierarchical level belong to the Low–High (LH) cluster, demonstrating low supply with higher regional demand. The third university is private and belongs to the High–Low (HL) cluster, reflecting the opposite dynamic: a high value at the facility level in an environment with relatively low values. This distribution of clusters shows that the basic market areas are characterised by strong heterogeneity in demand and supply, as well as varying levels of integration into existing educational clusters.</p></div><div id="XCqy9dRZ4n" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs  = plt.subplots(figsize=(12, 12))

pgr.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#cccccc&#x27;, linewidth=0.5, linestyle=&quot;--&quot;)
bz.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#999999&#x27;, linewidth=0.75)
out.plot(ax=axs, facecolor=&#x27;none&#x27;, edgecolor=&#x27;#666666&#x27;, linewidth=1)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 1].plot(ax=axs,
          column=&#x27;cntr_hierarchy_rank&#x27;,
          cmap=cmap_pi,
          alpha=0.55,
          edgecolor=&#x27;none&#x27;,
          linewidth=0.3,
          legend=True,
          legend_kwds={&#x27;frameon&#x27;: False},
          label = &#x27;hierarchy rank&#x27;, 
          vmin=0,
          vmax=5)

market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 1].plot(
    ax=axs,
    edgecolor=&#x27;white&#x27;,  # variable for colormap
    facecolor=&quot;none&quot;,        # transparent polygons  # edge colors from your column
    linewidth=0.3,
    alpha=1
)

central_places.plot(ax=axs,
           color=&#x27;#76A79D&#x27;, 
           markersize=20,
           #markersize= 10,
           alpha=0.75,
           edgecolor=&#x27;white&#x27;,
           linewidth=1)
for _, row in central_places.iterrows():
    offset = 3  # vertical offset in points
    axs.annotate(
        row[&#x27;abr&#x27;],                           # abbreviation
        xy=(row.geometry.x, row.geometry.y),  # coords from the Point
        xytext=(0, offset),                   # lift the text a bit
        textcoords=&#x27;offset points&#x27;,
        color=&#x27;#1b4332&#x27;,
        fontsize=8,
        ha=&#x27;center&#x27;,
        va=&#x27;bottom&#x27;,
        alpha=1,
        zorder=6,
        path_effects=[
            path_effects.Stroke(linewidth=2, foreground=&#x27;white&#x27;),
            path_effects.Normal()
        ]
    )

axs.set_title(&#x27;Hierarchy Rank - 1. Basic Service Areas&#x27;, fontsize=16, fontweight=&#x27;bold&#x27;)
axs.set_axis_off()
plt.tight_layout()

save_path = os.path.join(hf, &quot;Hierarchy Rank - 1. Basic Service Areas.png&quot;)
plt.savefig(save_path, dpi=300, bbox_inches=&quot;tight&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="pAjDcwdlrnGwf4IhsbLL-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/rethinking_student_housing/build/2383b0c8897fbc40e6867876928a5698.png" alt="&lt;Figure size 1200x1200 with 1 Axes&gt;"/></div></div></div><div id="efZkczXnZY" class="myst-jp-nb-block relative group/block"><p><em>Figure XX. Basic Service Areas</em></p></div><div id="hgegdd9LPj" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose hidden my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area[market_area[&#x27;cntr_hierarchy_rank&#x27;] == 3][[&quot;fname&quot;,&quot;!s_aus_sum&quot;, &quot;centrality&quot;, &quot;cntr_service_range&quot;, &#x27;cntr_hierarchy&#x27;, &#x27;cntr_hierarchy_rank&#x27;]].head(15).sort_values(&quot;cntr_hierarchy&quot;, ascending=False) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="fN-OdJEJAx0ExYYNmYOTH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jupwLtabU8" class="myst-jp-nb-block relative group/block"><p><em>Table XX. Basic Service Areas</em></p></div><div id="WeiEfQ39zb" class="myst-jp-nb-block relative group/block"><p>The constructed hierarchy of market areas revealed a pronounced polycentricity of the city’s educational space: central locations at the highest levels concentrate the greatest student demand and form the main clusters of attraction, while lower-level zones perform supporting functions. At the same time, demand significantly exceeds supply at all levels.</p><p>Thus, the analysis shows that the student housing crisis in Berlin has a clearly defined spatial structure. The uneven distribution of both universities and accommodation infrastructure exacerbates market pressure, creating persistent areas of overload and local shortages, which require further strategic intervention and planning.</p></div><div id="VykfIlWum3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">market_area.to_crs(epsg=25833)

ef = r&quot;../outputs/3.2_central_place_analysis/market_area_central_place_analysis.gpkg&quot;
market_area.to_file(ef, driver=&quot;GPKG&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="QzPrEyNfx833kAghfn6hl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/rethinking_student_housing/notebooks/overview-1"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">3. Student Housing Market Imbalance</div>3.1 Overview</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/rethinking_student_housing/notebooks/market-pressure-analysis"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">3. Student Housing Market Imbalance</div>3.3 Market Pressure Analysis</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/rethinking_student_housing/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-7UUHRSK3.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/root-EDJFWIEV.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/_shared/chunk-ECLX7DIY.js"/><link rel="modulepreload" href="/rethinking_student_housing/build/routes/$-AD65NCUT.js"/><script>window.__remixContext = {"url":"/notebooks/central-place-analysis","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/rethinking_student_housing"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/rethinking_student_housing/build/logo-18e48197487fb9b98f6d8e7252c859f7.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"0dabbda600437745c12698ab6e77a4d7453454272f25c36e3c9b74809da4f83a","slug":"notebooks.central-place-analysis","location":"/notebooks/3.2_central_place_analysis.ipynb","dependencies":[],"frontmatter":{"title":"3.2 Central Place Analysis","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"geodatascience2.0","language":"python"},"authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","numbering":{"title":{"offset":1}},"source_url":"https://github.com/natashlazarpro/rethinking_student_housing/blob/main/student-housing-book/notebooks/3.2_central_place_analysis.ipynb","edit_url":"https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/3.2_central_place_analysis.ipynb","exports":[{"format":"ipynb","filename":"3.2_central_place_analysis.ipynb","url":"/rethinking_student_housing/build/3.2_central_place_an-6f00ca0a6bbea022b6e42fc28cf63a6d.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import warnings\n\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nhf = r'../outputs/3.2_central_place_analysis/'\nos.makedirs(hf, exist_ok=True)","visibility":"show","key":"qQXZpXWXtZ"},{"type":"outputs","id":"sD3KV3yl7Q5y-w0jB73qJ","children":[],"visibility":"show","key":"cbFpTcq9xs"}],"visibility":"remove","key":"O8VZyJdGql"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3.2 Central Place Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S0SxieUTPQ"}],"identifier":"id-3-2-central-place-analysis","label":"3.2 Central Place Analysis","html_id":"id-3-2-central-place-analysis","implicit":true,"key":"afPXZ30I15"}],"key":"tZyYmz7MOP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The chapter Student Housing Market: Capacities, Demand, and Spatial Distribution provides a consistent analysis of two systems: student accommodations and higher education universities.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a1PCOvZRgW"}],"key":"jWsJSznYb4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To proceed to market analysis, it is necessary to examine how these two systems interact with each other, forming the student accommodation market. Central Place Theory, outlined in the chapter Theoretical Framework, assists in navigating the analysis process.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Es1Eiih8zS"}],"key":"A6dOV68Gvk"}],"key":"i5MalItrbi"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set Up","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G0tVlguQR0"}],"identifier":"set-up","label":"Set Up","html_id":"set-up","implicit":true,"key":"WIaoSpG6rv"}],"key":"I1OKQ23JQV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uzBt30RSpM"}],"key":"QkwHJmLbD2"}],"key":"jDCvTNkHyi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport geopandas as gpd\nfrom shapely.geometry import Point, MultiPoint\nfrom pyproj import CRS\nfrom scipy.stats import norm\nfrom matplotlib.colors import LinearSegmentedColormap\nimport matplotlib.patheffects as path_effects\nimport string\nimport requests\nimport time\nfrom shapely.geometry import Polygon\nimport seaborn as sns\nfrom shapely.geometry import MultiPolygon","key":"cbp583RtYQ"},{"type":"outputs","id":"eHsbrKH3zq46AbKe0TjD5","children":[],"key":"Llgnwg4QDP"}],"key":"GceCvayOB4"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Colors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IZkc1ODOEP"}],"key":"CAWWOtbUG8"}],"visibility":"remove","key":"CKl4novAyU"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"color_palettes = {\n    \"Mint\": [\"#EAF4E8\", \"#C8E0D4\", \"#A9CCC1\", \"#8FB9AE\", \"#76A79D\", \"#5F968E\", \"#498581\"], \n    \"Pi\": [\"#F8EDEB\", \"#FAE1DD\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\", \"#F08080\"],\n    \"Or\": [\"#FFE5D9\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F49F7D\", \"#F28B6D\", \"#E1755CFF\"],\n    \"GrSc\":  ['#EFEFEF', '#D9D9D9', '#CCCCCC', '#B7B7B7', '#999999', '#666666', '#434343'],\n    \"MintPi\": [\"#76A79D\", \"#8FB9AE\", \"#A9CCC1\", \"#C8E0D4\", \"#FBF0EA\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\"],\n    \"MintOr\": [\"#76A79D\", \"#8FB9AE\", \"#A9CCC1\", \"#C8E0D4\", \"#FBF0EA\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F28B6D\"],\n    \"MiPiOr\": ['#EAF4E8', '#FAE1DD', '#C8E0D4', '#FFD7BA', '#F8EDEB', '#FCD5CE', '#FFE5D9']\n}\n\ncmap_mint = LinearSegmentedColormap.from_list(\"Mint\", color_palettes[\"Mint\"])\ncmap_pi = LinearSegmentedColormap.from_list(\"Pi\", color_palettes[\"Pi\"])\ncmap_or = LinearSegmentedColormap.from_list(\"Or\", color_palettes[\"Or\"])\ncmap_mintpi = LinearSegmentedColormap.from_list(\"MintPi\", color_palettes[\"MintPi\"])\ncmap_mintor = LinearSegmentedColormap.from_list(\"MintOr\", color_palettes[\"MintOr\"])\ncmap_grsc = LinearSegmentedColormap.from_list(\"GrSc\", color_palettes[\"GrSc\"])\ncmap_mipior = LinearSegmentedColormap.from_list(\"MiPiOr\", color_palettes[\"MiPiOr\"])","visibility":"show","key":"lxpKHl9u9A"},{"type":"outputs","id":"8RkKJHcrnIjYZ-Co0Fb3H","children":[],"visibility":"show","key":"sUdLfykBgi"}],"visibility":"remove","key":"KU0HRoy8nW"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Font","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"p1FUY18uSZ"}],"key":"hYdXOxhBqI"}],"visibility":"remove","key":"lMiJtq46WT"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.rcParams[\"font.family\"] = \"Helvetica\"","visibility":"show","key":"Ueav2hw3ie"},{"type":"outputs","id":"iDu6WtGUxtOzqdSC-S0Pd","children":[],"visibility":"show","key":"fGGvZBtbWV"}],"visibility":"remove","key":"bWLsaY3TxO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Berlin Spatial Boundaries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NuqS1MnC6A"}],"key":"ByMVd9mRA2"}],"key":"iRMrsilAJD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pf = r\"../inputs/3.2_central_place_analysis/lor_pgr.gpkg\"\npgr = gpd.read_file(pf)\npgr.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nbf = r\"../inputs/3.2_central_place_analysis/adm_bz.gpkg\"\nbz = gpd.read_file(bf)\nbz.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nof = r\"../inputs/3.2_central_place_analysis/adm_out.gpkg\"\nout = gpd.read_file(of)\nout.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)","key":"N0r3hlXliI"},{"type":"outputs","id":"e8_d6VLb3Rl6iNQtvCkaM","children":[],"key":"iYw4AxSUYR"}],"key":"TAYpVmdjbu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The analysis of student accommodation capacity and higher education universities’ international student demand data, obtained as a result of Global Spatial Autocorrelation, served as the basis for student housing market research.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nh1gy5l22E"}],"key":"QUaWzxNKYn"}],"key":"vljNw5sP35"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ef = r'../inputs/3.2_central_place_analysis/pbsa_capacity_analysis.gpkg'\npbsa_cap = gpd.read_file(ef)\n\nmf = r'../inputs/3.2_central_place_analysis/uni_int_demand_analysis.gpkg'\nuni_dem = gpd.read_file(mf, driver=\"GPKG\")","key":"yt69B6nE5K"},{"type":"outputs","id":"i7omfKTzp-yc7B4CQqClE","children":[],"key":"LNNQLdkh7l"}],"key":"JaHk8ZwTQ3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Central Places Definition","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Hcv1horjtS"}],"identifier":"central-places-definition","label":"Central Places Definition","html_id":"central-places-definition","implicit":true,"key":"Zf8ObglJhv"}],"key":"AcB5EgWyVV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In Central Place Theory King (1986) argue that the idea that there is a smooth and regular progression in urban centres from the smallest up to the largest center - is not a very useful one, and that greater insight can be gained into the nature of an urban pattern by referring to discrete population-size classes.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XVkY4rz6Rc"}],"key":"n1EjIf7vgX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Taking this into account, central universities should be defined not as the ‘largest’ in terms of numbers, but as institutions that perform central functions in the urban system. Their significance is determined not so much by the scale of student enrolment as by their functional role, their position in the urban and educational hierarchy, and their ability to serve wider areas of attraction.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hu2wRGIXJk"}],"key":"RY59qL6f43"}],"key":"SZUiAIm7Ef"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cleaning Higher Education Universities Data Set","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AipSqQ5i2I"}],"key":"asCndEH2jt"}],"visibility":"remove","key":"PlBaz2GofU"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"uni_dem = uni_dem.dropna(subset=['!s_aus'])\n\nuni_dem = uni_dem.drop(columns=['!s_aus_std', '!s_aus_slag', '!s_aus_slag_std'])","visibility":"show","key":"ZcULmtJCir"},{"type":"outputs","id":"nk3IU3__Yk1C8_rQPBhuK","children":[],"visibility":"show","key":"dPqB8HDY4H"}],"visibility":"remove","key":"xItM2lASFU"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to determine which universities are considered central, the following concerns must be taken into account.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nloOhusB9a"}],"key":"nW70ipjQnl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Firstly, based on spatial economics analysis of university clusters, only High–High (HH), Low–High (LH) and High–Low (HL) clusters are capable of generating sustained high demand in the housing market, fulfilling the functional roles of centres. Meanwhile, Low–Low (LL) clusters do not form centres of demand.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xonLQf4Nku"}],"key":"gIDbqG3SYA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Secondly, the number of central universities must be limited, as 26 out of 52 universities cannot be central by definition.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HpjMWSAp0P"}],"key":"IbzvHkI1U5"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Only by taking this into account can a quantitative test be conducted using the international student demand (","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"mftG2QvGds"},{"type":"inlineCode","value":"!s_aus","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ChvDioHam0"},{"type":"text","value":") threshold.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jkuGaSPiaW"}],"key":"QcqmlUQE69"}],"key":"YEB4C5xdyf"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Option 1: Based on percentiles (recommended for your data)\nthreshold_percentile = np.percentile(np.abs(uni_dem['!s_aus']), 75)  \n# 75th percentile of absolute values\nprint(f\"Option 1 - Percentile-based threshold: {threshold_percentile:.3f}\")\nprint(f\"  (75th percentile of absolute values)\")\n\n# Option 2: Based on standard deviation\nstd_dev = uni_dem['!s_aus'].std()\nthreshold_std = 0.5 * std_dev  # 0.5 standard deviations\nprint(f\"Option 2 - Standard deviation-based threshold: {threshold_std:.3f}\") #Standard deviation für alle features \nprint(f\"  (0.5 * standard deviation)\")\n\n# Option 3: Fixed threshold based on your data range\nthreshold_fixed = 550.0  # Fixed value appropriate for your range\nprint(f\"Option 3 - Fixed threshold: {threshold_fixed:.3f}\")\nprint(f\"  (Fixed value for your data range)\")\n\n# Option 4: Median-based threshold\nmedian_abs = np.median(np.abs(uni_dem['!s_aus']))\nthreshold_median = median_abs * 0.5\nprint(f\"Option 4 - Median-based threshold: {threshold_median:.3f}\")\nprint(f\" (0.5 * median of absolute values)\")\n\nthresholds_to_test = [threshold_percentile, threshold_std, threshold_fixed, threshold_median]\n\nfor i, test_threshold in enumerate(thresholds_to_test, 1):\n    print(f\"\\nTest {i}: threshold = {test_threshold:.3f}\")\n    \n    test_centr = uni_dem[\n        (uni_dem['cluster'].isin(['HL', 'HH', 'LH', 'LL',])) \u0026 \n        (uni_dem['!s_aus'] \u003e= test_threshold)\n        ]\n\n    print(f\"Total features: {len(test_centr)}\")\n    print(f\"Total demand: {test_centr['!s_aus'].sum()}\")\n\n    print(f\"Features with cluster = 'NS': {len(test_centr[test_centr['cluster'] == 'NS'])}\")\n    print(f\"Features with cluster = 'HH': {len(test_centr[test_centr['cluster'] == 'HH'])}\")\n    print(f\"Features with cluster = 'LH': {len(test_centr[test_centr['cluster'] == 'LH'])}\")\n    print(f\"Features with cluster = 'HL': {len(test_centr[test_centr['cluster'] == 'HL'])}\")\n    print(f\"Features with cluster = 'LL': {len(test_centr[test_centr['cluster'] == 'LL'])}\")\n","visibility":"remove","key":"mib1grDDbB"},{"type":"outputs","id":"_0J93_U5lnpq5Lqpg-SsC","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Option 1 - Percentile-based threshold: 414.000\n  (75th percentile of absolute values)\nOption 2 - Standard deviation-based threshold: 828.251\n  (0.5 * standard deviation)\nOption 3 - Fixed threshold: 550.000\n  (Fixed value for your data range)\nOption 4 - Median-based threshold: 51.000\n (0.5 * median of absolute values)\n\nTest 1: threshold = 414.000\nTotal features: 15\nTotal demand: 40958.7\nFeatures with cluster = 'NS': 0\nFeatures with cluster = 'HH': 3\nFeatures with cluster = 'LH': 9\nFeatures with cluster = 'HL': 3\nFeatures with cluster = 'LL': 0\n\nTest 2: threshold = 828.251\nTotal features: 12\nTotal demand: 39607.76\nFeatures with cluster = 'NS': 0\nFeatures with cluster = 'HH': 3\nFeatures with cluster = 'LH': 9\nFeatures with cluster = 'HL': 0\nFeatures with cluster = 'LL': 0\n\nTest 3: threshold = 550.000\nTotal features: 12\nTotal demand: 39607.76\nFeatures with cluster = 'NS': 0\nFeatures with cluster = 'HH': 3\nFeatures with cluster = 'LH': 9\nFeatures with cluster = 'HL': 0\nFeatures with cluster = 'LL': 0\n\nTest 4: threshold = 51.000\nTotal features: 45\nTotal demand: 46240.259999999995\nFeatures with cluster = 'NS': 0\nFeatures with cluster = 'HH': 3\nFeatures with cluster = 'LH': 9\nFeatures with cluster = 'HL': 19\nFeatures with cluster = 'LL': 14\n"},"children":[],"key":"wlCakz19gb"}],"visibility":"show","key":"krXlBJ0Den"}],"visibility":"show","key":"Qo2WP4tpV4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to correctly interpret the Threshold Test, it is necessary to pay attention to the number of universities and their distribution across four spatial clusters.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hlTGDwpNH0"}],"key":"QXzvG4NXAt"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Option 1 - Percentile-based threshold: 414,000","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EfOhEqkCrf"}],"key":"jjPsFciXpW"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QMQsZBdD73"},{"type":"text","value":"With a percentile-based threshold, the upper quarter of the distribution is selected, taking into account three spatial clusters - HH, LH and HL. It also significantly reduces the sample from 52 to 15 universities, fixing the central nodes of the pair. Therefore, this threshold creates a threshold that reflects the real structure of the student housing market. (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fPxOBxHZn1"},{"type":"inlineCode","value":"theshold = threshold_percentile","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GTmg6uw4dd"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wIoA1CRbJF"}],"key":"XFLhY5CrUg"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Option 2 - Standard deviation-based threshold: 828.251","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Bj6EMRo10t"}],"key":"dB0xAXc1Ot"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"PpYX3OTscX"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Option 3 - Fixed threshold: 550.000","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Jhgnrg7Nfu"}],"key":"QmPZ7OU4OU"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"I0T7gtEQDu"},{"type":"text","value":"Standard deviation-based and fixed thresholds exclude HL clusters that are early indicators of the development of new student attraction zones.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"aKNSoBnZeB"}],"key":"rGqefzUJlI"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Option 4 - Median-based threshold: 51.000","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sPiWkCtKxf"}],"key":"FjlxJboIee"},{"type":"break","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vTsjyZzyM9"},{"type":"text","value":"With a median-based threshold, almost all universities become ‘central,’ which devalues the category itself.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sfhlznP4p5"}],"key":"o04iL9UcL7"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Thus, using the spatial clusters and percentile-based threshold filter, 15 universities (Table XX) were identified as central.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"FT5Mky1S1g"}],"key":"RZOoMjWeBV"}],"key":"CHybaOPNam"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Таким образом, с помошью фильтра по spatial clusters and percentile-based threshold было получено 15 университетов (Table XX), которые являються центральными.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D17MBGmQgy"}],"key":"vyzkmhgBN7"}],"key":"igK8UIW9Ws"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"central_places = uni_dem[\n    (uni_dem['cluster_aus'].isin(['HL', 'HH', 'LH'])) \u0026 \n    (uni_dem['!s_aus'] \u003e= threshold_percentile)\n]","key":"RYkH9IlnJr"},{"type":"outputs","id":"hdJMI5vljA15yXxR1UHmz","children":[],"key":"zFag2FwN1N"}],"key":"VfGTmMjQUA"},{"type":"block","kind":"notebook-code","data":{"tags":["revome-input"]},"children":[{"type":"code","lang":"python","executable":true,"value":"central_places[[\n    \"code\",\n    \"abr\",\n    \"name\",\n    \"own\",\n    \"cluster\",\n    \"!s_aus\"\n]]","visibility":"show","key":"IDNa1ITesc"},{"type":"outputs","id":"ZIox-N0JaI6m3-FQ7reob","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"code\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"abr\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"name\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"own\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"cluster\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!s_aus\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"b68e254d-9df3-4f3c-9ba3-6590b6a024ce\",\"rows\":[[\"2\",\"HS0180\",\"CU \",\"Charite - Universitätsmedizin Berlin\",\"Public University\",\"LH\",\"1266.5\"],[\"3\",\"HS0180\",\"CU \",\"Charite - Universitätsmedizin Berlin\",\"Public University\",\"HL\",\"455.93999999999994\"],[\"6\",\"HS0200\",\"HU \",\"Humboldt-Universität Berlin\",\"Public University\",\"LH\",\"3608.4599999999996\"],[\"7\",\"HS0200\",\"HU \",\"Humboldt-Universität Berlin\",\"Public University\",\"LH\",\"2806.5799999999995\"],[\"16\",\"HS1380\",\"FU \",\"Freie Universität Berlin\",\"Public University\",\"LH\",\"8280.02\"],[\"21\",\"HS1690\",\"TU \",\"Technische Universität Berlin\",\"Public University\",\"LH\",\"9914.010000000002\"],[\"23\",\"HS1700\",\"ESCP\",\"ESCP-Europe Wirtschaftshochschule Berlin \",\"Privat University\",\"HH\",\"1092.0\"],[\"30\",\"HS2290\",\"BIU \",\"Berlin Int. Univ. of Applied Sciences \",\"Privat University\",\"HL\",\"417.0\"],[\"36\",\"HS2790\",\"UAB \",\"Universität der Künste Berlin\",\"Public University\",\"HH\",\"1243.3399999999997\"],[\"39\",\"HS3270\",\"GIU \",\"German International University Berlin \",\"Privat University\",\"HL\",\"478.0\"],[\"45\",\"HS5802\",\"UEAS \",\"U of Europe for Appl.Sc.Potsdam i.Berlin \",\"Privat University\",\"LH\",\"2501.0\"],[\"52\",\"HS7690\",\"HTW\",\"Hochschule für Technik und Wirtschaft Berlin \",\"Public University\",\"LH\",\"3908.01\"],[\"55\",\"HS7710\",\"BTS \",\"Berliner Hochschule für Technik \",\"Public University\",\"LH\",\"2171.959999999999\"],[\"56\",\"HS7721\",\"HWR_BA \",\"HWR Berlin, FB Wirtschaft \",\"Public University\",\"HH\",\"1335.88\"],[\"69\",\"HS7971\",\"SRHU \",\"SRH Berlin U of Appl. Sciences in Berlin \",\"Privat University\",\"LH\",\"1480.0\"]],\"shape\":{\"columns\":6,\"rows\":15}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003ecode\u003c/th\u003e\n      \u003cth\u003eabr\u003c/th\u003e\n      \u003cth\u003ename\u003c/th\u003e\n      \u003cth\u003eown\u003c/th\u003e\n      \u003cth\u003ecluster\u003c/th\u003e\n      \u003cth\u003e!s_aus\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eHS0180\u003c/td\u003e\n      \u003ctd\u003eCU\u003c/td\u003e\n      \u003ctd\u003eCharite - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e1266.50\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003eHS0180\u003c/td\u003e\n      \u003ctd\u003eCU\u003c/td\u003e\n      \u003ctd\u003eCharite - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e455.94\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003eHS0200\u003c/td\u003e\n      \u003ctd\u003eHU\u003c/td\u003e\n      \u003ctd\u003eHumboldt-Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e3608.46\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003eHS0200\u003c/td\u003e\n      \u003ctd\u003eHU\u003c/td\u003e\n      \u003ctd\u003eHumboldt-Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e2806.58\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e16\u003c/th\u003e\n      \u003ctd\u003eHS1380\u003c/td\u003e\n      \u003ctd\u003eFU\u003c/td\u003e\n      \u003ctd\u003eFreie Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e8280.02\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e21\u003c/th\u003e\n      \u003ctd\u003eHS1690\u003c/td\u003e\n      \u003ctd\u003eTU\u003c/td\u003e\n      \u003ctd\u003eTechnische Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e9914.01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e23\u003c/th\u003e\n      \u003ctd\u003eHS1700\u003c/td\u003e\n      \u003ctd\u003eESCP\u003c/td\u003e\n      \u003ctd\u003eESCP-Europe Wirtschaftshochschule Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1092.00\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e30\u003c/th\u003e\n      \u003ctd\u003eHS2290\u003c/td\u003e\n      \u003ctd\u003eBIU\u003c/td\u003e\n      \u003ctd\u003eBerlin Int. Univ. of Applied Sciences\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e417.00\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e36\u003c/th\u003e\n      \u003ctd\u003eHS2790\u003c/td\u003e\n      \u003ctd\u003eUAB\u003c/td\u003e\n      \u003ctd\u003eUniversität der Künste Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1243.34\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e39\u003c/th\u003e\n      \u003ctd\u003eHS3270\u003c/td\u003e\n      \u003ctd\u003eGIU\u003c/td\u003e\n      \u003ctd\u003eGerman International University Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eHL\u003c/td\u003e\n      \u003ctd\u003e478.00\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e45\u003c/th\u003e\n      \u003ctd\u003eHS5802\u003c/td\u003e\n      \u003ctd\u003eUEAS\u003c/td\u003e\n      \u003ctd\u003eU of Europe for Appl.Sc.Potsdam i.Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e2501.00\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e52\u003c/th\u003e\n      \u003ctd\u003eHS7690\u003c/td\u003e\n      \u003ctd\u003eHTW\u003c/td\u003e\n      \u003ctd\u003eHochschule für Technik und Wirtschaft Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e3908.01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e55\u003c/th\u003e\n      \u003ctd\u003eHS7710\u003c/td\u003e\n      \u003ctd\u003eBTS\u003c/td\u003e\n      \u003ctd\u003eBerliner Hochschule für Technik\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e2171.96\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e56\u003c/th\u003e\n      \u003ctd\u003eHS7721\u003c/td\u003e\n      \u003ctd\u003eHWR_BA\u003c/td\u003e\n      \u003ctd\u003eHWR Berlin, FB Wirtschaft\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eHH\u003c/td\u003e\n      \u003ctd\u003e1335.88\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e69\u003c/th\u003e\n      \u003ctd\u003eHS7971\u003c/td\u003e\n      \u003ctd\u003eSRHU\u003c/td\u003e\n      \u003ctd\u003eSRH Berlin U of Appl. Sciences in Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eLH\u003c/td\u003e\n      \u003ctd\u003e1480.00\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"      code      abr                                           name  \\\n2   HS0180      CU            Charite - Universitätsmedizin Berlin   \n3   HS0180      CU            Charite - Universitätsmedizin Berlin   \n6   HS0200      HU                     Humboldt-Universität Berlin   \n7   HS0200      HU                     Humboldt-Universität Berlin   \n16  HS1380      FU                        Freie Universität Berlin   \n21  HS1690      TU                   Technische Universität Berlin   \n23  HS1700     ESCP      ESCP-Europe Wirtschaftshochschule Berlin    \n30  HS2290     BIU          Berlin Int. Univ. of Applied Sciences    \n36  HS2790     UAB                   Universität der Künste Berlin   \n39  HS3270     GIU         German International University Berlin    \n45  HS5802    UEAS       U of Europe for Appl.Sc.Potsdam i.Berlin    \n52  HS7690      HTW  Hochschule für Technik und Wirtschaft Berlin    \n55  HS7710     BTS                Berliner Hochschule für Technik    \n56  HS7721  HWR_BA                      HWR Berlin, FB Wirtschaft    \n69  HS7971    SRHU       SRH Berlin U of Appl. Sciences in Berlin    \n\n                  own cluster   !s_aus  \n2   Public University      LH  1266.50  \n3   Public University      HL   455.94  \n6   Public University      LH  3608.46  \n7   Public University      LH  2806.58  \n16  Public University      LH  8280.02  \n21  Public University      LH  9914.01  \n23  Privat University      HH  1092.00  \n30  Privat University      HL   417.00  \n36  Public University      HH  1243.34  \n39  Privat University      HL   478.00  \n45  Privat University      LH  2501.00  \n52  Public University      LH  3908.01  \n55  Public University      LH  2171.96  \n56  Public University      HH  1335.88  \n69  Privat University      LH  1480.00  ","content_type":"text/plain"}}},"children":[],"key":"BEBwH8VoRQ"}],"visibility":"show","key":"TxucmQEw6S"}],"visibility":"show","key":"PEAZ7xgroQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Central Higher Education Universities","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cvI4WymKPC"}],"key":"ljZL9jKen8"}],"key":"dKVdFxSgvN"}],"key":"K390BFOTZG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Market Areas Definition","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SK1yUFDxUi"}],"identifier":"market-areas-definition","label":"Market Areas Definition","html_id":"market-areas-definition","implicit":true,"key":"AS9sYxC8yB"}],"key":"zbLtNmmhTL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Once the central universities have been identified, the next step is to define market areas that jointly reflect data on higher education universities’ international demand and student accommodation capacity. As noted in the Overview chapter, there are several approaches to combining these data. Here are three primary approaches.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"reL9TEUk80"}],"key":"LAhK8nwFwJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The first approach is to use Berlin’s existing administrative boundaries, such as Life-Oriented Spaces (LOR - Lebensweltlich Orientierte Räume) or their sub-level Neighbourhood Districts (BZR - Bezirksregionen). However, this method creates significant gaps: many areas end up “empty” because they have neither universities nor student accommodation. This indicates that neighbourhood districts are too small for analysing the urban supply and demand system. The next level, Prognosis Areas (PGR), on the contrary, is too large and aggregates too heterogeneous areas. Thus, the existing life-oriented spaces do not reflect the real geography of the student housing market.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RlA20N4nKT"}],"key":"xhA2kQioCh"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The second approach is to build buffer zones around central universities, creating new geometries for spatial data integration. However, due to Berlin’s heterogeneous morphology, it is impossible to correctly determine a universal buffer distance. In addition, this method results in all market areas being the same size, which contradicts the actual structure of urban accessibility and central place theory.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"l70DYSWd0p"}],"key":"waXV9LEHuf"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The third approach is to use accessibility isochrones, i.e., zones formed on the basis of actual travel time. Unlike administrative boundaries or fixed buffers, isochrones reflect the actual spatial relationship  and student mobility. This allows for the creation of flexible and functionally relevant market areas in which supply and demand can be matched more accurately.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"uuxih8klAD"}],"key":"aYpWzIYNNs"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"To construct accessibility isochrones, the study used the Travel Time API service, which allows modelling reachability zones based on real-time travel. A distinctive feature of the Travel Time service is the ability to generate isochrones based on public transport estimates (","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YDh6GIkULu"},{"type":"inlineCode","value":"‘type’: ‘public_transport’","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XcGh4MpRVW"},{"type":"text","value":").","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"O5PF8ZxxBO"}],"key":"wtIExdQsAq"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Below is an example of using the Travel Time API to create 15-minute accessibility zones (","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"al2fXVKK1o"},{"type":"inlineCode","value":"travel_time = 900","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"E6bj1w7CwO"},{"type":"text","value":").","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"LLDfgNGgdG"}],"key":"dL86ZEwh2V"}],"key":"PvilC3x5CW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# url = 'https://api.traveltimeapp.com/v4/time-map'\n\n# tt_app_id = 'my_app_id'\n# tt_api_key = 'my_api_key'\n\n# headers = {\n#     'content-type': 'application/json',\n#     'x-application-id': tt_app_id,\n#     'x-api-key': tt_api_key\n# }\n\n# travel_time = 900 # 15 minutes\n\n# for idx, row in central_places.iterrows():\n#     lon = float(row['lon'])\n#     lat = float(row['lat'])\n\n#     payload = {\n#         \"arrival_searches\": [\n#             {\n#                 \"id\": f\"iso_{idx}\",\n#                 \"coords\": {\"lat\": lat, \"lng\": lon},\n#                 \"arrival_time\": \"2025-08-13T09:00:00+01:00\",\n#                 \"travel_time\": travel_time,\n#                 \"transportation\": {\"type\": \"public_transport\", \"disable_border_crossing\": True } \n#             }\n#         ]\n#     }\n\n#     resp = requests.post(url, json=payload, headers=headers)\n#     print(f\"request {idx}: {resp.status_code} {resp.reason} for location {[lon, lat]}\")\n\n#     if resp.ok:\n#         data = resp.json()\n#         for res in data.get('results', []):\n#             search_id = res.get('search_id')\n#             for shp in res.get('shapes', []):\n#                 shell = shp.get('shell', [])\n#                 if not shell:\n#                     continue\n#                 coords = [(pt['lng'], pt['lat']) for pt in shell]\n#                 if coords and coords[0] != coords[-1]:\n#                     coords.append(coords[0])\n#                 poly = Polygon(coords)\n#                 g = gpd.GeoDataFrame([{'geometry': poly, 'tt_id': search_id, \n#                                       'origin_lon': lon, 'origin_lat': lat}],\n#                                       crs='EPSG:4326')\n#                 iso_gdf = gpd.GeoDataFrame(pd.concat([iso_gdf, g], \n#                                                       ignore_index=True, \n#                                                       sort=False))\n\n#         time.sleep(15)\n\n# print(f\"got {len(iso_gdf)} isochrone polygons.\")","key":"KivoEyTMP8"},{"type":"outputs","id":"WjTKHwr107s6Zm_gB2_e-","children":[],"key":"QxYbaIPaaE"}],"key":"WkkVTchqpn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# iso_gdf[\"geometry\"] = iso_gdf[\"geometry\"].buffer(0)\n# iso_gdf.to_crs(epsg=25833)\n\n# ef = r\"../outputs/3.2_central_place_analysis/iso_without_data_15_min.gpkg\"\n# iso_gdf.to_file(ef, driver=\"GPKG\")","key":"wkLtR4vqVT"},{"type":"outputs","id":"l_w2TgSGx0tlg5ZL1AWha","children":[],"key":"ap1GD5Oj0k"}],"key":"lNZT2LgECo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Travel Time Test","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QQR97fBIVc"}],"identifier":"travel-time-test","label":"Travel Time Test","html_id":"travel-time-test","implicit":true,"key":"Bk2XEqDtXc"}],"key":"BRxQjTlYDd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Since isochrones are sensitive to travel time, a travel time test was conducted (Figure XX) to determine market areas where travel time varied from 10 to 35 minutes with 5-minute intervals (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"clugYv9QsX"},{"type":"inlineCode","value":"isochrone_times = [10, 15, 20, 25, 30, 35]","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hqIWa9RagJ"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xo7SpsH6Bm"}],"key":"vwSOIPOneh"}],"key":"lA4kVL41AG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Define isochrone time ranges\nisochrone_times = [10, 15, 20, 25, 30, 35]\nbase_path = \"../outputs/3.2_central_place_analysis\"\n\n# Initialize results storage\nresults_summary = []\npbsa_market_summary = None\niso_dem_ready = None \npbsa_cap_ready = None\nsummary_df = None","key":"Gw17O3F8A8"},{"type":"outputs","id":"gmRMKAFrpuYqJkdUS_-Bi","children":[],"key":"IRL8VkGqoO"}],"key":"iEXwuqOHkH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"total_capacity_complete = pbsa_cap[\"!cap\"].sum()\ntotal_demand_complete = uni_dem[\"!s_aus\"].sum()\n\npbsa_cap = pbsa_cap.to_crs(\"EPSG:25833\")\ncentral_places = central_places.to_crs(\"EPSG:25833\")","key":"NUYXcuVtmS"},{"type":"outputs","id":"ZS7TYw0pqmtVySSkSw-SU","children":[],"key":"kIrywwtcFb"}],"key":"YGRxzRKKc5"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"n_rows, n_cols = 3, 2   \nfig, axs = plt.subplots(\n    nrows=n_rows,\n    ncols=n_cols,\n    figsize=(9 * n_cols, 6 * n_rows)\n)\n\nfor idx, time_min in enumerate(isochrone_times):\n    r, c = divmod(idx, n_cols)         \n    ax = axs[r, c]\n\n    file_path = os.path.join(base_path, f\"iso_without_data_{time_min}_min.gpkg\")\n    market = gpd.read_file(file_path).to_crs(\"EPSG:25833\")\n\n\n    pgr.plot(ax=ax,facecolor='none',edgecolor='#cccccc',linewidth=0.5,linestyle='--')\n    bz.plot(ax=ax,facecolor='none',edgecolor='#999999',linewidth=0.75)\n    out.plot(ax=ax,facecolor='none',edgecolor='#666666',linewidth=1)\n\n    market.plot(\n        ax=ax,\n        color=\"#FEC5BB\",          #.reversed()   # \u003c-- choose any matplotlib colormap\n        alpha=0.35,\n        edgecolor='white',\n        linewidth=1,\n        legend=True,\n        legend_kwds={'shrink': 0.6, 'label': \"demand‑capacity pressure\"}\n    )\n\n    letter = string.ascii_lowercase[idx]  # 'a', 'b', 'c', …\n    ax.set_title(f\"{letter}. Travel Time – {time_min} minutes\", fontsize=12, pad=8, fontweight='bold')\n    ax.set_axis_off()\n    plt.tight_layout()\n\nsave_path = os.path.join(hf, \"Travel Time Test.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"GgDxercwg5"},{"type":"outputs","id":"Y-NKDp2wJ-u5zjBAgy8Lm","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"45949f69f37e9f5a26be3666e3add5b8","path":"/rethinking_student_housing/build/45949f69f37e9f5a26be3666e3add5b8.png"},"text/plain":{"content":"\u003cFigure size 1800x1800 with 6 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"rkKpI0TmN3"}],"visibility":"show","key":"vNEiM81OpC"}],"visibility":"show","key":"ZJ94FNapM6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Travel-Time API Test","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sx5K1RYOm5"}],"key":"hTI6rnAJof"}],"key":"hcF904KNeN"}],"key":"AFOgmL90yM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When constructing isochrones, it is important to correctly interpret the allocation of student housing capacity and higher education universities demand.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YrHwSAhRdH"}],"key":"PJrBMEi2U0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The allocation of student accommodations is performed using a spatial join between points and isochrone polygons. Since one student accommodations facility may be located within the catchment area of several universities, directly assigning its full capacity to each area would lead to a significant overestimation of supply. To avoid double-counting, each student accommodation facility first receives information about the number of isochrones in which it is located, after which its capacity is divided equally among all relevant areas. The adjusted values are then aggregated at the market area level. This approach allows for the correct distribution of available housing in accordance with the actual spatial structure of accessibility, taking into account the overlap of the areas of influence of different universities.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OCvwBltGcW"}],"key":"bJdDvRpd3h"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Similar to the distribution of dormitories, university demand (number of German students (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hhnzSOWg73"},{"type":"inlineCode","value":"!s_de","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RE5FvxoTLB"},{"type":"text","value":"), number of foreign students (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QRmTXWtS5D"},{"type":"inlineCode","value":"!s_aus","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FfClJ5gc21"},{"type":"text","value":") and total number of students (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bH1dquo7dT"},{"type":"inlineCode","value":"!s_all","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wOvyg1l3Ko"},{"type":"text","value":")) is assigned to isochrones based on the principle of spatial intersection. Universities may also lie within several isochrones, especially when accessibility times are long (30–35 minutes). Therefore, the demand for each university is divided among all the zones within which it falls. This method eliminates artificial doubling of demand and creates a balanced distribution that reflects the real impact of universities on the housing market within their accessibility zones. The final demand values are aggregated at the market area level and can be compared with the distributed student accommodation capacity.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ndwR8hdR5D"}],"key":"O8buv3AU9n"}],"key":"IZMFEagI7K"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"for time_min in isochrone_times:\n    # Load isochrone data\n    iso_file = f\"{base_path}/iso_without_data_{time_min}_min.gpkg\"\n    iso_gdf = gpd.read_file(iso_file)\n    \n    # Reproject immediately\n    if iso_gdf.crs != \"EPSG:25833\":\n        iso_gdf = iso_gdf.to_crs(\"EPSG:25833\")\n\n    # Build multipolygons per tt_id \n    iso_multi = (\n        iso_gdf.groupby([\"tt_id\", \"origin_lon\", \"origin_lat\"])\n        .geometry.apply(lambda g: MultiPolygon([geom for geom in g]))\n        .reset_index()\n    )\n    iso_multi_gdf = gpd.GeoDataFrame(iso_multi, geometry=\"geometry\", crs=\"EPSG:25833\")\n\n    # Prepare central places (no geometry needed for merge)\n    central_places_no_geom = central_places.drop(columns=\"geometry\")\n    central_places_no_geom[\"lon\"] = central_places_no_geom[\"lon\"].astype(float)\n\n    # Merge on origin_lon/lon\n    iso_multi_gdf[\"origin_lon\"] = iso_multi_gdf[\"origin_lon\"].astype(float)\n    iso_dem = iso_multi_gdf.merge(\n        central_places_no_geom,\n        left_on=\"origin_lon\",\n        right_on=\"lon\"\n    )\n    iso_dem = gpd.GeoDataFrame(iso_dem, geometry=\"geometry\", crs=\"EPSG:25833\")\n    iso_dem = iso_dem.drop(columns=[\"origin_lon\", \"url\"])\n    iso_dem[\"geometry\"] = iso_dem[\"geometry\"].buffer(0)   # fix invalids\n\n    # From here everything is already in EPSG:25833\n    pbsa_cap_ready = pbsa_cap.copy()\n    if \"pbsa_id\" not in pbsa_cap_ready.columns:\n        pbsa_cap_ready[\"pbsa_id\"] = pbsa_cap_ready.index\n    \n    iso_dem_ready = iso_dem.copy()\n    if \"iso_id\" not in iso_dem_ready.columns:\n        iso_dem_ready[\"iso_id\"] = iso_dem_ready.index\n    \n    uni_dem = uni_dem.copy()\n    if 'uni_id' not in uni_dem.columns:\n        uni_dem['uni_id'] = uni_dem.index\n\n    # PBSA allocation\n    join_pbsa = gpd.sjoin(pbsa_cap_ready, iso_dem_ready, how=\"inner\", predicate=\"intersects\")\n    n_iso_pbsa = join_pbsa.groupby(\"pbsa_id\")[\"iso_id\"].nunique().rename(\"n_iso_pbsa\")\n    join_pbsa = join_pbsa.merge(n_iso_pbsa, left_on=\"pbsa_id\", right_index=True, how=\"left\")\n    cap_cols = [\"!cap\"]\n    for c in cap_cols:\n        join_pbsa[f\"{c}_sum\"] = join_pbsa[c] / join_pbsa[\"n_iso_pbsa\"]\n    iso_alloc_pbsa = (\n        join_pbsa.groupby(\"iso_id\")[[f\"{c}_sum\" for c in cap_cols]]\n        .sum().reset_index()\n    )\n    \n    # --- UNI allocation ---\n    join_uni = gpd.sjoin(uni_dem, iso_dem_ready, how='inner', predicate='intersects')\n    n_iso_uni = join_uni.groupby('uni_id')['iso_id'].nunique().rename('n_iso_uni')\n    join_uni = join_uni.merge(n_iso_uni, left_on='uni_id', right_index=True, how='left')\n    dem_cols = ['!s_aus_left', '!s_de_left', '!s_all_left']\n    for c in dem_cols:\n        join_uni[f'{c}_sum'] = join_uni[c] / join_uni['n_iso_uni']\n    iso_alloc_uni = (join_uni.groupby('iso_id')[[f'{c}_sum' for c in dem_cols]]\n                 .sum()\n                 .reset_index())\n    \n    # Merge results\n    market_area = iso_dem_ready.merge(iso_alloc_pbsa, on=\"iso_id\", how=\"left\")\n    market_area = market_area.merge(iso_alloc_uni, on=\"iso_id\", how=\"left\")\n    \n    market_area = market_area.rename(columns={\n        \"!s_aus_left_sum\": \"!s_aus_sum\",\n        \"!s_de_left_sum\": \"!s_de_sum\",\n        \"!s_all_left_sum\": \"!s_all_sum\",\n    })\n    \n    # Ratios\n    market_area[\"capacity_demand_ratio\"] = (\n        market_area[\"!cap_sum\"] / market_area[\"!s_aus_sum\"].replace(0, np.inf)\n    )\n    market_area[\"demand_capacity_pressure\"] = (\n        market_area[\"!s_aus_sum\"] / market_area[\"!cap_sum\"].replace(0, np.inf)\n    )\n    market_area[\"area\"] = market_area.geometry.area / 1e6 # in sq km\n    \n    # PBSA count\n    pbsa_pts = pbsa_cap_ready.copy()\n    wb = gpd.sjoin(pbsa_pts, market_area[[\"iso_id\", \"geometry\"]], how=\"inner\", predicate=\"within\")\n    pbsa_counts = wb.groupby(\"iso_id\").size()\n    market_area[\"pbsa_count\"] = market_area[\"iso_id\"].map(pbsa_counts).fillna(0).astype(int)\n\n    # Uni Count \n    uni_pts = uni_dem.copy()   # again, geometry is already active\n    # Spatial join: UNI point within isochrone polygon\n    wb = gpd.sjoin(uni_pts, market_area[['iso_id', 'geometry']], how='inner', predicate='within')\n    # Count UNI per iso_id\n    uni_counts = wb.groupby('iso_id').size()\n    # Attach to market_area – fill missing with 0\n    market_area['uni_count'] = market_area['iso_id'].map(uni_counts).fillna(0).astype(int)\n    \n    # Travel time\n    market_area[\"travel_time_min\"] = time_min\n    \n    #Cleaning \n    market_area['cluster'] = market_area['cluster'].map({\n    'HH': 'High-High (HH)',\n    'HL': 'High-Low (HL)', \n    'LH': 'Low-High (LH)',\n    'LL': 'Low-Low (LL)',\n    'NS': 'Not Significant (NS)'\n    })\n    columns_to_drop = ['origin_lat', 'origin_lon', 'cluster_aus', 'iso_id', 'lon']\n    market_area = market_area.drop(columns=columns_to_drop, errors='ignore')\n\n    # Save\n    output_file = f\"{base_path}/market_areas_{time_min}_min.gpkg\"\n    market_area.to_file(output_file, driver=\"GPKG\")\n    \n    # Summary stats\n    total_capacity_inside = market_area[\"!cap_sum\"].sum()\n    total_demand_inside = market_area[\"!s_aus_sum\"].sum()\n\n    uncovered_demand = total_demand_complete - total_demand_inside\n    unused_capacity = total_capacity_complete - total_capacity_inside\n    \n    results_summary.append({\n        \"travel_time_min\": time_min,\n        \"total_capacity_inside\": total_capacity_inside,\n        \"total_demand_inside\": total_demand_inside,\n        \"uncovered_demand\": uncovered_demand,\n        \"unused_capacity\": unused_capacity,\n        # \"market_areas_count\": len(market_area),\n        # \"market_areas_with_capasity\": len(market_area[market_area['!cap_sum'].notnull()]),\n    })","key":"cLe7OgFg7c"},{"type":"outputs","id":"UGX3wIJTEX9j1LVSu5tQF","children":[],"key":"dW5qNYhBPL"}],"key":"THErzdSQfk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"By changing the time thresholds, it is possible to check the stability of market areas: whether the structure of supply and demand zones changes or remains stable. To do this, at the final stage, a summary of key indicators is formed for each tested time of availability, allowing us to assess how effectively the formed market areas reflect the real structure of supply and demand. The table (Table XX) contains: the total capacity of dormitories that fall within the isochrones (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AeOUEGwlzr"},{"type":"inlineCode","value":"total_capacity_inside","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dR3Bn4SQWT"},{"type":"text","value":") and the total university demand covered by these same areas (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dCSbP2WTDn"},{"type":"inlineCode","value":"total_demand_inside","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YbvUOR9vAe"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jmiQAZ6L3t"}],"key":"znGstjNZhG"}],"key":"E4lbGUhSZB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create summary DataFrame\nsummary_df = []\n\nsummary_df = pd.DataFrame(results_summary).round(1)\n\nsummary_df.sort_values(\"travel_time_min\", inplace=True)\n\nsummary_df","key":"MTF8BRIY3w"},{"type":"outputs","id":"ZqzRvDKg8HbNDsr_OfgZw","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"travel_time_min\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"total_capacity_inside\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"total_demand_inside\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"uncovered_demand\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"unused_capacity\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"e21bfca2-e5ea-42ab-a0cd-402f015fbad6\",\"rows\":[[\"0\",\"10\",\"3001.0\",\"32358.5\",\"16098.3\",\"22816.0\"],[\"1\",\"15\",\"6191.0\",\"44461.9\",\"3994.9\",\"19626.0\"],[\"2\",\"20\",\"9089.0\",\"45344.2\",\"3112.6\",\"16728.0\"],[\"3\",\"25\",\"15195.0\",\"46592.4\",\"1864.4\",\"10622.0\"],[\"4\",\"30\",\"17841.0\",\"46976.1\",\"1480.6\",\"7976.0\"],[\"5\",\"35\",\"20635.0\",\"47224.8\",\"1232.0\",\"5182.0\"]],\"shape\":{\"columns\":5,\"rows\":6}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003etravel_time_min\u003c/th\u003e\n      \u003cth\u003etotal_capacity_inside\u003c/th\u003e\n      \u003cth\u003etotal_demand_inside\u003c/th\u003e\n      \u003cth\u003euncovered_demand\u003c/th\u003e\n      \u003cth\u003eunused_capacity\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e10\u003c/td\u003e\n      \u003ctd\u003e3001.0\u003c/td\u003e\n      \u003ctd\u003e32358.5\u003c/td\u003e\n      \u003ctd\u003e16098.3\u003c/td\u003e\n      \u003ctd\u003e22816.0\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e15\u003c/td\u003e\n      \u003ctd\u003e6191.0\u003c/td\u003e\n      \u003ctd\u003e44461.9\u003c/td\u003e\n      \u003ctd\u003e3994.9\u003c/td\u003e\n      \u003ctd\u003e19626.0\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003e20\u003c/td\u003e\n      \u003ctd\u003e9089.0\u003c/td\u003e\n      \u003ctd\u003e45344.2\u003c/td\u003e\n      \u003ctd\u003e3112.6\u003c/td\u003e\n      \u003ctd\u003e16728.0\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003e25\u003c/td\u003e\n      \u003ctd\u003e15195.0\u003c/td\u003e\n      \u003ctd\u003e46592.4\u003c/td\u003e\n      \u003ctd\u003e1864.4\u003c/td\u003e\n      \u003ctd\u003e10622.0\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003e30\u003c/td\u003e\n      \u003ctd\u003e17841.0\u003c/td\u003e\n      \u003ctd\u003e46976.1\u003c/td\u003e\n      \u003ctd\u003e1480.6\u003c/td\u003e\n      \u003ctd\u003e7976.0\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003e35\u003c/td\u003e\n      \u003ctd\u003e20635.0\u003c/td\u003e\n      \u003ctd\u003e47224.8\u003c/td\u003e\n      \u003ctd\u003e1232.0\u003c/td\u003e\n      \u003ctd\u003e5182.0\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"   travel_time_min  total_capacity_inside  total_demand_inside  \\\n0               10                 3001.0              32358.5   \n1               15                 6191.0              44461.9   \n2               20                 9089.0              45344.2   \n3               25                15195.0              46592.4   \n4               30                17841.0              46976.1   \n5               35                20635.0              47224.8   \n\n   uncovered_demand  unused_capacity  \n0           16098.3          22816.0  \n1            3994.9          19626.0  \n2            3112.6          16728.0  \n3            1864.4          10622.0  \n4            1480.6           7976.0  \n5            1232.0           5182.0  ","content_type":"text/plain"}}},"children":[],"key":"bs5I9L6UzF"}],"key":"v2LOCfDrna"}],"key":"fdvBhamzxa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Travel Time Summary Statistics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OV9Gk0dVYq"}],"key":"ulHKb4db3r"}],"key":"Twu1zlXOJG"}],"key":"Kd2ZMmuc8B"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"output_path = r\"../outputs/3.2_central_place_analysis/market_area_travel_time.xlsx\" \nwith pd.ExcelWriter(output_path, engine='openpyxl') as writer:\n    summary_df.to_excel(writer, sheet_name='base')","key":"cV8jOhQBTO"},{"type":"outputs","id":"K-5K7w_5g8ocKzKCB8Rzw","children":[],"key":"Cat6yMwF7o"}],"key":"GsEfGyYCoH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Comparing these indicators between different time thresholds (10–35 minutes) (Figure XX) allows us to determine the optimal radius of market influence of universities, as well as to identify structural imbalances between supply and demand associated with spatial constraints. This approach provides a quantitative basis for selecting the isochrone threshold and correctly forming market areas.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"n1ugwiTlqN"}],"key":"TfVXLTSF4W"}],"key":"a1WMvZ1eMQ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get the total values for percentage calculation\ntotal_demand_complete = uni_dem['!s_aus'].sum()  # You'll need to load uni_dem data\ntotal_capacity_complete = pbsa_cap['!cap'].sum()\n\n# Create the figure and axis\nfig, ax = plt.subplots(figsize=(12, 12))\n\n# Set up the bar positions\nx = np.arange(len(summary_df))\nwidth = 0.35\n\n# Calculate percentages\ndemand_percentages = (summary_df['total_demand_inside'] / total_demand_complete) * 100\ncapacity_percentages = (summary_df['total_capacity_inside'] / total_capacity_complete) * 100\n\n\ndemand_coeffs    = np.polyfit(x, demand_percentages, 1)\ncapacity_coeffs  = np.polyfit(x, capacity_percentages, 1)\n\n# Prepare a smooth x array for plotting the line\nx_smooth = np.linspace(-0.5, len(summary_df)-0.5, 200)\n\n# Evaluate the fitted lines\ndemand_trend    = np.polyval(demand_coeffs, x_smooth)\ncapacity_trend  = np.polyval(capacity_coeffs, x_smooth)\n\n# Plot the trend lines\nax.plot(x_smooth, demand_trend,   color='#F08080',   lw=1.5, linestyle='--', label='demand trend')\nax.plot(x_smooth, capacity_trend, color='#F49F7D', lw=1.5, linestyle='--', label='capacity trend')\n\n# Create bars\ndemand_bars = ax.bar(x - width/2, demand_percentages, width, label='total demand inside', \n                     color='#FAE1DD', alpha=1, linewidth=1)\ncapacity_bars = ax.bar(x + width/2, capacity_percentages, width, label='total capasity inside', \n                       color='#FFD7BA', alpha=1,  linewidth=1)\n\n\n\n# Prepare a smooth x array for plotting the line\nx_smooth = np.linspace(-0.5, len(summary_df)-0.5, 200)\n\n# Customize the plot\nax.set_ylim(0, 101)                # a bit of head‑room for the trend lines\nax.set_yticks(np.arange(0, 101, 10))   # 0,10,20,...,100\nax.set_xlabel('travel time')\nax.set_ylabel('percentage of total')\nax.set_title('Market Areas Demand-Capacity Coverage by Travel Time', fontsize=12, pad=8, fontweight='bold')\nax.set_xticks(x)\nax.set_xticklabels(summary_df['travel_time_min'])\nplt.legend(loc='best', frameon=False)\nax.grid(True, alpha=0.3, axis='y')\n\n# Add percentage labels on bars\ndef add_labels(bars, percentages):\n    for bar, percentage in zip(bars, percentages):\n        height = bar.get_height()\n        ax.text(bar.get_x() + bar.get_width()/2., height + 0.5,\n                f'{percentage:.0f}%', ha='center', va='bottom', fontsize=10)\n\nadd_labels(demand_bars, demand_percentages)\nadd_labels(capacity_bars, capacity_percentages)\n\nplt.tight_layout()\n\nsave_path = os.path.join(hf, \"Market Areas Demand-Capacity Coverage by Travel Time.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"frVuJDv9Dh"},{"type":"outputs","id":"XhAmehdoO07yLxuLaEaZR","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"2c1b49220938c8317675d305072cc7f8","path":"/rethinking_student_housing/build/2c1b49220938c8317675d305072cc7f8.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"N3UvX26NiL"}],"visibility":"show","key":"GXFSrgUxHg"}],"visibility":"show","key":"sWGlfRihh4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Market Areas Demand-Capacity Coverage by Travel Time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WoKA3nJDhG"}],"key":"WjkgQxlFSG"}],"key":"NgLJSCNt8U"}],"key":"XobG7pojI0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The results of the travel time test demonstrate that increasing the time threshold for accessibility significantly affects the degree of coverage of university demand and the capacity of student housing included in market areas. However, the effect grows unevenly, and it is precisely this dynamic that allows us to determine the optimal travel time value.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NrxfMLtYrg"}],"key":"rShNsgsPnt"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First, at thresholds of 10–25 minutes, there is a significant discrepancy between the share of demand covered and the share of capacity included. For example, at 25 minutes, the market already covers 96% of total demand, but only 59% of housing capacity. This imbalance indicates that with short isochrones, a significant portion of dormitories remain formally ‘outside the market,’ which leads to artificially inflated estimates of the deficit and local market pressure.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TdPfQagW2Y"}],"key":"Tl1ldmBcgs"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Secondly, starting at 30 minutes, the volume of included capacity increases sharply, reaching 69%, and by 35 minutes, 80%, which reflects a significant improvement in the spatial correspondence between university demand and student accommodation capacity. At the same time, there is no further noticeable growth in demand coverage: even at 20 minutes, more than 94% of student demand is covered, and at 30–35 minutes, 97%. This means that an increase in travel time in this range mainly affects the housing supply rather than changing the demand pattern.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p1A86VBQVI"}],"key":"zruDxqvNKL"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Thus, the 35-minute threshold represents an optimal compromise.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"x733k8lH21"}],"key":"tahPXMiOIY"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Moreover, according to a study by Menz \u0026 Mandl (2024), students studying mostly in person spend 5 hours more per week on study-related activities compared to students studying mostly online. Thus, it can be concluded that full-time students spend an additional 5 hours per week commuting, which is equivalent to approximately 1 hour per day or 30 minutes each way.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"t4t5Xw3M2Z"}],"key":"yvnHgQOcjd"}],"key":"l16RLhrtMF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Market Areas Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vZceQGYrB8"}],"identifier":"market-areas-analysis","label":"Market Areas Analysis","html_id":"market-areas-analysis","implicit":true,"key":"b5nAO0IDb3"}],"key":"tEdVXPHKcV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Spatial economics and central place metrics were used to analyse market areas (Table XX).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZAWSGM3FXq"}],"key":"f67ykWZqdp"}],"key":"SlAjSoJt0J"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[[\n    \"code\",\n    \"name\",\n    \"own\",\n    \"cluster\",\n    \"!cap_sum\",\n    \"!s_aus_sum\",\n    \"!s_de_sum\",\n    \"!s_all_sum\"\n]].round(1)\n\n#market_area.describe().round(1)","visibility":"remove","key":"JDCP4FBBMg"},{"type":"outputs","id":"_Wh1LOjHhXkCzOQlK-u9d","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"code\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"name\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"own\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"cluster\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!cap_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"!s_de_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"!s_all_sum\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"0cc401bc-8cf0-40c7-90fb-6094be216351\",\"rows\":[[\"0\",\"HS0180\",\"Charite - Universitätsmedizin Berlin\",\"Public University\",\"Low-High (LH)\",\"1455.4\",\"3072.6\",\"8126.0\",\"11198.7\"],[\"1\",\"HS0180\",\"Charite - Universitätsmedizin Berlin\",\"Public University\",\"High-Low (HL)\",\"511.5\",\"2563.9\",\"10281.7\",\"12845.5\"],[\"2\",\"HS5802\",\"U of Europe for Appl.Sc.Potsdam i.Berlin \",\"Privat University\",\"Low-High (LH)\",\"1594.8\",\"3520.2\",\"9143.1\",\"12663.4\"],[\"3\",\"HS7690\",\"Hochschule für Technik und Wirtschaft Berlin \",\"Public University\",\"Low-High (LH)\",\"3808.8\",\"4446.4\",\"19321.6\",\"23768.1\"],[\"4\",\"HS7710\",\"Berliner Hochschule für Technik \",\"Public University\",\"Low-High (LH)\",\"1409.9\",\"3023.1\",\"7929.0\",\"10952.1\"],[\"5\",\"HS7721\",\"HWR Berlin, FB Wirtschaft \",\"Public University\",\"High-High (HH)\",\"884.2\",\"5449.5\",\"16643.3\",\"22092.8\"],[\"6\",\"HS7971\",\"SRH Berlin U of Appl. Sciences in Berlin \",\"Privat University\",\"Low-High (LH)\",\"1687.0\",\"1244.6\",\"1773.3\",\"3017.9\"],[\"7\",\"HS0200\",\"Humboldt-Universität Berlin\",\"Public University\",\"Low-High (LH)\",\"1245.5\",\"4352.1\",\"18945.9\",\"23297.9\"],[\"8\",\"HS0200\",\"Humboldt-Universität Berlin\",\"Public University\",\"Low-High (LH)\",\"2000.0\",\"3190.8\",\"9539.3\",\"12730.1\"],[\"9\",\"HS1380\",\"Freie Universität Berlin\",\"Public University\",\"Low-High (LH)\",\"885.8\",\"2739.1\",\"10922.5\",\"13661.6\"],[\"10\",\"HS1690\",\"Technische Universität Berlin\",\"Public University\",\"Low-High (LH)\",\"831.0\",\"2567.9\",\"6318.9\",\"8886.8\"],[\"11\",\"HS1700\",\"ESCP-Europe Wirtschaftshochschule Berlin \",\"Privat University\",\"High-High (HH)\",\"588.2\",\"1619.2\",\"3540.3\",\"5159.6\"],[\"12\",\"HS2290\",\"Berlin Int. Univ. of Applied Sciences \",\"Privat University\",\"High-Low (HL)\",\"1201.0\",\"3196.7\",\"8005.7\",\"11202.5\"],[\"13\",\"HS2790\",\"Universität der Künste Berlin\",\"Public University\",\"High-High (HH)\",\"2280.6\",\"5760.5\",\"17545.6\",\"23306.2\"],[\"14\",\"HS3270\",\"German International University Berlin \",\"Privat University\",\"High-Low (HL)\",\"251.3\",\"478.0\",\"0.0\",\"478.0\"]],\"shape\":{\"columns\":8,\"rows\":15}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003ecode\u003c/th\u003e\n      \u003cth\u003ename\u003c/th\u003e\n      \u003cth\u003eown\u003c/th\u003e\n      \u003cth\u003ecluster\u003c/th\u003e\n      \u003cth\u003e!cap_sum\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003e!s_de_sum\u003c/th\u003e\n      \u003cth\u003e!s_all_sum\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eHS0180\u003c/td\u003e\n      \u003ctd\u003eCharite - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e1455.4\u003c/td\u003e\n      \u003ctd\u003e3072.6\u003c/td\u003e\n      \u003ctd\u003e8126.0\u003c/td\u003e\n      \u003ctd\u003e11198.7\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eHS0180\u003c/td\u003e\n      \u003ctd\u003eCharite - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eHigh-Low (HL)\u003c/td\u003e\n      \u003ctd\u003e511.5\u003c/td\u003e\n      \u003ctd\u003e2563.9\u003c/td\u003e\n      \u003ctd\u003e10281.7\u003c/td\u003e\n      \u003ctd\u003e12845.5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eHS5802\u003c/td\u003e\n      \u003ctd\u003eU of Europe for Appl.Sc.Potsdam i.Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e1594.8\u003c/td\u003e\n      \u003ctd\u003e3520.2\u003c/td\u003e\n      \u003ctd\u003e9143.1\u003c/td\u003e\n      \u003ctd\u003e12663.4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003eHS7690\u003c/td\u003e\n      \u003ctd\u003eHochschule für Technik und Wirtschaft Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e3808.8\u003c/td\u003e\n      \u003ctd\u003e4446.4\u003c/td\u003e\n      \u003ctd\u003e19321.6\u003c/td\u003e\n      \u003ctd\u003e23768.1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003eHS7710\u003c/td\u003e\n      \u003ctd\u003eBerliner Hochschule für Technik\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e1409.9\u003c/td\u003e\n      \u003ctd\u003e3023.1\u003c/td\u003e\n      \u003ctd\u003e7929.0\u003c/td\u003e\n      \u003ctd\u003e10952.1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003eHS7721\u003c/td\u003e\n      \u003ctd\u003eHWR Berlin, FB Wirtschaft\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eHigh-High (HH)\u003c/td\u003e\n      \u003ctd\u003e884.2\u003c/td\u003e\n      \u003ctd\u003e5449.5\u003c/td\u003e\n      \u003ctd\u003e16643.3\u003c/td\u003e\n      \u003ctd\u003e22092.8\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003eHS7971\u003c/td\u003e\n      \u003ctd\u003eSRH Berlin U of Appl. Sciences in Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e1687.0\u003c/td\u003e\n      \u003ctd\u003e1244.6\u003c/td\u003e\n      \u003ctd\u003e1773.3\u003c/td\u003e\n      \u003ctd\u003e3017.9\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003eHS0200\u003c/td\u003e\n      \u003ctd\u003eHumboldt-Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e1245.5\u003c/td\u003e\n      \u003ctd\u003e4352.1\u003c/td\u003e\n      \u003ctd\u003e18945.9\u003c/td\u003e\n      \u003ctd\u003e23297.9\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eHS0200\u003c/td\u003e\n      \u003ctd\u003eHumboldt-Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e2000.0\u003c/td\u003e\n      \u003ctd\u003e3190.8\u003c/td\u003e\n      \u003ctd\u003e9539.3\u003c/td\u003e\n      \u003ctd\u003e12730.1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003eHS1380\u003c/td\u003e\n      \u003ctd\u003eFreie Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e885.8\u003c/td\u003e\n      \u003ctd\u003e2739.1\u003c/td\u003e\n      \u003ctd\u003e10922.5\u003c/td\u003e\n      \u003ctd\u003e13661.6\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003eHS1690\u003c/td\u003e\n      \u003ctd\u003eTechnische Universität Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eLow-High (LH)\u003c/td\u003e\n      \u003ctd\u003e831.0\u003c/td\u003e\n      \u003ctd\u003e2567.9\u003c/td\u003e\n      \u003ctd\u003e6318.9\u003c/td\u003e\n      \u003ctd\u003e8886.8\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003eHS1700\u003c/td\u003e\n      \u003ctd\u003eESCP-Europe Wirtschaftshochschule Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eHigh-High (HH)\u003c/td\u003e\n      \u003ctd\u003e588.2\u003c/td\u003e\n      \u003ctd\u003e1619.2\u003c/td\u003e\n      \u003ctd\u003e3540.3\u003c/td\u003e\n      \u003ctd\u003e5159.6\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003eHS2290\u003c/td\u003e\n      \u003ctd\u003eBerlin Int. Univ. of Applied Sciences\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eHigh-Low (HL)\u003c/td\u003e\n      \u003ctd\u003e1201.0\u003c/td\u003e\n      \u003ctd\u003e3196.7\u003c/td\u003e\n      \u003ctd\u003e8005.7\u003c/td\u003e\n      \u003ctd\u003e11202.5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003eHS2790\u003c/td\u003e\n      \u003ctd\u003eUniversität der Künste Berlin\u003c/td\u003e\n      \u003ctd\u003ePublic University\u003c/td\u003e\n      \u003ctd\u003eHigh-High (HH)\u003c/td\u003e\n      \u003ctd\u003e2280.6\u003c/td\u003e\n      \u003ctd\u003e5760.5\u003c/td\u003e\n      \u003ctd\u003e17545.6\u003c/td\u003e\n      \u003ctd\u003e23306.2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003eHS3270\u003c/td\u003e\n      \u003ctd\u003eGerman International University Berlin\u003c/td\u003e\n      \u003ctd\u003ePrivat University\u003c/td\u003e\n      \u003ctd\u003eHigh-Low (HL)\u003c/td\u003e\n      \u003ctd\u003e251.3\u003c/td\u003e\n      \u003ctd\u003e478.0\u003c/td\u003e\n      \u003ctd\u003e0.0\u003c/td\u003e\n      \u003ctd\u003e478.0\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"      code                                           name                own  \\\n0   HS0180           Charite - Universitätsmedizin Berlin  Public University   \n1   HS0180           Charite - Universitätsmedizin Berlin  Public University   \n2   HS5802      U of Europe for Appl.Sc.Potsdam i.Berlin   Privat University   \n3   HS7690  Hochschule für Technik und Wirtschaft Berlin   Public University   \n4   HS7710               Berliner Hochschule für Technik   Public University   \n5   HS7721                     HWR Berlin, FB Wirtschaft   Public University   \n6   HS7971      SRH Berlin U of Appl. Sciences in Berlin   Privat University   \n7   HS0200                    Humboldt-Universität Berlin  Public University   \n8   HS0200                    Humboldt-Universität Berlin  Public University   \n9   HS1380                       Freie Universität Berlin  Public University   \n10  HS1690                  Technische Universität Berlin  Public University   \n11  HS1700      ESCP-Europe Wirtschaftshochschule Berlin   Privat University   \n12  HS2290         Berlin Int. Univ. of Applied Sciences   Privat University   \n13  HS2790                  Universität der Künste Berlin  Public University   \n14  HS3270        German International University Berlin   Privat University   \n\n           cluster  !cap_sum  !s_aus_sum  !s_de_sum  !s_all_sum  \n0    Low-High (LH)    1455.4      3072.6     8126.0     11198.7  \n1    High-Low (HL)     511.5      2563.9    10281.7     12845.5  \n2    Low-High (LH)    1594.8      3520.2     9143.1     12663.4  \n3    Low-High (LH)    3808.8      4446.4    19321.6     23768.1  \n4    Low-High (LH)    1409.9      3023.1     7929.0     10952.1  \n5   High-High (HH)     884.2      5449.5    16643.3     22092.8  \n6    Low-High (LH)    1687.0      1244.6     1773.3      3017.9  \n7    Low-High (LH)    1245.5      4352.1    18945.9     23297.9  \n8    Low-High (LH)    2000.0      3190.8     9539.3     12730.1  \n9    Low-High (LH)     885.8      2739.1    10922.5     13661.6  \n10   Low-High (LH)     831.0      2567.9     6318.9      8886.8  \n11  High-High (HH)     588.2      1619.2     3540.3      5159.6  \n12   High-Low (HL)    1201.0      3196.7     8005.7     11202.5  \n13  High-High (HH)    2280.6      5760.5    17545.6     23306.2  \n14   High-Low (HL)     251.3       478.0        0.0       478.0  ","content_type":"text/plain"}}},"children":[],"key":"IfpMw6Dq7N"}],"visibility":"show","key":"pRrm2GA7le"}],"visibility":"show","key":"i6eFcpBo5z"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Market Areas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pzNwgRXNzf"}],"key":"IvqKoO7mEe"}],"key":"KaYCurCjt4"}],"key":"xQY11stHGd"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Spatial Economics Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mTpuBtCkGO"}],"identifier":"spatial-economics-metrics","label":"Spatial Economics Metrics","html_id":"spatial-economics-metrics","implicit":true,"key":"va2iy5WYF9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Spatial Economics indicators are important for further calculation of capacity–demand balance and central place metrics.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rGgO4FTO0d"}],"key":"nU1tFMgoEQ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Capacity–Demand Ratio","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MmEw5IU4fN"}],"key":"lADgQb3wYA"},{"type":"break","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gkPL09fsAR"},{"type":"text","value":"This indicator reflects the ratio between the supply of student housing and university demand within each market area. It is calculated as the share of the total capacity of all student accommodation  in the market area relative to the total demand from international students (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mUj82XR1AQ"},{"type":"inlineCode","value":"market_area[‘capacity_demand_ratio’] = !cap_sum / !s_aus_sum","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EDAyutIb95"},{"type":"text","value":").\nHigh ratio values indicate areas with a relative oversupply, while low values indicate a shortage of housing relative to demand. This indicator helps to identify areas where the market is potentially balanced or, conversely, under the pressure.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LjnHkjPGxJ"}],"key":"F2Cb7VIVot"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Demand–Capacity Pressure","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"msfqkae7Vn"}],"key":"uJSOZvugfa"},{"type":"break","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fxTIeBrzVh"},{"type":"text","value":"This indicator is the inverse ratio and is calculated as the share of total university demand relative to student housing capacity (","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pTpAh3htYr"},{"type":"inlineCode","value":"market_area[‘demand_capacity_pressure’] = !s_aus_sum / !cap_sum","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"HbxYe7iQDb"},{"type":"text","value":"). It is interpreted as the degree of market pressure: the higher the value, the greater the load on the available supply and the more acute the shortage.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XgsOx32lUs"}],"key":"Jqe4ZPm9S4"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Number of Student Accommodations","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"RjBEDIRTyB"}],"key":"VIpmeV4o5L"},{"type":"break","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"On5Pk2Ziui"},{"type":"text","value":"This indicator determines how many student accommodation facilities are located within a specific market area (","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"IyhujJS0uc"},{"type":"inlineCode","value":"pbsa_counts = wb.groupby(‘iso_id’).size()","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"pu06T7WD49"},{"type":"text","value":").","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"B5yW5qPNTh"}],"key":"mYLco3hdtb"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Number of Higher Education Universities","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"b2wtOfpNIk"}],"key":"lIWz7yeo2h"},{"type":"break","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"JA7qGeTzTy"},{"type":"text","value":"This indicator reflects how many higher education institutions fall within the boundaries of the market area (","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Q766E5Cr6U"},{"type":"inlineCode","value":"uni_counts = wb.groupby(“iso_id”).size()","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qw6fYbmXZ8"},{"type":"text","value":").","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"fnGifp0dtJ"}],"key":"eaZaHoGcHo"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Market Area Size","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"wSfCOShxey"}],"key":"rLF50DB41A"},{"type":"break","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"jK91PbWWCD"},{"type":"text","value":"The area of each market area is calculated as the area of its geometry in square kilometres (","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Mwv3t0YrmX"},{"type":"inlineCode","value":"market_area[‘area’] = market_area.geometry.area / 1e6","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"JSeV5vc9vz"},{"type":"text","value":").","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"To4Wc0MiVG"}],"key":"MeHFjifZcY"}],"key":"mI8LImqKzM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The main result of the analysis of spatial economic metrics is the capacity–demand balance (Figure XX), which allows for a direct comparison of the aggregate demand of international students within each market area with the available supply of places in student accommodation.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cMlIWZjPUO"}],"key":"ov2FDg2hfr"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As can be seen in the graph, in the vast majority of university market areas, university international demand significantly exceeds available student accommodation capacity. Almost all points are below the ideal equilibrium line (45°), indicating a structural supply shortage and systemic pressure on the student housing market. The size of the points reflects the degree of pressure on a particular university. The smallest pressure is on the market area formed by SRH Berlin University of Applied Sciences, where capacity exceeds demand. The greatest pressure is on the market area formed by the University of Business and Law, where demand exceeds capacity by 6.2 times.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dWz6awqoBk"}],"key":"BDXulUph9K"}],"key":"rvtSI4PR4g"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"demand_median = market_area['!s_aus_sum'].median()\ncapacity_median = market_area['!cap_sum'].median()\n\nmpl.rcParams['font.family'] = 'Helvetica'\n\n# Plot\nf, ax = plt.subplots(1, figsize=(12, 12))\nx_min, x_max = 0, 6000  # For capacity_demand_ratio.clip(0, 5)\ny_min, y_max = 0, 6000  \n\nax.scatter(market_area['!s_aus_sum'], market_area['!cap_sum'], color = market_area['color'], s=(market_area['demand_capacity_pressure'])*25, alpha=0.75)\n\nfor idx, row in market_area.iterrows():\n    offset = 10\n    ax.annotate(row['abr'], #abr\n        xy=(row['!s_aus_sum'], row['!cap_sum']),  # Original point position\n        xytext=(0, offset),  # Move text 5 points upward from the point\n        textcoords='offset points',  # Use offset coordinates for xytext\n        color='#999999', \n        fontsize=8, \n        alpha=1,\n        ha='center',    # Horizontal alignment: center\n        va='bottom' if idx % 2 == 0 else 'bottom'     # Vertical alignment: bottom of text above point\n    )\n\nax.axhline(capacity_median, color='#cccccc', linestyle='--', alpha=0.5)\nax.axvline(demand_median, color='#cccccc', linestyle='--', alpha=0.5)\nax.set_xlabel('university international demand (!s_aus_sum)')\nax.set_ylabel('student accommodation capasity (!cap_sum)')\nax.set_title('Market Areas Capacity Demand Balance', fontsize=12, pad=8, fontweight='bold')\nax.axline((0, 0), slope=1, color='#F4978E', linestyle='--', alpha=0.7, label='Perfect Balance')\nax.set_xlim(x_min, x_max)\nax.set_ylim(y_min, y_max)\nplt.grid(True, color='#cccccc', linestyle='--', alpha=0.3)\nplt.legend(loc='upper right', frameon=False)\n\nsave_path = os.path.join(hf, \"Market Areas Capacity Demand Balance.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"WI6y51fARf"},{"type":"outputs","id":"X1mqcTa6ipXN4eAWscemT","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"748ac17f0f2e370b6b64758ba60fcbfd","path":"/rethinking_student_housing/build/748ac17f0f2e370b6b64758ba60fcbfd.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"jBoZepSKMA"}],"visibility":"show","key":"YEoEE21Plq"}],"visibility":"show","key":"yLPmdMXOIZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Market Areas Capacity Demand Balance","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GRRsyznAi3"}],"key":"NwMc8d0hnG"}],"key":"XpojY2FiCM"}],"key":"YVCjA2kA4G"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Central Place Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ryArkeZClI"}],"identifier":"central-place-metrics","label":"Central Place Metrics","html_id":"central-place-metrics","implicit":true,"key":"FRZsMHDOMC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Centrality","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qXJWmHiOzq"}],"key":"xj2utxPvTV"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YxNKo57s9g"},{"type":"text","value":"The first challenge was to find some way of measuring the centrality of an urban place (King, 1986). To calculate centrality Godlund (1956) used the following formula:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AZeXvIh05U"}],"key":"wMh6r7hbgC"},{"type":"math","value":"C \\;=\\; \\sqrt{\\,(B)\\,(m) \\;-\\; (P)\\,(k)\\,}","position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eC\u003c/mi\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmsqrt\u003e\u003cmrow\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eB\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmo\u003e−\u003c/mo\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eP\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003ek\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003c/mrow\u003e\u003c/msqrt\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eC \\;=\\; \\sqrt{\\,(B)\\,(m) \\;-\\; (P)\\,(k)\\,}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07153em;\"\u003eC\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1.24em;vertical-align:-0.2561em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord sqrt\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.9839em;\"\u003e\u003cspan class=\"svg-align\" style=\"top:-3.2em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.2em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\" style=\"padding-left:1em;\"\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05017em;\"\u003eB\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003em\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e−\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.13889em;\"\u003eP\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03148em;\"\u003ek\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-2.9439em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.2em;\"\u003e\u003c/span\u003e\u003cspan class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'\u003e\u003cpath d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/\u003e\u003c/svg\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2561em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"1","key":"bp7khkXpGr"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"where:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"L3eBuWgeZL"}],"key":"fsHlWSBAmh"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"B — a count of the number of shops in the place\nm — a weighting factor that took into account the comparative average size of the shops","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"njDXVRjOHd"},{"type":"break","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"LXdPsCijTt"},{"type":"text","value":"P — the population of the town","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MMHLMzIo0W"},{"type":"break","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BqVXVi8MN5"},{"type":"text","value":"k — was an index of the average accessibility to retail trade services enjoyed by any one inhabitant of the larger region in which the central place was located","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"aHI0p3Z5hn"}],"key":"gUvb9q5EDY"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"In a study of the student housing market, centrality can be determined using a modified version of Godlund’s formula.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"EF8pw9mOGA"}],"key":"BcuJrHxr5B"},{"type":"math","value":"C \\;=\\; \\sqrt{\\,(Csa +Cuni)\\,(m) \\;-\\; (D)\\,(Ci/Di)\\,}","position":{"start":{"line":20,"column":1},"end":{"line":22,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eC\u003c/mi\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmsqrt\u003e\u003cmrow\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eC\u003c/mi\u003e\u003cmi\u003es\u003c/mi\u003e\u003cmi\u003ea\u003c/mi\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmi\u003eC\u003c/mi\u003e\u003cmi\u003eu\u003c/mi\u003e\u003cmi\u003en\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmo\u003e−\u003c/mo\u003e\u003cmtext\u003e  \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eD\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eC\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e/\u003c/mi\u003e\u003cmi\u003eD\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003c/mrow\u003e\u003c/msqrt\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eC \\;=\\; \\sqrt{\\,(Csa +Cuni)\\,(m) \\;-\\; (D)\\,(Ci/Di)\\,}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07153em;\"\u003eC\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1.24em;vertical-align:-0.2561em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord sqrt\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.9839em;\"\u003e\u003cspan class=\"svg-align\" style=\"top:-3.2em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.2em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\" style=\"padding-left:1em;\"\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07153em;\"\u003eC\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003es\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ea\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07153em;\"\u003eC\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003eu\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003eni\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003em\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e−\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eD\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07153em;\"\u003eC\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mord\"\u003e/\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eD\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-2.9439em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.2em;\"\u003e\u003c/span\u003e\u003cspan class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'\u003e\u003cpath d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/\u003e\u003c/svg\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2561em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"2","key":"LMxkmE99M9"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"where:","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"n5o8No2ouJ"}],"key":"YWOIGW94Km"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Csa +Cuni — a sum of the number of student accommodations and higher education  universities in the market area","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"xwya1Q90Je"},{"type":"break","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"NnhicOBLaG"},{"type":"text","value":"m — is a constant calculated during manual tests (","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"F5HDm6HxgU"},{"type":"inlineCode","value":"m=50","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"NHjCC41Cdw"},{"type":"text","value":")","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"MexbvuYzEm"},{"type":"break","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"oVwInEa2pb"},{"type":"text","value":"D — the total international demand","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"McVUh56rs7"},{"type":"break","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"CuD9rGaAkN"},{"type":"text","value":"Ci/Di — a capacity-demand ratio","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Di5OCJWtN6"}],"key":"OuSeHbbUgu"}],"key":"lhrceqrwBa"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[\"!s_aus_sum\"] = market_area[\"!s_aus_sum\"].round(3)","visibility":"show","key":"sQpixPcOqy"},{"type":"outputs","id":"WAsLTVUJAre68F_An5nj5","children":[],"visibility":"show","key":"gCeD52prEr"}],"visibility":"remove","key":"qX2bzUX0O3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"m = 50\n\nmarket_area[\"centrality\"] = np.sqrt(((market_area[\"pbsa_count\"] + market_area[\"uni_count\"]) * m) - \n                                    (market_area[\"!s_aus_sum\"] * market_area[\"capacity_demand_ratio\"])).fillna(0.0).round(3)\n\nmarket_area[[\"fname\", \"pbsa_count\", \"uni_count\", \"capacity_demand_ratio\",\n           \"!s_aus_sum\", \"centrality\"]].head(15).sort_values(\"centrality\", ascending=False) ","key":"PzhzbSKHoN"},{"type":"outputs","id":"RfZcmrP2iK40OnSVDk_Nc","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"fname\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"pbsa_count\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"uni_count\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"capacity_demand_ratio\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"centrality\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"2e9568d6-9c45-45ef-a4d1-3c97ea5b7990\",\"rows\":[[\"2\",\"University of Europe for Applied Sciences \",\"42\",\"44\",\"0.4530277385794095\",\"3520.246\",\"52.012\"],[\"13\",\"University of the Arts Berlin\",\"50\",\"48\",\"0.3958976140540515\",\"5760.527\",\"51.18\"],[\"5\",\"Hochschule für Wirtschaft und Recht (Berlin, Faculty of Business Administration)\",\"32\",\"37\",\"0.1622625057721707\",\"5449.49\",\"50.653\"],[\"0\",\"Charité - Universitätsmedizin Berlin\",\"37\",\"38\",\"0.47368189357824403\",\"3072.597\",\"47.902\"],[\"8\",\"Humboldt University of Berlin\",\"44\",\"41\",\"0.6267815492232468\",\"3190.825\",\"47.435\"],[\"12\",\"Berlin International University of Applied Sciences\",\"33\",\"35\",\"0.3756962526319999\",\"3196.726\",\"46.894\"],[\"4\",\"Berlin School of Technology (Technical University of Applied Sciences Berlin)\",\"36\",\"34\",\"0.4663774695175361\",\"3023.068\",\"45.718\"],[\"10\",\"Technical University of Berlin\",\"25\",\"18\",\"0.32362478987505466\",\"2567.892\",\"36.318\"],[\"11\",\"ESCP Business School Berlin\",\"17\",\"13\",\"0.3632321856448748\",\"1619.219\",\"30.197\"],[\"9\",\"Free University of Berlin\",\"19\",\"16\",\"0.3234015431509167\",\"2739.128\",\"29.397\"],[\"1\",\"Charité - Universitätsmedizin Berlin\",\"11\",\"12\",\"0.1994991909216223\",\"2563.897\",\"25.269\"],[\"6\",\"SRH Berlin University of Applied Sciences\",\"20\",\"22\",\"1.3554024304733427\",\"1244.649\",\"20.322\"],[\"14\",\"German International University Berlin\",\"6\",\"1\",\"0.5256624825662483\",\"478.0\",\"9.936\"],[\"3\",\"University of Applied Sciences for Technology and Economics Berlin\",\"11\",\"7\",\"0.8566071236067623\",\"4446.418\",\"0.0\"],[\"7\",\"Humboldt University of Berlin\",\"10\",\"8\",\"0.28618654836400853\",\"4352.098\",\"0.0\"]],\"shape\":{\"columns\":6,\"rows\":15}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003efname\u003c/th\u003e\n      \u003cth\u003epbsa_count\u003c/th\u003e\n      \u003cth\u003euni_count\u003c/th\u003e\n      \u003cth\u003ecapacity_demand_ratio\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003ecentrality\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eUniversity of Europe for Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e42\u003c/td\u003e\n      \u003ctd\u003e44\u003c/td\u003e\n      \u003ctd\u003e0.453028\u003c/td\u003e\n      \u003ctd\u003e3520.246\u003c/td\u003e\n      \u003ctd\u003e52.012\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003eUniversity of the Arts Berlin\u003c/td\u003e\n      \u003ctd\u003e50\u003c/td\u003e\n      \u003ctd\u003e48\u003c/td\u003e\n      \u003ctd\u003e0.395898\u003c/td\u003e\n      \u003ctd\u003e5760.527\u003c/td\u003e\n      \u003ctd\u003e51.180\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003eHochschule für Wirtschaft und Recht (Berlin, F...\u003c/td\u003e\n      \u003ctd\u003e32\u003c/td\u003e\n      \u003ctd\u003e37\u003c/td\u003e\n      \u003ctd\u003e0.162263\u003c/td\u003e\n      \u003ctd\u003e5449.490\u003c/td\u003e\n      \u003ctd\u003e50.653\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e37\u003c/td\u003e\n      \u003ctd\u003e38\u003c/td\u003e\n      \u003ctd\u003e0.473682\u003c/td\u003e\n      \u003ctd\u003e3072.597\u003c/td\u003e\n      \u003ctd\u003e47.902\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e44\u003c/td\u003e\n      \u003ctd\u003e41\u003c/td\u003e\n      \u003ctd\u003e0.626782\u003c/td\u003e\n      \u003ctd\u003e3190.825\u003c/td\u003e\n      \u003ctd\u003e47.435\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003eBerlin International University of Applied Sci...\u003c/td\u003e\n      \u003ctd\u003e33\u003c/td\u003e\n      \u003ctd\u003e35\u003c/td\u003e\n      \u003ctd\u003e0.375696\u003c/td\u003e\n      \u003ctd\u003e3196.726\u003c/td\u003e\n      \u003ctd\u003e46.894\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003eBerlin School of Technology (Technical Univers...\u003c/td\u003e\n      \u003ctd\u003e36\u003c/td\u003e\n      \u003ctd\u003e34\u003c/td\u003e\n      \u003ctd\u003e0.466377\u003c/td\u003e\n      \u003ctd\u003e3023.068\u003c/td\u003e\n      \u003ctd\u003e45.718\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003eTechnical University of Berlin\u003c/td\u003e\n      \u003ctd\u003e25\u003c/td\u003e\n      \u003ctd\u003e18\u003c/td\u003e\n      \u003ctd\u003e0.323625\u003c/td\u003e\n      \u003ctd\u003e2567.892\u003c/td\u003e\n      \u003ctd\u003e36.318\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003eESCP Business School Berlin\u003c/td\u003e\n      \u003ctd\u003e17\u003c/td\u003e\n      \u003ctd\u003e13\u003c/td\u003e\n      \u003ctd\u003e0.363232\u003c/td\u003e\n      \u003ctd\u003e1619.219\u003c/td\u003e\n      \u003ctd\u003e30.197\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003eFree University of Berlin\u003c/td\u003e\n      \u003ctd\u003e19\u003c/td\u003e\n      \u003ctd\u003e16\u003c/td\u003e\n      \u003ctd\u003e0.323402\u003c/td\u003e\n      \u003ctd\u003e2739.128\u003c/td\u003e\n      \u003ctd\u003e29.397\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e11\u003c/td\u003e\n      \u003ctd\u003e12\u003c/td\u003e\n      \u003ctd\u003e0.199499\u003c/td\u003e\n      \u003ctd\u003e2563.897\u003c/td\u003e\n      \u003ctd\u003e25.269\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003eSRH Berlin University of Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e20\u003c/td\u003e\n      \u003ctd\u003e22\u003c/td\u003e\n      \u003ctd\u003e1.355402\u003c/td\u003e\n      \u003ctd\u003e1244.649\u003c/td\u003e\n      \u003ctd\u003e20.322\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003eGerman International University Berlin\u003c/td\u003e\n      \u003ctd\u003e6\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e0.525662\u003c/td\u003e\n      \u003ctd\u003e478.000\u003c/td\u003e\n      \u003ctd\u003e9.936\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003eUniversity of Applied Sciences for Technology ...\u003c/td\u003e\n      \u003ctd\u003e11\u003c/td\u003e\n      \u003ctd\u003e7\u003c/td\u003e\n      \u003ctd\u003e0.856607\u003c/td\u003e\n      \u003ctd\u003e4446.418\u003c/td\u003e\n      \u003ctd\u003e0.000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e10\u003c/td\u003e\n      \u003ctd\u003e8\u003c/td\u003e\n      \u003ctd\u003e0.286187\u003c/td\u003e\n      \u003ctd\u003e4352.098\u003c/td\u003e\n      \u003ctd\u003e0.000\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                                fname  pbsa_count  uni_count  \\\n2          University of Europe for Applied Sciences           42         44   \n13                      University of the Arts Berlin          50         48   \n5   Hochschule für Wirtschaft und Recht (Berlin, F...          32         37   \n0                Charité - Universitätsmedizin Berlin          37         38   \n8                       Humboldt University of Berlin          44         41   \n12  Berlin International University of Applied Sci...          33         35   \n4   Berlin School of Technology (Technical Univers...          36         34   \n10                     Technical University of Berlin          25         18   \n11                        ESCP Business School Berlin          17         13   \n9                           Free University of Berlin          19         16   \n1                Charité - Universitätsmedizin Berlin          11         12   \n6           SRH Berlin University of Applied Sciences          20         22   \n14             German International University Berlin           6          1   \n3   University of Applied Sciences for Technology ...          11          7   \n7                       Humboldt University of Berlin          10          8   \n\n    capacity_demand_ratio  !s_aus_sum  centrality  \n2                0.453028    3520.246      52.012  \n13               0.395898    5760.527      51.180  \n5                0.162263    5449.490      50.653  \n0                0.473682    3072.597      47.902  \n8                0.626782    3190.825      47.435  \n12               0.375696    3196.726      46.894  \n4                0.466377    3023.068      45.718  \n10               0.323625    2567.892      36.318  \n11               0.363232    1619.219      30.197  \n9                0.323402    2739.128      29.397  \n1                0.199499    2563.897      25.269  \n6                1.355402    1244.649      20.322  \n14               0.525662     478.000       9.936  \n3                0.856607    4446.418       0.000  \n7                0.286187    4352.098       0.000  ","content_type":"text/plain"}}},"children":[],"key":"zckocAIjFW"}],"key":"bXL13vKnoG"}],"key":"GmqtT4XiYR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Centrality Central Place Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ra7v7YyTyK"}],"key":"ixjrb8orEF"}],"key":"KvNAddYvI7"}],"key":"G9LaKzUraX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The market areas formed by the Humboldt University of Berlin and the University of Applied Sciences for Technology and Economics Berlin have zero centrality, which can be explained by their spatial location in Treptow-Köpenick and Lichtenberg, respectively.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nLp0lgnky1"}],"key":"oC50Maieik"}],"key":"JRhEsCoU0L"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Service Range Adequacy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ISAlWFbk9X"}],"key":"fQLmuZ027s"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CccUuB9wUn"},{"type":"text","value":"It is based on the key principle of central place theory: service range determines the size of the market territory necessary for the sustainable operation of the facility. As King (1986) notes, the higher the ‘service range’ of a product or service, the larger the area that must provide a sufficient flow of users, and the higher the probability that such a facility will be located in a larger urban centre. Service Range Adequacy allows us to assess how well each territory meets the expected level of service and contributes to the sustainable functioning of the student housing market. It is calculated as the relative share of demand attributable to each market area (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RQZYhU8b3D"},{"type":"inlineCode","value":"market_area[“cntr_service_range_adequacy”] = market_area[“!s_aus_sum”] / total_demand_complete)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PknGzAcsd6"},{"type":"text","value":")","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FFL6eS3bgz"}],"key":"Df2TlV0WV6"}],"key":"L37HvVQk8K"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"total_demand_complete = uni_dem['!s_aus'].sum()\nmarket_area['cntr_service_range'] = (\n    market_area['!s_aus_sum'] / total_demand_complete).round(3)\n\nmarket_area[[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\"]].head(15).sort_values(\"cntr_service_range\", ascending=False) ","key":"IwN5Vgdzom"},{"type":"outputs","id":"eKCfgKRPkMEDrN_iK13fE","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"fname\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"centrality\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_service_range\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"bb3b98d2-250c-4fc3-ba79-a776518c54f6\",\"rows\":[[\"13\",\"University of the Arts Berlin\",\"5760.527\",\"51.18\",\"0.119\"],[\"5\",\"Hochschule für Wirtschaft und Recht (Berlin, Faculty of Business Administration)\",\"5449.49\",\"50.653\",\"0.112\"],[\"3\",\"University of Applied Sciences for Technology and Economics Berlin\",\"4446.418\",\"0.0\",\"0.092\"],[\"7\",\"Humboldt University of Berlin\",\"4352.098\",\"0.0\",\"0.09\"],[\"2\",\"University of Europe for Applied Sciences \",\"3520.246\",\"52.012\",\"0.073\"],[\"8\",\"Humboldt University of Berlin\",\"3190.825\",\"47.435\",\"0.066\"],[\"12\",\"Berlin International University of Applied Sciences\",\"3196.726\",\"46.894\",\"0.066\"],[\"0\",\"Charité - Universitätsmedizin Berlin\",\"3072.597\",\"47.902\",\"0.063\"],[\"4\",\"Berlin School of Technology (Technical University of Applied Sciences Berlin)\",\"3023.068\",\"45.718\",\"0.062\"],[\"9\",\"Free University of Berlin\",\"2739.128\",\"29.397\",\"0.057\"],[\"1\",\"Charité - Universitätsmedizin Berlin\",\"2563.897\",\"25.269\",\"0.053\"],[\"10\",\"Technical University of Berlin\",\"2567.892\",\"36.318\",\"0.053\"],[\"11\",\"ESCP Business School Berlin\",\"1619.219\",\"30.197\",\"0.033\"],[\"6\",\"SRH Berlin University of Applied Sciences\",\"1244.649\",\"20.322\",\"0.026\"],[\"14\",\"German International University Berlin\",\"478.0\",\"9.936\",\"0.01\"]],\"shape\":{\"columns\":4,\"rows\":15}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003efname\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003ecentrality\u003c/th\u003e\n      \u003cth\u003ecntr_service_range\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003eUniversity of the Arts Berlin\u003c/td\u003e\n      \u003ctd\u003e5760.527\u003c/td\u003e\n      \u003ctd\u003e51.180\u003c/td\u003e\n      \u003ctd\u003e0.119\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003eHochschule für Wirtschaft und Recht (Berlin, F...\u003c/td\u003e\n      \u003ctd\u003e5449.490\u003c/td\u003e\n      \u003ctd\u003e50.653\u003c/td\u003e\n      \u003ctd\u003e0.112\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003eUniversity of Applied Sciences for Technology ...\u003c/td\u003e\n      \u003ctd\u003e4446.418\u003c/td\u003e\n      \u003ctd\u003e0.000\u003c/td\u003e\n      \u003ctd\u003e0.092\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e4352.098\u003c/td\u003e\n      \u003ctd\u003e0.000\u003c/td\u003e\n      \u003ctd\u003e0.090\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eUniversity of Europe for Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e3520.246\u003c/td\u003e\n      \u003ctd\u003e52.012\u003c/td\u003e\n      \u003ctd\u003e0.073\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e3190.825\u003c/td\u003e\n      \u003ctd\u003e47.435\u003c/td\u003e\n      \u003ctd\u003e0.066\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003eBerlin International University of Applied Sci...\u003c/td\u003e\n      \u003ctd\u003e3196.726\u003c/td\u003e\n      \u003ctd\u003e46.894\u003c/td\u003e\n      \u003ctd\u003e0.066\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e3072.597\u003c/td\u003e\n      \u003ctd\u003e47.902\u003c/td\u003e\n      \u003ctd\u003e0.063\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003eBerlin School of Technology (Technical Univers...\u003c/td\u003e\n      \u003ctd\u003e3023.068\u003c/td\u003e\n      \u003ctd\u003e45.718\u003c/td\u003e\n      \u003ctd\u003e0.062\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003eFree University of Berlin\u003c/td\u003e\n      \u003ctd\u003e2739.128\u003c/td\u003e\n      \u003ctd\u003e29.397\u003c/td\u003e\n      \u003ctd\u003e0.057\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e2563.897\u003c/td\u003e\n      \u003ctd\u003e25.269\u003c/td\u003e\n      \u003ctd\u003e0.053\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003eTechnical University of Berlin\u003c/td\u003e\n      \u003ctd\u003e2567.892\u003c/td\u003e\n      \u003ctd\u003e36.318\u003c/td\u003e\n      \u003ctd\u003e0.053\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003eESCP Business School Berlin\u003c/td\u003e\n      \u003ctd\u003e1619.219\u003c/td\u003e\n      \u003ctd\u003e30.197\u003c/td\u003e\n      \u003ctd\u003e0.033\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003eSRH Berlin University of Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e1244.649\u003c/td\u003e\n      \u003ctd\u003e20.322\u003c/td\u003e\n      \u003ctd\u003e0.026\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003eGerman International University Berlin\u003c/td\u003e\n      \u003ctd\u003e478.000\u003c/td\u003e\n      \u003ctd\u003e9.936\u003c/td\u003e\n      \u003ctd\u003e0.010\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                                fname  !s_aus_sum  centrality  \\\n13                      University of the Arts Berlin    5760.527      51.180   \n5   Hochschule für Wirtschaft und Recht (Berlin, F...    5449.490      50.653   \n3   University of Applied Sciences for Technology ...    4446.418       0.000   \n7                       Humboldt University of Berlin    4352.098       0.000   \n2          University of Europe for Applied Sciences     3520.246      52.012   \n8                       Humboldt University of Berlin    3190.825      47.435   \n12  Berlin International University of Applied Sci...    3196.726      46.894   \n0                Charité - Universitätsmedizin Berlin    3072.597      47.902   \n4   Berlin School of Technology (Technical Univers...    3023.068      45.718   \n9                           Free University of Berlin    2739.128      29.397   \n1                Charité - Universitätsmedizin Berlin    2563.897      25.269   \n10                     Technical University of Berlin    2567.892      36.318   \n11                        ESCP Business School Berlin    1619.219      30.197   \n6           SRH Berlin University of Applied Sciences    1244.649      20.322   \n14             German International University Berlin     478.000       9.936   \n\n    cntr_service_range  \n13               0.119  \n5                0.112  \n3                0.092  \n7                0.090  \n2                0.073  \n8                0.066  \n12               0.066  \n0                0.063  \n4                0.062  \n9                0.057  \n1                0.053  \n10               0.053  \n11               0.033  \n6                0.026  \n14               0.010  ","content_type":"text/plain"}}},"children":[],"key":"BeIhpHQY0T"}],"key":"TVNcIytuB8"}],"key":"ieryed1EBL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Service Range Adequacy Central Place Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j4gDBUwxnU"}],"key":"aNYYxiRk4j"}],"key":"BWXPwr0c0o"}],"key":"VBdHsawA1J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hierarchy Rank","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bfJ0LCxBqX"}],"key":"NbsRvUVOdC"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DvYEHE4NzP"},{"type":"text","value":"According to King’s approach, the hierarchy of urban places is defined not only by their size, but primarily by the number and order of the functions they perform (King, 1986, p. 22).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QvF2KoQgCH"}],"key":"pSdAnkOjdI"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Following this logic, the ranking of market areas in this study is based on their functional capacity, expressed through two key indicators: centrality and service range adequacy. These values are combined into a composite index (","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Bk2ytCdINe"},{"type":"inlineCode","value":"market_area[“cntr_hierarchy”] = ((market_area[“centrality”]/100) + (market_ara[“cntr_service_range”])).round(3)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ax8zxDpmlT"},{"type":"text","value":"). The hierarchical ranking allows us to see not only the current configuration of supply and demand, but also the structural role of each market area in the urban system, identifying higher-order centres and lower-level areas.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"VTH4OMgZbp"}],"key":"ow824VwvU6"}],"key":"kg9jp0qazR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"market_area['cntr_hierarchy'] = (\n    (market_area['centrality']/100) + (market_area['cntr_service_range'])).round(3)\n\nmarket_area['cntr_hierarchy_rank'] = pd.qcut(\n    market_area['cntr_hierarchy'],\n    q=5, labels=range(1, 6)   # 1‑5 classes\n)\n\nmarket_area[[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\", \n             'cntr_hierarchy', 'cntr_hierarchy_rank']].head(15).sort_values(\"cntr_hierarchy\", ascending=False) ","key":"cBcskhKM4h"},{"type":"outputs","id":"FEUrKQJe4S_QxP1nPkMvN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"fname\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"centrality\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_service_range\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy_rank\",\"rawType\":\"category\",\"type\":\"unknown\"}],\"ref\":\"d5f3f70f-c9f9-4064-b5ef-b89279230a82\",\"rows\":[[\"13\",\"University of the Arts Berlin\",\"5760.527\",\"51.18\",\"0.119\",\"0.631\",\"5\"],[\"5\",\"Hochschule für Wirtschaft und Recht (Berlin, Faculty of Business Administration)\",\"5449.49\",\"50.653\",\"0.112\",\"0.619\",\"5\"],[\"2\",\"University of Europe for Applied Sciences \",\"3520.246\",\"52.012\",\"0.073\",\"0.593\",\"5\"],[\"0\",\"Charité - Universitätsmedizin Berlin\",\"3072.597\",\"47.902\",\"0.063\",\"0.542\",\"4\"],[\"8\",\"Humboldt University of Berlin\",\"3190.825\",\"47.435\",\"0.066\",\"0.54\",\"4\"],[\"12\",\"Berlin International University of Applied Sciences\",\"3196.726\",\"46.894\",\"0.066\",\"0.535\",\"4\"],[\"4\",\"Berlin School of Technology (Technical University of Applied Sciences Berlin)\",\"3023.068\",\"45.718\",\"0.062\",\"0.519\",\"3\"],[\"10\",\"Technical University of Berlin\",\"2567.892\",\"36.318\",\"0.053\",\"0.416\",\"3\"],[\"9\",\"Free University of Berlin\",\"2739.128\",\"29.397\",\"0.057\",\"0.351\",\"3\"],[\"11\",\"ESCP Business School Berlin\",\"1619.219\",\"30.197\",\"0.033\",\"0.335\",\"2\"],[\"1\",\"Charité - Universitätsmedizin Berlin\",\"2563.897\",\"25.269\",\"0.053\",\"0.306\",\"2\"],[\"6\",\"SRH Berlin University of Applied Sciences\",\"1244.649\",\"20.322\",\"0.026\",\"0.229\",\"2\"],[\"14\",\"German International University Berlin\",\"478.0\",\"9.936\",\"0.01\",\"0.109\",\"1\"],[\"3\",\"University of Applied Sciences for Technology and Economics Berlin\",\"4446.418\",\"0.0\",\"0.092\",\"0.092\",\"1\"],[\"7\",\"Humboldt University of Berlin\",\"4352.098\",\"0.0\",\"0.09\",\"0.09\",\"1\"]],\"shape\":{\"columns\":6,\"rows\":15}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003efname\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003ecentrality\u003c/th\u003e\n      \u003cth\u003ecntr_service_range\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy_rank\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003eUniversity of the Arts Berlin\u003c/td\u003e\n      \u003ctd\u003e5760.527\u003c/td\u003e\n      \u003ctd\u003e51.180\u003c/td\u003e\n      \u003ctd\u003e0.119\u003c/td\u003e\n      \u003ctd\u003e0.631\u003c/td\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003eHochschule für Wirtschaft und Recht (Berlin, F...\u003c/td\u003e\n      \u003ctd\u003e5449.490\u003c/td\u003e\n      \u003ctd\u003e50.653\u003c/td\u003e\n      \u003ctd\u003e0.112\u003c/td\u003e\n      \u003ctd\u003e0.619\u003c/td\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eUniversity of Europe for Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e3520.246\u003c/td\u003e\n      \u003ctd\u003e52.012\u003c/td\u003e\n      \u003ctd\u003e0.073\u003c/td\u003e\n      \u003ctd\u003e0.593\u003c/td\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e3072.597\u003c/td\u003e\n      \u003ctd\u003e47.902\u003c/td\u003e\n      \u003ctd\u003e0.063\u003c/td\u003e\n      \u003ctd\u003e0.542\u003c/td\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e3190.825\u003c/td\u003e\n      \u003ctd\u003e47.435\u003c/td\u003e\n      \u003ctd\u003e0.066\u003c/td\u003e\n      \u003ctd\u003e0.540\u003c/td\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003eBerlin International University of Applied Sci...\u003c/td\u003e\n      \u003ctd\u003e3196.726\u003c/td\u003e\n      \u003ctd\u003e46.894\u003c/td\u003e\n      \u003ctd\u003e0.066\u003c/td\u003e\n      \u003ctd\u003e0.535\u003c/td\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003eBerlin School of Technology (Technical Univers...\u003c/td\u003e\n      \u003ctd\u003e3023.068\u003c/td\u003e\n      \u003ctd\u003e45.718\u003c/td\u003e\n      \u003ctd\u003e0.062\u003c/td\u003e\n      \u003ctd\u003e0.519\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003eTechnical University of Berlin\u003c/td\u003e\n      \u003ctd\u003e2567.892\u003c/td\u003e\n      \u003ctd\u003e36.318\u003c/td\u003e\n      \u003ctd\u003e0.053\u003c/td\u003e\n      \u003ctd\u003e0.416\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003eFree University of Berlin\u003c/td\u003e\n      \u003ctd\u003e2739.128\u003c/td\u003e\n      \u003ctd\u003e29.397\u003c/td\u003e\n      \u003ctd\u003e0.057\u003c/td\u003e\n      \u003ctd\u003e0.351\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003eESCP Business School Berlin\u003c/td\u003e\n      \u003ctd\u003e1619.219\u003c/td\u003e\n      \u003ctd\u003e30.197\u003c/td\u003e\n      \u003ctd\u003e0.033\u003c/td\u003e\n      \u003ctd\u003e0.335\u003c/td\u003e\n      \u003ctd\u003e2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e2563.897\u003c/td\u003e\n      \u003ctd\u003e25.269\u003c/td\u003e\n      \u003ctd\u003e0.053\u003c/td\u003e\n      \u003ctd\u003e0.306\u003c/td\u003e\n      \u003ctd\u003e2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003eSRH Berlin University of Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e1244.649\u003c/td\u003e\n      \u003ctd\u003e20.322\u003c/td\u003e\n      \u003ctd\u003e0.026\u003c/td\u003e\n      \u003ctd\u003e0.229\u003c/td\u003e\n      \u003ctd\u003e2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003eGerman International University Berlin\u003c/td\u003e\n      \u003ctd\u003e478.000\u003c/td\u003e\n      \u003ctd\u003e9.936\u003c/td\u003e\n      \u003ctd\u003e0.010\u003c/td\u003e\n      \u003ctd\u003e0.109\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003eUniversity of Applied Sciences for Technology ...\u003c/td\u003e\n      \u003ctd\u003e4446.418\u003c/td\u003e\n      \u003ctd\u003e0.000\u003c/td\u003e\n      \u003ctd\u003e0.092\u003c/td\u003e\n      \u003ctd\u003e0.092\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e4352.098\u003c/td\u003e\n      \u003ctd\u003e0.000\u003c/td\u003e\n      \u003ctd\u003e0.090\u003c/td\u003e\n      \u003ctd\u003e0.090\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                                fname  !s_aus_sum  centrality  \\\n13                      University of the Arts Berlin    5760.527      51.180   \n5   Hochschule für Wirtschaft und Recht (Berlin, F...    5449.490      50.653   \n2          University of Europe for Applied Sciences     3520.246      52.012   \n0                Charité - Universitätsmedizin Berlin    3072.597      47.902   \n8                       Humboldt University of Berlin    3190.825      47.435   \n12  Berlin International University of Applied Sci...    3196.726      46.894   \n4   Berlin School of Technology (Technical Univers...    3023.068      45.718   \n10                     Technical University of Berlin    2567.892      36.318   \n9                           Free University of Berlin    2739.128      29.397   \n11                        ESCP Business School Berlin    1619.219      30.197   \n1                Charité - Universitätsmedizin Berlin    2563.897      25.269   \n6           SRH Berlin University of Applied Sciences    1244.649      20.322   \n14             German International University Berlin     478.000       9.936   \n3   University of Applied Sciences for Technology ...    4446.418       0.000   \n7                       Humboldt University of Berlin    4352.098       0.000   \n\n    cntr_service_range  cntr_hierarchy cntr_hierarchy_rank  \n13               0.119           0.631                   5  \n5                0.112           0.619                   5  \n2                0.073           0.593                   5  \n0                0.063           0.542                   4  \n8                0.066           0.540                   4  \n12               0.066           0.535                   4  \n4                0.062           0.519                   3  \n10               0.053           0.416                   3  \n9                0.057           0.351                   3  \n11               0.033           0.335                   2  \n1                0.053           0.306                   2  \n6                0.026           0.229                   2  \n14               0.010           0.109                   1  \n3                0.092           0.092                   1  \n7                0.090           0.090                   1  ","content_type":"text/plain"}}},"children":[],"key":"MeFu42yyvU"}],"key":"xb317wKCS1"}],"key":"sHA2ltRJv5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Hierarchy Rank Central Place Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aeCD5vVs1z"}],"key":"S0iT3Mme6I"}],"key":"ViaeKzWEvU"}],"key":"S9Gd0d1gNf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Market Areas Hierarchy Rank demonstrates the distribution of central places by hierarchical classes in accordance with Central Place Theory.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qIVuN19tlt"}],"key":"vswxklUMV4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Hierarchy Rank - 5. Primary Central Places","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xVmCm7mU2I"}],"key":"eptB9cw7Oj"}],"key":"FLduL7rJx3"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Primary Central Places (Figure XX) are formed around the University of the Arts Berlin (UAB), the University of Europe for Applied Sciences (UEAS) and the School of Economics and Law (HWR_BA). Although according to King (1986), centrality is not determined by the physical size of the territory, these market areas have some of the largest areas, more than 90 km² each. This is because top-level zones must have a sufficiently wide coverage to serve a large number of functions and significant volumes of demand.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wndvss19lF"}],"key":"bAWDOL72ib"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Geographically, these market areas are located mainly in the districts of Mitte, Charlottenburg-Wilmersdorf and Friedrichshain-Kreuzberg, as well as partly in Tempelhof-Schöneberg, Steglitz-Zehlendorf and Neukölln, forming a distinct axis in a south-westerly direction. Together, they account for about 32% of total international student demand, which highlights their systemic role in the city’s university infrastructure.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"OjDXXyCxiM"}],"key":"lkePNDiOkC"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"It is worth noting that two of the three primary centres belong to the High–High cluster, meaning they are stable magnets for international students, around which areas of high demand and growing market pressure are forming. However, the greatest pressure is observed in the School of Economics and Law market zone, where demand exceeds available capacity by 6.2 times, making this zone the most vulnerable in the hierarchy of central locations. This imbalance highlights the critical shortage of infrastructure and the need to prioritise the expansion of the housing stock near this educational cluster.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"mNYCTG1foi"}],"key":"K63tgsvQoe"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Together, the primary central places form the core of Berlin’s student urbanisation, where key educational functions, large volumes of demand and the most significant infrastructure imbalances are concentrated. Their high hierarchical position confirms the central role of these areas in the urban structure, but at the same time demonstrates the vulnerability of the system: even higher-order centres face a significant housing shortage and growing market pressure.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"tiqMahldRn"}],"key":"iomsiv3dWN"}],"key":"ddfMIhZPnr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(figsize=(12, 12))\n\npgr.plot(ax=axs, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs, facecolor='none', edgecolor='#666666', linewidth=1)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 5].plot(ax=axs,\n          column='cntr_hierarchy_rank',\n          cmap=cmap_pi,\n          alpha=0.55,\n          edgecolor='none',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'frameon': False},\n          label = 'hierarchy rank', \n          vmin=0,\n          vmax=5)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 5].plot(\n    ax=axs,\n    edgecolor='white',  # variable for colormap\n    facecolor=\"none\",        # transparent polygons  # edge colors from your column\n    linewidth=0.3,\n    alpha=1\n)\n\ncentral_places.plot(ax=axs,\n           color='#76A79D', \n           markersize=20,\n           #markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nfor _, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    axs.annotate(\n        row['abr'],                           # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # coords from the Point\n        xytext=(0, offset),                   # lift the text a bit\n        textcoords='offset points',\n        color='#1b4332',\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\naxs.set_title('Hierarchy Rank - 5. Primary Central Places', fontsize=16, fontweight='bold')\naxs.set_axis_off()\nplt.tight_layout()\n\nsave_path = os.path.join(hf, \"Hierarchy Rank - 5. Primary Central Places.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"HZERiso11I"},{"type":"outputs","id":"0tYO-Qyd7uJ_uJaSrTpyP","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"e74f9a8ea190d56e00c0690e4f81ca31","path":"/rethinking_student_housing/build/e74f9a8ea190d56e00c0690e4f81ca31.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"SZ5tko5paR"}],"visibility":"show","key":"uuAX3rQN4u"}],"visibility":"show","key":"GYwPybQMOK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Primary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jSE44mtnTq"}],"key":"mau1TjIpAJ"}],"key":"yEy7ldX4sV"}],"key":"JKkOyo1gI2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[market_area['cntr_hierarchy_rank'] == 5][[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\", 'cntr_hierarchy', 'cntr_hierarchy_rank']].head(15).sort_values(\"cntr_hierarchy\", ascending=False) ","visibility":"remove","key":"szFtBFFbnZ"},{"type":"outputs","id":"c1CDF0jTZYQq1NzHorPIV","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"fname\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"centrality\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_service_range\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy_rank\",\"rawType\":\"category\",\"type\":\"unknown\"}],\"ref\":\"4c8312c7-fc38-468f-9eb8-4e469025afd7\",\"rows\":[[\"13\",\"University of the Arts Berlin\",\"5760.527\",\"51.18\",\"0.119\",\"0.631\",\"5\"],[\"5\",\"Hochschule für Wirtschaft und Recht (Berlin, Faculty of Business Administration)\",\"5449.49\",\"50.653\",\"0.112\",\"0.619\",\"5\"],[\"2\",\"University of Europe for Applied Sciences \",\"3520.246\",\"52.012\",\"0.073\",\"0.593\",\"5\"]],\"shape\":{\"columns\":6,\"rows\":3}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003efname\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003ecentrality\u003c/th\u003e\n      \u003cth\u003ecntr_service_range\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy_rank\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003eUniversity of the Arts Berlin\u003c/td\u003e\n      \u003ctd\u003e5760.527\u003c/td\u003e\n      \u003ctd\u003e51.180\u003c/td\u003e\n      \u003ctd\u003e0.119\u003c/td\u003e\n      \u003ctd\u003e0.631\u003c/td\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003eHochschule für Wirtschaft und Recht (Berlin, F...\u003c/td\u003e\n      \u003ctd\u003e5449.490\u003c/td\u003e\n      \u003ctd\u003e50.653\u003c/td\u003e\n      \u003ctd\u003e0.112\u003c/td\u003e\n      \u003ctd\u003e0.619\u003c/td\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eUniversity of Europe for Applied Sciences\u003c/td\u003e\n      \u003ctd\u003e3520.246\u003c/td\u003e\n      \u003ctd\u003e52.012\u003c/td\u003e\n      \u003ctd\u003e0.073\u003c/td\u003e\n      \u003ctd\u003e0.593\u003c/td\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                                fname  !s_aus_sum  centrality  \\\n13                      University of the Arts Berlin    5760.527      51.180   \n5   Hochschule für Wirtschaft und Recht (Berlin, F...    5449.490      50.653   \n2          University of Europe for Applied Sciences     3520.246      52.012   \n\n    cntr_service_range  cntr_hierarchy cntr_hierarchy_rank  \n13               0.119           0.631                   5  \n5                0.112           0.619                   5  \n2                0.073           0.593                   5  ","content_type":"text/plain"}}},"children":[],"key":"Ik80cbyZD6"}],"visibility":"show","key":"ULsC35iiTL"}],"visibility":"show","key":"wWUiNXDcjP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Primary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TtLyuX1LEw"}],"key":"wR6ie4LRG7"}],"key":"dSDkzfEOmm"}],"key":"OWaWGQ7zEM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hierarchy Rank - 4. Secondary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nVG1aHGp4S"}],"key":"PLOvoIcqUs"}],"key":"fh4gjhYwN5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Secondary Central Places Centres (Figure XX) are formed by Humboldt University of (HU), International University of Applied Sciences (BIU) and Charité University Hospital (CU). These market areas are secondary central places, i.e., high-order centres that have significant functional saturation but are lower than primary centres in terms of scale of attraction and infrastructure concentration.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nFEUglG73f"}],"key":"oqR8PmHldq"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Geographically, secondary central places are located east of primary central places, covering parts of the Lichtenberg and Pankow districts and forming a distinct west-east axis in the spatial structure of the student housing market. This configuration reflects the expansion of the city’s education system in an easterly direction, which is historically less saturated with higher education institutions. Together, these areas account for about 20% of the total demand from international students, confirming their significant but not dominant role in the urban hierarchy.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TvLPwxmAbr"}],"key":"bafK7mMdvq"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The average demand–capacity pressure value of 2.1 confirms that demand exceeds current supply by more than double. This creates moderate but stable market pressure, indicating the need for strategic expansion of student infrastructure and further development of public-private initiatives in the field of student accommodation.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vCCSqJiazq"}],"key":"Ie9PlD35Xj"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Thus, secondary central places function as sub-regional centres in the urban hierarchy, playing a key role in rebalancing demand, ensuring access to higher education and shaping future growth trends in Berlin’s student housing market.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"L9f0sOfYr4"}],"key":"OHLmZ5oxaT"}],"key":"c3XHLkOeu2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(figsize=(12, 12))\n\npgr.plot(ax=axs, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs, facecolor='none', edgecolor='#666666', linewidth=1)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 4].plot(ax=axs,\n          column='cntr_hierarchy_rank',\n          cmap=cmap_pi,\n          alpha=0.55,\n          edgecolor='none',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'frameon': False},\n          label = 'hierarchy rank', \n          vmin=0,\n          vmax=5)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 4].plot(\n    ax=axs,\n    edgecolor='white',  # variable for colormap\n    facecolor=\"none\",        # transparent polygons  # edge colors from your column\n    linewidth=0.3,\n    alpha=1\n)\n\ncentral_places.plot(ax=axs,\n           color='#76A79D', \n           markersize=20,\n           #markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nfor _, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    axs.annotate(\n        row['abr'],                           # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # coords from the Point\n        xytext=(0, offset),                   # lift the text a bit\n        textcoords='offset points',\n        color='#1b4332',\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\naxs.set_title('Hierarchy Rank - 4. Secondary Central Places', fontsize=16, fontweight='bold')\naxs.set_axis_off()\nplt.tight_layout()\n\nsave_path = os.path.join(hf, \"Hierarchy Rank - 4. Secondary Central Places.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"EQ5eiTog4x"},{"type":"outputs","id":"I4dPJaOSafd4WznhGNY5V","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"aaa7ab1ac3deb48784921be4f569c16a","path":"/rethinking_student_housing/build/aaa7ab1ac3deb48784921be4f569c16a.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"WpHnetLAKc"}],"visibility":"show","key":"USgeZcqlMX"}],"visibility":"show","key":"dssAToApRs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Secondary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LwpQlu0BbQ"}],"key":"nA7GKcv2Nm"}],"key":"h1cYBulJPT"}],"key":"lZGvbslgb0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[market_area['cntr_hierarchy_rank'] == 4][[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\", 'cntr_hierarchy', 'cntr_hierarchy_rank']].head(15).sort_values(\"cntr_hierarchy\", ascending=False) ","visibility":"remove","key":"GGzJhUqKqm"},{"type":"outputs","id":"29WGz8ld_TplRAE23oFod","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"fname\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"centrality\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_service_range\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy_rank\",\"rawType\":\"category\",\"type\":\"unknown\"}],\"ref\":\"51ad6625-f049-4f03-b458-18b6a6dbc83a\",\"rows\":[[\"0\",\"Charité - Universitätsmedizin Berlin\",\"3072.597\",\"47.902\",\"0.063\",\"0.542\",\"4\"],[\"8\",\"Humboldt University of Berlin\",\"3190.825\",\"47.435\",\"0.066\",\"0.54\",\"4\"],[\"12\",\"Berlin International University of Applied Sciences\",\"3196.726\",\"46.894\",\"0.066\",\"0.535\",\"4\"]],\"shape\":{\"columns\":6,\"rows\":3}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003efname\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003ecentrality\u003c/th\u003e\n      \u003cth\u003ecntr_service_range\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy_rank\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eCharité - Universitätsmedizin Berlin\u003c/td\u003e\n      \u003ctd\u003e3072.597\u003c/td\u003e\n      \u003ctd\u003e47.902\u003c/td\u003e\n      \u003ctd\u003e0.063\u003c/td\u003e\n      \u003ctd\u003e0.542\u003c/td\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003eHumboldt University of Berlin\u003c/td\u003e\n      \u003ctd\u003e3190.825\u003c/td\u003e\n      \u003ctd\u003e47.435\u003c/td\u003e\n      \u003ctd\u003e0.066\u003c/td\u003e\n      \u003ctd\u003e0.540\u003c/td\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003eBerlin International University of Applied Sci...\u003c/td\u003e\n      \u003ctd\u003e3196.726\u003c/td\u003e\n      \u003ctd\u003e46.894\u003c/td\u003e\n      \u003ctd\u003e0.066\u003c/td\u003e\n      \u003ctd\u003e0.535\u003c/td\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                                fname  !s_aus_sum  centrality  \\\n0                Charité - Universitätsmedizin Berlin    3072.597      47.902   \n8                       Humboldt University of Berlin    3190.825      47.435   \n12  Berlin International University of Applied Sci...    3196.726      46.894   \n\n    cntr_service_range  cntr_hierarchy cntr_hierarchy_rank  \n0                0.063           0.542                   4  \n8                0.066           0.540                   4  \n12               0.066           0.535                   4  ","content_type":"text/plain"}}},"children":[],"key":"cEyE0vru4u"}],"visibility":"show","key":"c8XZ3OPVh3"}],"visibility":"show","key":"CJCeIna6nB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Secondary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LRDNCy6cEE"}],"key":"prKEsYEO5U"}],"key":"nF8uISCB34"}],"key":"gW3EUewZM2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hierarchy Rank - 3. Tertiary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mfLgeScyNi"}],"key":"sSjQifrcFc"}],"key":"Y6Qx81YjlJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Tertiary Central Places (Figure XX) are formed around the Technical University of Berlin (TUB), Free University (FU) and Berlin School of Technology (BTS). These universities represent significant but less dominant centres of demand, located on the periphery of the primary and secondary central places.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gTWLPe9LVu"}],"key":"YUt4KMT3Gy"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Geographically, tertiary central places occupy areas to the north and south of secondary central places, covering a significant part of Steglitz-Zehlendorf and Reinickendorf. In this way, they support the established south-western educational axis extending from the primary central places and, at the same time, form a new north-south axis in the spatial structure of the student housing market. This configuration reflects the complex multipolar organisation of demand characteristic of a large polycentric city.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e6AzA2lX23"}],"key":"S4HDd4FciS"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Together, these market areas account for about 17% of total international student demand, making them significant but not dominant elements in the structure of central places.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"OsvArwofR0"}],"key":"X72yyT3nwY"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"It is noteworthy that all three universities forming tertiary central places belong to the Low–High (LH) cluster and are public. This combination indicates the high educational potential of these areas and their ability to be included in existing clusters, but at the same time demonstrates the lack of full strategic integration into established centres of student urbanisation.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"IZU9UXueDo"}],"key":"Lt7zbFEROe"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The average demand–capacity pressure value is 2.8, which is higher than that of secondary central places. This indicates that demand is almost three times higher than the available supply. Consequently, tertiary central places are critically important areas of hidden deficit, where a growing gap is forming between the educational potential of universities and the lack of adequate housing infrastructure.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"yvsHLVjkz5"}],"key":"TiFVHdfj0f"}],"key":"SFm1vBWKJb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(figsize=(12, 12))\n\npgr.plot(ax=axs, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs, facecolor='none', edgecolor='#666666', linewidth=1)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 3].plot(ax=axs,\n          column='cntr_hierarchy_rank',\n          cmap=cmap_pi,\n          alpha=0.55,\n          edgecolor='none',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'frameon': False},\n          label = 'hierarchy rank', \n          vmin=0,\n          vmax=5)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 3].plot(\n    ax=axs,\n    edgecolor='white',  # variable for colormap\n    facecolor=\"none\",        # transparent polygons  # edge colors from your column\n    linewidth=0.3,\n    alpha=1\n)\n\ncentral_places.plot(ax=axs,\n           color='#76A79D', \n           markersize=20,\n           #markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nfor _, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    axs.annotate(\n        row['abr'],                           # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # coords from the Point\n        xytext=(0, offset),                   # lift the text a bit\n        textcoords='offset points',\n        color='#1b4332',\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\naxs.set_title('Hierarchy Rank - 3. Tertiary Central Places', fontsize=16, fontweight='bold')\naxs.set_axis_off()\nplt.tight_layout()\n\nsave_path = os.path.join(hf, \"Hierarchy Rank - 3. Tertiary Central Places.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"vMV14C1x1Z"},{"type":"outputs","id":"X6jskhD3iI1biFYJLWHhd","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"e6962f9201368a3a9278e78ca3fc74ed","path":"/rethinking_student_housing/build/e6962f9201368a3a9278e78ca3fc74ed.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"lf3lx2rO4Y"}],"visibility":"show","key":"JxJYSK5T7c"}],"visibility":"show","key":"XQo4UyOVRX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Tertiary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DOYiR7ges2"}],"key":"C4IbhgsENm"}],"key":"I8hDGE0mJc"}],"key":"hqBLrohWUD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[market_area['cntr_hierarchy_rank'] == 3][[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\", 'cntr_hierarchy', 'cntr_hierarchy_rank']].head(15).sort_values(\"cntr_hierarchy\", ascending=False) ","visibility":"remove","key":"mjYiBFOMrU"},{"type":"outputs","id":"X7WZGhxI22wsQ99M5zhH0","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"int64\",\"type\":\"integer\"},{\"name\":\"fname\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"!s_aus_sum\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"centrality\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_service_range\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"cntr_hierarchy_rank\",\"rawType\":\"category\",\"type\":\"unknown\"}],\"ref\":\"0d2667f6-aae4-4194-8e62-a93cca277eea\",\"rows\":[[\"4\",\"Berlin School of Technology (Technical University of Applied Sciences Berlin)\",\"3023.068\",\"45.718\",\"0.062\",\"0.519\",\"3\"],[\"10\",\"Technical University of Berlin\",\"2567.892\",\"36.318\",\"0.053\",\"0.416\",\"3\"],[\"9\",\"Free University of Berlin\",\"2739.128\",\"29.397\",\"0.057\",\"0.351\",\"3\"]],\"shape\":{\"columns\":6,\"rows\":3}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003efname\u003c/th\u003e\n      \u003cth\u003e!s_aus_sum\u003c/th\u003e\n      \u003cth\u003ecentrality\u003c/th\u003e\n      \u003cth\u003ecntr_service_range\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy\u003c/th\u003e\n      \u003cth\u003ecntr_hierarchy_rank\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003eBerlin School of Technology (Technical Univers...\u003c/td\u003e\n      \u003ctd\u003e3023.068\u003c/td\u003e\n      \u003ctd\u003e45.718\u003c/td\u003e\n      \u003ctd\u003e0.062\u003c/td\u003e\n      \u003ctd\u003e0.519\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003eTechnical University of Berlin\u003c/td\u003e\n      \u003ctd\u003e2567.892\u003c/td\u003e\n      \u003ctd\u003e36.318\u003c/td\u003e\n      \u003ctd\u003e0.053\u003c/td\u003e\n      \u003ctd\u003e0.416\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003eFree University of Berlin\u003c/td\u003e\n      \u003ctd\u003e2739.128\u003c/td\u003e\n      \u003ctd\u003e29.397\u003c/td\u003e\n      \u003ctd\u003e0.057\u003c/td\u003e\n      \u003ctd\u003e0.351\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                                fname  !s_aus_sum  centrality  \\\n4   Berlin School of Technology (Technical Univers...    3023.068      45.718   \n10                     Technical University of Berlin    2567.892      36.318   \n9                           Free University of Berlin    2739.128      29.397   \n\n    cntr_service_range  cntr_hierarchy cntr_hierarchy_rank  \n4                0.062           0.519                   3  \n10               0.053           0.416                   3  \n9                0.057           0.351                   3  ","content_type":"text/plain"}}},"children":[],"key":"T4vs4M3DKi"}],"visibility":"show","key":"J4Gs50Fixu"}],"visibility":"show","key":"l3z3rw6OnG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Tertiary Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ld7jEgDPKB"}],"key":"f72ORniK59"}],"key":"IkKMvF33iY"}],"key":"gZZftjmLWi"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hierarchy Rank - 2. Local Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t0c6IVXCGG"}],"key":"jXlP4E8FCx"}],"key":"QlYcisBZGQ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Local Central Places (Figure XX) are formed around SRH Berlin University of Applied Sciences (SRHU), Charité University Hospital (CU) and ESCP Business School Berlin (ESCP). These universities act as local centres, primarily serving the surrounding areas and acting as a link between larger secondary and tertiary central places.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MblfOALSmz"}],"key":"tCzm1W09wH"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Geographically, these market areas are mainly located in the districts of Friedrichshain-Kreuzberg and Neukölln, as well as partly in Mitte, Charlottenburg-Wilmersdorf, Tempelhof-Schöneberg, Treptow-Köpenick and Lichtenberg. Spatially, they occupy positions south of secondary central places and simultaneously support two key axes of the urban structure: the west-east axis formed by secondary central places and the north-south axis formed by tertiary central places. In this way, local central places reinforce the polycentric organisation of the student housing market, ensuring connectivity between areas of different hierarchical levels and serving 11% of student demand.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Yj9gV0SDLz"}],"key":"Mv659NxZQM"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"What is particularly interesting is that the three universities that form this hierarchical level belong to different types of spatial clusters: ESCP Business School Berlin is characterised by a High-High (HH) pattern, Charité University Hospital by a High-Low (HL) pattern, and SRH Berlin University of Applied Sciences by a Low-High (LH) pattern. This highlights the heterogeneity of these areas and their varying degrees of integration into existing educational clusters.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LDGcM8TMBv"}],"key":"ptlTncB6Ry"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The intensity of market pressure within local central places also varies. Market areas formed by private universities ESCP and SRHU show relatively moderate indicators: 2.7 and 0.7, respectively. At the same time, the area formed by the state-owned Charité University Hospital experiences a pronounced imbalance between supply and demand: demand exceeds available capacity by five times. This indicates a structural shortage of student housing in one of the city’s most important medical and scientific centres.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AhMzOV6CR9"}],"key":"J8c90H6m58"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Thus, local central places reflect an important intermediate level of the city’s educational and housing structure. They combine areas with stable patterns of demand and supply, adjacent to local shortages, and form a significant component of Berlin’s polycentric student space.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"fmhun4wVel"}],"key":"w86Jk5py0E"}],"key":"sNhjwcq5Ai"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(figsize=(12, 12))\n\npgr.plot(ax=axs, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs, facecolor='none', edgecolor='#666666', linewidth=1)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 2].plot(ax=axs,\n          column='cntr_hierarchy_rank',\n          cmap=cmap_pi,\n          alpha=0.55,\n          edgecolor='none',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'frameon': False},\n          label = 'hierarchy rank', \n          vmin=0,\n          vmax=5)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 2].plot(\n    ax=axs,\n    edgecolor='white',  # variable for colormap\n    facecolor=\"none\",        # transparent polygons  # edge colors from your column\n    linewidth=0.3,\n    alpha=1\n)\n\ncentral_places.plot(ax=axs,\n           color='#76A79D', \n           markersize=20,\n           #markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nfor _, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    axs.annotate(\n        row['abr'],                           # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # coords from the Point\n        xytext=(0, offset),                   # lift the text a bit\n        textcoords='offset points',\n        color='#1b4332',\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\naxs.set_title('Hierarchy Rank - 2. Local Central Places', fontsize=16, fontweight='bold')\naxs.set_axis_off()\nplt.tight_layout()\n\nsave_path = os.path.join(hf, \"Hierarchy Rank - 2. Local Central Places.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"Tyc6SSAq3c"},{"type":"outputs","id":"xTm9xo0KI8FNn51SpeI2R","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"171e7ea589c29064e58ed91b3de17fa1","path":"/rethinking_student_housing/build/171e7ea589c29064e58ed91b3de17fa1.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"igyq05Huhu"}],"visibility":"show","key":"e5Lx5JwlLp"}],"visibility":"show","key":"QzgponzJMl"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Local Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fKo1vbBX2x"}],"key":"fDNkD2277E"}],"key":"XNVYvUOHRj"}],"key":"ekUVSrrxog"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[market_area['cntr_hierarchy_rank'] == 3][[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\", 'cntr_hierarchy', 'cntr_hierarchy_rank']].head(15).sort_values(\"cntr_hierarchy\", ascending=False) ","visibility":"remove","key":"COpTIQ7srL"},{"type":"outputs","id":"BogVf6JpRwjUGUq8Nzs5J","children":[],"visibility":"show","key":"cvZIuGiU6r"}],"visibility":"show","key":"DFzEsdkXUk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Local Central Places","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XYHcKA7no7"}],"key":"HDqsvv8cr7"}],"key":"UdiZ6RrSw5"}],"key":"M20r8ZXUoL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hierarchy Rank - 1. Basic Service Areas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YhPED4fAsT"}],"key":"HPnS9lbP2q"}],"key":"mxPdSL87lX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Basic Service Areas (Figure XX) are formed around the German International University Berlin (GIU), University of Applied Sciences for Technology, Economics Berlin (HTW) and Humboldt University of Berlin (HU). These universities are basic service centres whose role in the structure of central locations is primarily to provide fundamental educational functions and support peripheral parts of the urban system.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NPuLc3t564"}],"key":"iVagd6rsou"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Geographically, these market areas are located mainly in the districts of Reinickendorf, Treptow-Köpenick and Lichtenberg. They are situated to the south-east and north-west of the secondary central places. This location emphasises their functional role as areas serving peripheral or poorly integrated parts of the city’s educational space, acting as ‘edge’ centres in Berlin’s polycentric structure.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MYRrKXydhf"}],"key":"YX3rlA3IFf"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Collectively, Basic Service Areas account for about 19% of international student demand — more than  tertiary central places. This indicates that even the most basic centres in the hierarchy play a significant role in the distribution of student mobility and the formation of market pressure, serving significant shares of both educational and housing demand in the periphery.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hEA5GWm1uA"}],"key":"xZLxzCL6UX"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"It is worth noting that two of the three universities forming this hierarchical level belong to the Low–High (LH) cluster, demonstrating low supply with higher regional demand. The third university is private and belongs to the High–Low (HL) cluster, reflecting the opposite dynamic: a high value at the facility level in an environment with relatively low values. This distribution of clusters shows that the basic market areas are characterised by strong heterogeneity in demand and supply, as well as varying levels of integration into existing educational clusters.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"WgxH3gGx9b"}],"key":"GyWU9zOmja"}],"key":"PWh3VHpD73"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs  = plt.subplots(figsize=(12, 12))\n\npgr.plot(ax=axs, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=axs, facecolor='none', edgecolor='#999999', linewidth=0.75)\nout.plot(ax=axs, facecolor='none', edgecolor='#666666', linewidth=1)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 1].plot(ax=axs,\n          column='cntr_hierarchy_rank',\n          cmap=cmap_pi,\n          alpha=0.55,\n          edgecolor='none',\n          linewidth=0.3,\n          legend=True,\n          legend_kwds={'frameon': False},\n          label = 'hierarchy rank', \n          vmin=0,\n          vmax=5)\n\nmarket_area[market_area['cntr_hierarchy_rank'] == 1].plot(\n    ax=axs,\n    edgecolor='white',  # variable for colormap\n    facecolor=\"none\",        # transparent polygons  # edge colors from your column\n    linewidth=0.3,\n    alpha=1\n)\n\ncentral_places.plot(ax=axs,\n           color='#76A79D', \n           markersize=20,\n           #markersize= 10,\n           alpha=0.75,\n           edgecolor='white',\n           linewidth=1)\nfor _, row in central_places.iterrows():\n    offset = 3  # vertical offset in points\n    axs.annotate(\n        row['abr'],                           # abbreviation\n        xy=(row.geometry.x, row.geometry.y),  # coords from the Point\n        xytext=(0, offset),                   # lift the text a bit\n        textcoords='offset points',\n        color='#1b4332',\n        fontsize=8,\n        ha='center',\n        va='bottom',\n        alpha=1,\n        zorder=6,\n        path_effects=[\n            path_effects.Stroke(linewidth=2, foreground='white'),\n            path_effects.Normal()\n        ]\n    )\n\naxs.set_title('Hierarchy Rank - 1. Basic Service Areas', fontsize=16, fontweight='bold')\naxs.set_axis_off()\nplt.tight_layout()\n\nsave_path = os.path.join(hf, \"Hierarchy Rank - 1. Basic Service Areas.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.show()","visibility":"remove","key":"pHNxt1rp78"},{"type":"outputs","id":"pAjDcwdlrnGwf4IhsbLL-","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"2383b0c8897fbc40e6867876928a5698","path":"/rethinking_student_housing/build/2383b0c8897fbc40e6867876928a5698.png"},"text/plain":{"content":"\u003cFigure size 1200x1200 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"nHEloRff91"}],"visibility":"show","key":"eIqZl2KKtD"}],"visibility":"show","key":"XCqy9dRZ4n"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Basic Service Areas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ELtbexVLr9"}],"key":"c4BkRGlTkr"}],"key":"HiTPT0jUBo"}],"key":"efZkczXnZY"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"market_area[market_area['cntr_hierarchy_rank'] == 3][[\"fname\",\"!s_aus_sum\", \"centrality\", \"cntr_service_range\", 'cntr_hierarchy', 'cntr_hierarchy_rank']].head(15).sort_values(\"cntr_hierarchy\", ascending=False) ","visibility":"remove","key":"Q5wYehHqEd"},{"type":"outputs","id":"fN-OdJEJAx0ExYYNmYOTH","children":[],"visibility":"show","key":"vxRfuz5p2s"}],"visibility":"show","key":"hgegdd9LPj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Basic Service Areas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wr6SY3Yp0M"}],"key":"vzFgmF7LFJ"}],"key":"xE23C9ScmK"}],"key":"jupwLtabU8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The constructed hierarchy of market areas revealed a pronounced polycentricity of the city’s educational space: central locations at the highest levels concentrate the greatest student demand and form the main clusters of attraction, while lower-level zones perform supporting functions. At the same time, demand significantly exceeds supply at all levels.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pxnjRy6sGq"}],"key":"fy2EGQ7FbC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Thus, the analysis shows that the student housing crisis in Berlin has a clearly defined spatial structure. The uneven distribution of both universities and accommodation infrastructure exacerbates market pressure, creating persistent areas of overload and local shortages, which require further strategic intervention and planning.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Nm6zWuoBtX"}],"key":"TvgxSasnWQ"}],"key":"WeiEfQ39zb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"market_area.to_crs(epsg=25833)\n\nef = r\"../outputs/3.2_central_place_analysis/market_area_central_place_analysis.gpkg\"\nmarket_area.to_file(ef, driver=\"GPKG\")","key":"qMKwn190W4"},{"type":"outputs","id":"QzPrEyNfx833kAghfn6hl","children":[],"key":"QKhzQCkY1L"}],"key":"VykfIlWum3"}],"key":"ds3dTdBUPe"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"3.1 Overview","url":"/notebooks/overview-1","group":"3. Student Housing Market Imbalance"},"next":{"title":"3.3 Market Pressure Analysis","url":"/notebooks/market-pressure-analysis","group":"3. Student Housing Market Imbalance"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["references.bib"],"exports":[],"title":"Rethinking Student Housing in Berlin","authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/0.1_title_page.md"},{"file":"markdowns/0.2_table_of_contens.md"},{"file":"notebooks/0.3_list_of_figures.ipynb"},{"file":"notebooks/0.4_list_of_tables.ipynb"}],"title":"0. Prelimitary Pages"},{"children":[{"file":"notebooks/1.1_european_student_accommodation_crisis.ipynb"},{"file":"notebooks/1.2_berlin_housing_crisis_history.md"},{"file":"notebooks/1.3_theoretical_framework.md"},{"file":"notebooks/1.4_rethinking_student_housing.md"}],"title":"1. Introduction"},{"children":[{"file":"notebooks/2.1_overview.md"},{"file":"notebooks/2.2_urban_data_mining.ipynb"},{"file":"notebooks/2.3_descriptive_market_statistics.ipynb"},{"file":"notebooks/2.4_global_spatial_autocorrelation.ipynb"}],"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"children":[{"file":"notebooks/3.1_overview.md"},{"file":"notebooks/3.2_central_place_analysis.ipynb"},{"file":"notebooks/3.3_market_pressure_analysis.ipynb"}],"title":"3. Student Housing Market Imbalance"},{"children":[{"file":"notebooks/4.1_overview.md"},{"file":"notebooks/4.2_students_needs_and_preferences.ipynb"},{"file":"notebooks/4.3_students_experiences.ipynb"}],"title":"4. Students Behind the Numbers"},{"children":[{"file":"notebooks/5.1_conclusion.md"},{"file":"notebooks/5.2_discussion.md"},{"file":"notebooks/5.3_future_research.md"}],"title":"5. Data-Driven Decisions"},{"children":[{"file":"notebooks/6.1_references.ipynb"},{"file":"notebooks/xx_materials_and_data.ipynb"},{"file":"notebooks/xx_behavioral_study"},{"file":"notebooks/xx_color_palettes.ipynb"}],"title":"6. Appendix"}],"index":"index","pages":[{"level":1,"title":"0. Prelimitary Pages"},{"slug":"notebooks.title-page","title":"0.1 Title Page","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"markdowns.table-of-contens","title":"0.2 Table of Contents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-figures","title":"0.3 List of Figures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.list-of-tables","title":"0.4 List of Tables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"1. Introduction"},{"slug":"notebooks.european-student-accommodation-crisis","title":"1.1 European Student Accommodation Crisis","description":"","date":"","thumbnail":"/rethinking_student_housing/build/countries_map-714d24d02c18e6dbce203f91f0a0c573.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.berlin-housing-crisis-history","title":"1.2 Berlin Housing Crisis History","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.theoretical-framework","title":"1.3 Theoretical Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.rethinking-student-housing","title":"1.4 Rethinking Student Housing in Berlin","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"2. Capacities, Demand \u0026 Spatial Distribution"},{"slug":"notebooks.overview","title":"2.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.urban-data-mining","title":"2.2 Urban Data Mining","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.descriptive-market-statistics","title":"2.3 Descriptive Market Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.global-spatial-autocorrelation","title":"2.4 Global Spatial Autocorrelation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"3. Student Housing Market Imbalance"},{"slug":"notebooks.overview-1","title":"3.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.central-place-analysis","title":"3.2 Central Place Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.market-pressure-analysis","title":"3.3 Market Pressure Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"4. Students Behind the Numbers"},{"slug":"notebooks.overview-2","title":"4.1 Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-needs-and-preferences","title":"4.2 Student Needs and Preferences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.students-experiences","title":"4.3 Student Experiences","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"5. Data-Driven Decisions"},{"slug":"notebooks.conclusion","title":"5.1 Conclusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.discussion","title":"5.2 Reflection","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.future-research","title":"5.3 Future Research","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"6. Appendix"},{"slug":"notebooks.references","title":"6.1 References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-materials-and-data","title":"Material \u0026 Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.xx-color-palettes","title":"Colour Palettes Design","description":"","date":"","thumbnail":"/rethinking_student_housing/build/color_test-b14dc3465d49509a7b93f53f06a18503.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/rethinking_student_housing/build/manifest-7B0967AD.js";
import * as route0 from "/rethinking_student_housing/build/root-EDJFWIEV.js";
import * as route1 from "/rethinking_student_housing/build/routes/$-AD65NCUT.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/rethinking_student_housing/build/entry.client-PCJPW7TK.js");</script></body></html>