{"version":3,"kind":"Notebook","sha256":"9eb82a976fd3ee828c77f098f6240be193553e6e3f32403759d5f6997e451019","slug":"notebooks.descriptive-market-statistics","location":"/notebooks/2.3_descriptive_market_statistics.ipynb","dependencies":[],"frontmatter":{"title":"2.3 Descriptive Market Statistics","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"geodatascience2.0","language":"python"},"authors":[{"nameParsed":{"literal":"Lazareva Nataliia","given":"Lazareva","family":"Nataliia"},"name":"Lazareva Nataliia","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Urban Design M.Sc.","given":"Urban Design","family":"M.Sc."},"name":"Urban Design M.Sc.","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Technical University of Berlin","given":"Technical University","non_dropping_particle":"of","family":"Berlin"},"name":"Technical University of Berlin","id":"contributors-myst-generated-uid-2"}],"github":"https://github.com/natashlazarpro/rethinking_student_housing","copyright":"2025","numbering":{"title":{"offset":1}},"source_url":"https://github.com/natashlazarpro/rethinking_student_housing/blob/main/student-housing-book/notebooks/2.3_descriptive_market_statistics.ipynb","edit_url":"https://github.com/natashlazarpro/rethinking_student_housing/edit/main/student-housing-book/notebooks/2.3_descriptive_market_statistics.ipynb","exports":[{"format":"ipynb","filename":"2.3_descriptive_market_statistics.ipynb","url":"/rethinking_student_housing/build/2.3_descriptive_mark-e16ff481a674f1980f76435073ed0504.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import warnings\n\nwarnings.filterwarnings(\"ignore\")\n\nimport pandas as pd\nimport os\nhf = r'../outputs/2.3_descriptive_market_statistics/'\nos.makedirs(hf, exist_ok=True)","visibility":"show","key":"geIMvsUwtA"},{"type":"outputs","id":"kHE5XOJJcrvPMbPK6BxIk","children":[],"visibility":"show","key":"v6TlKuNCbb"}],"visibility":"remove","key":"GLMJuQSecl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.3 Descriptive Market Statistics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SA5HfNxgub"}],"identifier":"id-2-3-descriptive-market-statistics","label":"2.3 Descriptive Market Statistics","html_id":"id-2-3-descriptive-market-statistics","implicit":true,"key":"L0rGvdIUqz"}],"key":"v6VEU9yNxr"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the 2024/25 winter semester, a total of 49,801 students with non-German citizenship were enrolled. This is more than in the previous winter semester (+1,439). The proportion of international students thus increased from 24.1% to 24.8% (Statistik Berlin Brandenburg, 2025). According to data collected in the Urban Data Mining chapter, the total capacity of planned student accommodation is 25,817 students. In other words, only 51.8% of international students can be accommodated in halls of residence if there is no competition from local German students.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TXwo932Cy1"}],"key":"QFnsOuaUMb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"While describing a dataset is usually the first task in any analysis, in order to rethink the student housing crisis, it is necessary to use descriptive statistics (also called ‘summary statistics’). Descriptive statistics quickly provide an understanding of data variability and allow for the identification of possible patterns (Grekousis, 2020).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"g441xtMLTM"}],"key":"gQveEcuU28"}],"key":"o9dvNTXAML"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set Up","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q5XDWzWElq"}],"identifier":"set-up","label":"Set Up","html_id":"set-up","implicit":true,"key":"MUdY3FZfLG"}],"key":"ymqpEmkS9V"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SHyzwQOOyS"}],"key":"qZ85K9SWO8"}],"key":"bFBNa1YACG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os  \nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport matplotlib.patheffects as path_effects \nimport geopandas as gpd \nfrom shapely.geometry import Point, MultiPoint \nfrom pyproj import CRS  \nfrom scipy.stats import norm ","key":"refFaZ9ngD"},{"type":"outputs","id":"caQtLUdhMq89tWe-RaM8e","children":[],"key":"BgXahY1m5Q"}],"key":"Lo8x3BL62U"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Colors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zcmjx2S6Lp"}],"key":"dZIkllQY3x"}],"visibility":"remove","key":"EoAbxEQZGv"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"color_palettes = {\n    \"Mint\": [\"#EAF4E8\", \"#C8E0D4\", \"#A9CCC1\", \"#8FB9AE\", \"#76A79D\", \"#5F968E\", \"#498581\"], \n    \"Pi\": [\"#F8EDEB\", \"#FAE1DD\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\", \"#F08080\"],\n    \"Or\": [\"#FFE5D9\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F49F7D\", \"#F28B6D\", \"#E1755CFF\"],\n    \"GrSc\":  ['#EFEFEF', '#D9D9D9', '#CCCCCC', '#B7B7B7', '#999999', '#666666', '#434343'],\n    \"MintPi\": [\"#76A79D\", \"#8FB9AE\", \"#A9CCC1\", \"#C8E0D4\", \"#FBF0EA\", \"#FCD5CE\", \"#FEC5BB\", \"#F8AD9D\", \"#F4978E\"],\n    \"MintOr\": [\"#76A79D\", \"#8FB9AE\", \"#A9CCC1\", \"#C8E0D4\", \"#FBF0EA\", \"#FFD7BA\", \"#FEC89A\", \"#FFB78F\", \"#F28B6D\"],\n    \"MiPiOr\": ['#EAF4E8', '#FAE1DD', '#C8E0D4', '#FFD7BA', '#F8EDEB', '#FCD5CE', '#FFE5D9']\n} \n\nfrom matplotlib.colors import LinearSegmentedColormap\n\ncmap_mint = LinearSegmentedColormap.from_list(\"Mint\", color_palettes[\"Mint\"])\ncmap_pi = LinearSegmentedColormap.from_list(\"Pi\", color_palettes[\"Pi\"])\ncmap_or = LinearSegmentedColormap.from_list(\"Or\", color_palettes[\"Or\"])\ncmap_mintpi = LinearSegmentedColormap.from_list(\"MintPi\", color_palettes[\"MintPi\"])\ncmap_mintor = LinearSegmentedColormap.from_list(\"MintOr\", color_palettes[\"MintOr\"])\ncmap_grsc = LinearSegmentedColormap.from_list(\"GrSc\", color_palettes[\"GrSc\"])\ncmap_mipior = LinearSegmentedColormap.from_list(\"MiPiOr\", color_palettes[\"MiPiOr\"])","visibility":"show","key":"zm9pmGjpNK"},{"type":"outputs","id":"fntnDeP9fWOzvuedJ-9ca","children":[],"visibility":"show","key":"Rpg9irwDms"}],"visibility":"remove","key":"WyJiGHzaqe"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Font","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"im9PUhBV1C"}],"key":"dbZe9MLlne"}],"visibility":"remove","key":"Ycz6ouOSxT"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.rcParams[\"font.family\"] = \"Helvetica\"","visibility":"show","key":"WMtD46XutT"},{"type":"outputs","id":"8UfY7BeR-wAtLxbXbawFq","children":[],"visibility":"show","key":"fW6ybupCzL"}],"visibility":"remove","key":"cxw8cVH7WE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Berlin Spatial Boundaries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UMdIDs7IPG"}],"key":"YH4PCQ5atb"}],"key":"KdPVDmiewz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pf = r\"../inputs/2.3_descriptive_market_statistics/lor_pgr.gpkg\"\npgr = gpd.read_file(pf)\npgr.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nbf = r\"../inputs/2.3_descriptive_market_statistics/adm_bz.gpkg\"\nbz = gpd.read_file(bf)\nbz.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)\n\nof = r\"../inputs/2.3_descriptive_market_statistics/adm_out.gpkg\"\nout = gpd.read_file(of)\nout.replace({'-': np.nan, 0: np.nan, '': np.nan}, inplace=True)","key":"JbpWiVUnGV"},{"type":"outputs","id":"f73DWNdmNimtDn6qm3-O2","children":[],"key":"CpkEOh54K2"}],"key":"lBtjtGFDnQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Student Accommodation Capacity","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KjiNnaoihf"}],"identifier":"student-accommodation-capacity","label":"Student Accommodation Capacity","html_id":"student-accommodation-capacity","implicit":true,"key":"QKIcyTee6k"}],"key":"f3CnvXkGdX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The geospatial student accommodation data, obtained as a result of Urban Data Mining, served as a base for statistical research.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rvhzfvB2VJ"}],"key":"tfyuxAsGK8"}],"key":"CTenu3Ht6V"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ef = r\"../inputs/2.3_descriptive_market_statistics/pbsa_c.gpkg\"\npbsa_c = gpd.read_file(ef)","key":"W3HxmrTelF"},{"type":"outputs","id":"-XLItyigYjy6VsaKJZydU","children":[],"key":"bVmBU5L51I"}],"key":"bHPNjrtOgA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Common Statictics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Dt9xWHFzIc"}],"identifier":"common-statictics","label":"Common Statictics","html_id":"common-statictics","implicit":true,"key":"FpVwPHTKHR"}],"key":"bePkV4ZLAF"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"_s = (\n    pbsa_c['units type']\n        .astype(str)\n        .str.lower()\n        .str.strip()\n)\n\n# Prepare masks without defining functions (future-proof via keyword/regex detection)\nis_single = (\n    _s.str.contains(r\"\\b(single|studio|private|1-bed|one)\\b\", regex=True)\n)\n\nis_double = (\n    _s.str.contains(r\"\\b(double|twin|2-bed|two)\\b\", regex=True)\n)\n\n# Shared: explicit keywords or 3+ bed counts imply shared occupancy\nis_shared = (\n    _s.str.contains(r\"\\b(shared|wg|dorm|multi|[3-9]-bed)\\b\", regex=True)\n    | _s.str.contains(r\"\\b(3|4|5|6|7|8|9)\\b\", regex=True)\n)\n\npbsa_c['unit_type_norm'] = 'other'\npbsa_c.loc[is_shared, 'unit_type_norm'] = 'shared apartment'\npbsa_c.loc[is_double, 'unit_type_norm'] = 'double apartment'\npbsa_c.loc[is_single, 'unit_type_norm'] = 'single apartment'\n\npbsa_c['unit_type_norm'] = pd.Categorical(\n    pbsa_c['unit_type_norm'],\n    categories=['single apartment', 'double apartment', 'shared apartment', 'other'],\n    ordered=True\n)\n\n# Cleanup temporary variables\ndel _s, is_single, is_double, is_shared","visibility":"show","key":"HdrbHX12RX"},{"type":"outputs","id":"OGmQLfsfzobUg3vTuigYI","children":[],"visibility":"show","key":"Ivi82CGgFK"}],"visibility":"remove","key":"rvn4fhgG0u"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The numeric fields are the basis for collecting statistics, for which it is possible to calculate the sum (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"soIftuMPSZ"},{"type":"inlineCode","value":"sum","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FhSNCs1ZZq"},{"type":"text","value":"), mean (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uusWTEoQiE"},{"type":"inlineCode","value":"mean","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fiamkqTcn0"},{"type":"text","value":"), median (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I1DCnPXS4a"},{"type":"inlineCode","value":"median","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C7ChVOoA82"},{"type":"text","value":") and standard deviation (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bz1z66SS1k"},{"type":"inlineCode","value":"std","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"drLGKQyDbN"},{"type":"text","value":"), minimum (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u8cnyDxfQQ"},{"type":"inlineCode","value":"min","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rObNgnrmBP"},{"type":"text","value":") and maximum (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"THKXiCCr4A"},{"type":"inlineCode","value":"max","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R94HCapPw1"},{"type":"text","value":"). In the case of Student Accommodation, such data includes: capacity (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sRPAgjQBpI"},{"type":"inlineCode","value":"!cap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DYjBexX9h7"},{"type":"text","value":") maximum and minimum price (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dnjvv6Ydfy"},{"type":"inlineCode","value":"price_min","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HXUBHo6Bfd"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MK0e98xWrS"},{"type":"inlineCode","value":"price_max","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ALAx2YD9Ma"},{"type":"text","value":"), maximum and minimum living space (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KTHeHD9VxF"},{"type":"inlineCode","value":"area_min","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aGFnoXzxfH"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fZqw3w4nTo"},{"type":"inlineCode","value":"area_max","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JVm4lmwPPN"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lcRsxsQJIO"}],"key":"bNebNHcOnP"}],"key":"jv42K4aN85"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cols_numeric = ['!cap', 'price_min', 'price_max', 'area_min', 'area_max']","key":"LWwa46qnra"},{"type":"outputs","id":"cJ9QDUNoBJW5MoiKfprlI","children":[],"key":"GkkSRr9zsB"}],"key":"l4Xtb2D5h7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary Statistics (Table XX) shows considerable diversity in student accommodation data, as evidenced by significant deviations from the mean value for the main numeric fields (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q1amaNl6BL"},{"type":"inlineCode","value":"std","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w9ZAwoHuXW"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NBtVzbdRbc"}],"key":"LeGtk4Ax2p"}],"key":"H8fM9ZMa3X"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"summary = pbsa_c[cols_numeric].agg(['mean', 'median', 'std', 'min', 'max'])\nsummary = summary.T.round(2)\n\n\nsummary","key":"K6ycyt4zjD"},{"type":"outputs","id":"zuHe3tZC6zRY7QGZh7KWE","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"mean\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"median\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"std\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"min\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"max\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"ae7ecd38-8530-48a6-8a5a-2f9d821f7c27\",\"rows\":[[\"!cap\",\"293.38\",\"200.0\",\"248.18\",\"24.0\",\"1062.0\"],[\"price_min\",\"447.33\",\"400.0\",\"136.85\",\"256.0\",\"720.0\"],[\"price_max\",\"615.94\",\"469.5\",\"310.19\",\"352.0\",\"1499.0\"],[\"area_min\",\"15.11\",\"16.0\",\"4.05\",\"9.0\",\"25.0\"],[\"area_max\",\"30.79\",\"27.0\",\"17.08\",\"10.0\",\"149.0\"]],\"shape\":{\"columns\":5,\"rows\":5}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>min</th>\n      <th>max</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>!cap</th>\n      <td>293.38</td>\n      <td>200.0</td>\n      <td>248.18</td>\n      <td>24.0</td>\n      <td>1062.0</td>\n    </tr>\n    <tr>\n      <th>price_min</th>\n      <td>447.33</td>\n      <td>400.0</td>\n      <td>136.85</td>\n      <td>256.0</td>\n      <td>720.0</td>\n    </tr>\n    <tr>\n      <th>price_max</th>\n      <td>615.94</td>\n      <td>469.5</td>\n      <td>310.19</td>\n      <td>352.0</td>\n      <td>1499.0</td>\n    </tr>\n    <tr>\n      <th>area_min</th>\n      <td>15.11</td>\n      <td>16.0</td>\n      <td>4.05</td>\n      <td>9.0</td>\n      <td>25.0</td>\n    </tr>\n    <tr>\n      <th>area_max</th>\n      <td>30.79</td>\n      <td>27.0</td>\n      <td>17.08</td>\n      <td>10.0</td>\n      <td>149.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"             mean  median     std    min     max\n!cap       293.38   200.0  248.18   24.0  1062.0\nprice_min  447.33   400.0  136.85  256.0   720.0\nprice_max  615.94   469.5  310.19  352.0  1499.0\narea_min    15.11    16.0    4.05    9.0    25.0\narea_max    30.79    27.0   17.08   10.0   149.0","content_type":"text/plain"}}},"children":[],"key":"FXZdO8WfZ5"}],"key":"ZQCFHsBBBk"}],"key":"qn6HbGm9m8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Student Accommodation Numeric Fields Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jjMwJcDcWU"}],"key":"jRdwAKlLc6"}],"key":"c0WDPo2zzQ"}],"key":"T04A1Wq90P"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Capacity indicators (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kgCHPw28Xw"},{"type":"inlineCode","value":"!cap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P01eoLZYr6"},{"type":"text","value":") show significant dispersion (Figure XX), where the median value is equal to the standard deviation (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ydNrCh9iDM"},{"type":"inlineCode","value":"mean ≈ std","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Qan0VJMqtF"},{"type":"text","value":"), reflecting the polarised nature of housing supply — from small private dormitories, for example, Reichsstrasse Dormitory designed for 61 students, to large public-owned residential complexes, such as WH Siegmunds Hof from Studierendenwerk Berlin with more than 500 places.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EO8KrIxuVi"}],"key":"jIcqSdMvPt"}],"key":"QrgYZa67rE"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(4, 6))\nsns.boxplot(\n    data=pbsa_c,\n    y='!cap',\n    color= '#FEC89A',\n    showmeans=True,\n    meanprops={\n        'marker': 'o',\n        'markerfacecolor': 'white',\n        'markeredgecolor': 'black',\n        'markersize': '8'\n    }\n)\nplt.title('Student Accommodation Capacity Distribution', fontsize=10, weight='bold')\nplt.ylabel('сapacity (!cap)')\nplt.grid(axis='y', linestyle='--', alpha=0.4)\n\nsave_path = os.path.join(hf, \"Student Accommodation Capacity Distribution.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"cQMMKb1yne"},{"type":"outputs","id":"Abh0YMaCGOa0BgVtb7Gtf","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ba047d0b6f5e74baf34ecde5afc229a3","path":"/rethinking_student_housing/build/ba047d0b6f5e74baf34ecde5afc229a3.png"},"text/plain":{"content":"<Figure size 400x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"ZZGXCIF5Iz"}],"visibility":"show","key":"IqRY0WDrJH"}],"visibility":"show","key":"vkiKtpHNUc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Capacity Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bvkwMBOF2i"}],"key":"WwL53rh4On"}],"key":"iMRe0WusYJ"}],"key":"bbzMjDVOf9"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Student Accommodation Capacity Normal Distribution Histogram (Figure XX) shows that student accommodation consists of small halls of residence with fewer than 300 students, indicating fragmentation and a small scale of supply within Berlin’s existing urban structure.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HdTg6NRZrz"}],"key":"GF1i0ILotk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Only a few large complexes exceed 600–800 places, reflecting isolated high-density developments, often located on the periphery or on redeveloped sites.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ABf7ZQqlrV"}],"key":"XqOgP8Kuxq"}],"key":"Nqx4hgosly"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"f, axs = plt.subplots(figsize=(6, 6)) \n\n#---------------------------------------- 1 ------------------------------------------------------------\nx_min = pbsa_c['!cap'].min()\nx_max = pbsa_c['!cap'].max()\n\nbins = len(pbsa_c) // 5  # Number of bins based on data size\nax = axs  # First subplot: axs[0]\n\nmu, std = norm.fit(pbsa_c['!cap'])\nx = np.linspace(x_min, x_max, 100)\np = norm.pdf(x, mu, std)\nnd_pbsa_c = mu-2*std\nhist_area = len(pbsa_c['!cap']) * (x_max - x_min) / bins\nscaled_p = p * hist_area\n\n# Plot histogram\nax.hist(pbsa_c['!cap'], bins=bins, color='#FEC89A', alpha=0.7, density=False)\n\n# Plot normal distribution curve\nax.plot(x, scaled_p, color='#cccccc')\nax.axvline(mu, color='#F28B6D', linestyle='--', label=f'mean: {mu:.1f}')\nax.axvline(mu + 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'+2σ: {mu+2*std:.1f}')\nax.axvline(mu - 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'-2σ: {mu-2*std:.1f}')\n\nax.set_xlim(x_min, x_max)\nax.set_xlabel('capasity (!cap)', fontsize=10)\nax.set_ylabel('frequency', fontsize=10)\nax.set_title('Student Accommodation Capacity Normal Distribution Histogram', fontsize=12, pad=8, fontweight='bold')\nax.legend(loc='best', frameon=False)\n\nsave_path = os.path.join(hf, \"Student Accommodation Capacity Normal Distribution.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"a2pzUCn7nL"},{"type":"outputs","id":"I0lCgD2Ix8SXMGZ2Fyh4n","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"864ce562b6f71691931b4bac911b82bb","path":"/rethinking_student_housing/build/864ce562b6f71691931b4bac911b82bb.png"},"text/plain":{"content":"<Figure size 600x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"P27AcSnAXp"}],"visibility":"show","key":"iJE0ODcYfr"}],"visibility":"show","key":"Sm2gnDhTRx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Capacity Normal Distribution Histogram","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bgImZ83vG6"}],"key":"euCC6Mhqxb"}],"key":"Cuenya93FM"}],"key":"sN1ET4Q04F"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Price Distribution (Figure XX) shows a clear disparity between minimum and maximum student accommodation prices in Berlin, illustrating both baseline affordability constraints and significant upper-end price volatility. Minimum prices on average are 447€ ± 136€, which aligns with Berlin’s Mietspiegel, suggesting a relatively narrow—but still high—cost floor for most students. In contrast, maximum prices have multiple high-value outliers, reaching above 1,400€, indicating the presence of hight-cost or highly commodified units within the market.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vSJEZboZwm"}],"key":"iJi7O1fJh8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"When discussing student housing prices, it is important to remember that housing is a human right. (Lefebvre, 1968), not an object of trade. The Berlin Constitution clearly state: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lw5PGPCZAa"},{"type":"inlineCode","value":"Everyone has the right to adequate housing. The state promotes the creation and provision of adequate housing, especially for people on low incomes, and the cultivation of condominium ownership","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RbleElNscW"},{"type":"text","value":". Students can be seen as people of low income, who can not afford such hight-cost options.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QhCtz4zyHn"}],"key":"gDZncTfLn4"}],"key":"z7S6eoNBoq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(1, 2, figsize=(8, 6))   # 1 row, 2 columns\n\nsns.boxplot(\n    ax=axs[0],                          # <-- *zero‑based* index\n    data=pbsa_c,\n    y='price_min',\n    color='#FFD7BA',\n    showmeans=True,\n    meanprops={\n        'marker': 'o',\n        'markerfacecolor': 'white',\n        'markeredgecolor': 'black',\n        'markersize': 8\n    }\n)\naxs[0].set_title('Student Accommodation\\nMinimum Price Distribution',\n                 fontsize=10, fontweight='bold')\naxs[0].set_ylabel('minimum price (price_min)')\naxs[0].grid(axis='y', linestyle='--', alpha=0.4)\n\nsns.boxplot(\n    ax=axs[1],                          # <-- second subplot\n    data=pbsa_c,\n    y='price_max',\n    color='#FFB78F',\n    showmeans=True,\n    meanprops={\n        'marker': 'o',\n        'markerfacecolor': 'white',\n        'markeredgecolor': 'black',\n        'markersize': 8\n    }\n)\naxs[1].set_title('Student Accommodation\\nMaximum Price Distribution',\n                 fontsize=10, fontweight='bold')\naxs[1].set_ylabel('maximum price (price_max)')\naxs[1].grid(axis='y', linestyle='--', alpha=0.4)\n\nsave_path = os.path.join(hf, \"Student Accommodation Maximum Price Distribution.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nfig.tight_layout()  \nplt.show()","visibility":"remove","key":"gDViAdB0O6"},{"type":"outputs","id":"QStZhj9e9eqOaW7YeDwzE","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"21f951568abc62c124b2591ecdc9a535","path":"/rethinking_student_housing/build/21f951568abc62c124b2591ecdc9a535.png"},"text/plain":{"content":"<Figure size 800x600 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"mjznjQRjKr"}],"visibility":"show","key":"XI9397hmya"}],"visibility":"show","key":"TTU0kObHdV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Price Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lIhYPyn5fT"}],"key":"rqHRdzH7H5"}],"key":"pTez3pPSN1"}],"key":"kY7bGUqpHC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Spatial characteristics (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XIMibhbyA6"},{"type":"inlineCode","value":"area_min","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TgEDZipSSm"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zE5gTLTSCc"},{"type":"inlineCode","value":"area_max","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rQu2e19U1w"},{"type":"text","value":") demonstrate additional heterogeneity — living spaces range from compact studios (<12 m², σ=±4.7) to spacious shared flats (>40 m², σ=±11.2), illustrating differences in the morphology of student housing.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mTl4ZmzwxJ"}],"key":"QxCVpgkYHf"}],"key":"G4u1H7ci44"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(1, 2, figsize=(8, 6))   # 1 row, 2 columns\n\nsns.boxplot(\n    ax=axs[0],                          # <-- *zero‑based* index\n    data=pbsa_c,\n    y='area_min',\n    color='#FFD7BA',\n    showmeans=True,\n    meanprops={\n        'marker': 'o',\n        'markerfacecolor': 'white',\n        'markeredgecolor': 'black',\n        'markersize': 8\n    }\n)\naxs[0].set_title('Student Accommodation\\nLiving Area Minimum Distribution',\n                 fontsize=10, fontweight='bold')\naxs[0].set_ylabel('living area minimum (area_min)')\naxs[0].grid(axis='y', linestyle='--', alpha=0.4)\n\nsns.boxplot(\n    ax=axs[1],                          # <-- second subplot\n    data=pbsa_c,\n    y='area_max',\n    color='#FFB78F',\n    showmeans=True,\n    meanprops={\n        'marker': 'o',\n        'markerfacecolor': 'white',\n        'markeredgecolor': 'black',\n        'markersize': 8\n    }\n)\naxs[1].set_title('Student Accommodation\\nLiving Area Maximum Distribution',\n                 fontsize=10, fontweight='bold')\naxs[1].set_ylabel('living area maximum (area_max)')\naxs[1].grid(axis='y', linestyle='--', alpha=0.4)\n\nsave_path = os.path.join(hf, \"Student Accommodation Area Distribution.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nfig.tight_layout()  \nplt.show()","visibility":"remove","key":"uZsue4OmN2"},{"type":"outputs","id":"kdyYEpQgrRJEfFbzOreXl","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"82767337bb431b510d5a6b1539b93601","path":"/rethinking_student_housing/build/82767337bb431b510d5a6b1539b93601.png"},"text/plain":{"content":"<Figure size 800x600 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"D3Ke6tjm3w"}],"visibility":"show","key":"zJKKf4cTFj"}],"visibility":"show","key":"eBdZjEuGb2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Living Area Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bmGX1UZtow"}],"key":"rVOnuKXyqq"}],"key":"l4ejKOGmNw"}],"key":"MtDJ8gN6rm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The significant variability (Table XX) identified at the beginning of the chapter requires additional statistical processing. The heterogeneity essentially reflects the fragmented housing market in Berlin, where supply imbalances lead to differences in housing typology across different urban areas.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q1P5TIcNC7"}],"key":"s4Khd2v7f5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For a more detailed analysis of the housing market and evaluation of numeric data, student accommodations were divided into groups according to ownership model (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xcgI6066P8"},{"type":"inlineCode","value":"own","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vGEVpebanh"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HzFU3J7YmH"}],"key":"CARGQW9PIR"}],"key":"uhIScgBBa6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Ownership Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kE8Wu19brv"}],"identifier":"ownership-model","label":"Ownership Model","html_id":"ownership-model","implicit":true,"key":"Ml1u3QgOoh"}],"key":"dhcSy4MAkx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key Student Accommodation Ownership Companies (Table XX) are the state-owned companies Studierendenwerk Berlin, Berlinovo, Degewo and the private companies Home in Berlin GmbH and Campus Viva GmbH. Together, these five companies own 68.9% of the student accommodation market.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FVXK4xF4uJ"}],"key":"WjaxITiIHi"}],"key":"HtD05nkO0W"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"summary_ownership = (pbsa_c.groupby('ownership', dropna=False)[cols_numeric].agg(['sum', 'mean', 'median', 'std']).round(2))\n\nsummary_ownership.sort_values(by=('!cap', 'sum'), ascending=False, inplace=True)\n\nsummary_ownership.head(5)","key":"sIqkYGF7Fm"},{"type":"outputs","id":"Htpp-sxunlALVJJGla-Ic","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"ownership\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"('!cap', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"ea894158-b672-4d23-b4b8-675504ef957f\",\"rows\":[[\"Studierendenwerk Berlin\",\"9942.0\",\"310.69\",\"183.0\",\"285.91\",\"10101.0\",\"325.84\",\"322.0\",\"43.44\",\"13552.0\",\"437.16\",\"422.0\",\"59.83\",\"394.0\",\"12.71\",\"12.0\",\"3.63\",\"903.0\",\"29.13\",\"28.0\",\"8.03\"],[\"Berlinovo\",\"3787.0\",\"344.27\",\"232.0\",\"282.1\",\"3940.0\",\"437.78\",\"410.0\",\"78.7\",\"0.0\",null,null,null,\"145.0\",\"16.11\",\"16.0\",\"0.6\",\"162.0\",\"20.25\",\"20.0\",\"2.76\"],[\"Home in Berlin GmbH\",\"1890.0\",\"315.0\",\"178.5\",\"315.15\",\"3715.0\",\"619.17\",\"659.5\",\"96.56\",\"779.0\",\"779.0\",\"779.0\",null,\"91.0\",\"15.17\",\"13.0\",\"4.22\",\"102.0\",\"25.5\",\"26.0\",\"5.74\"],[\"Campus Viva GmbH\",\"1108.0\",\"554.0\",\"554.0\",\"359.21\",\"1190.0\",\"595.0\",\"595.0\",\"176.78\",\"1499.0\",\"1499.0\",\"1499.0\",null,\"38.0\",\"19.0\",\"19.0\",\"1.41\",\"72.0\",\"36.0\",\"36.0\",\"14.14\"],[\"Degewo\",\"1065.0\",\"532.5\",\"532.5\",\"557.91\",\"0.0\",null,null,null,\"0.0\",null,null,null,\"39.0\",\"19.5\",\"19.5\",\"3.54\",\"61.0\",\"30.5\",\"30.5\",\"7.78\"]],\"shape\":{\"columns\":20,\"rows\":5}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead tr th {\n        text-align: left;\n    }\n\n    .dataframe thead tr:last-of-type th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr>\n      <th></th>\n      <th colspan=\"4\" halign=\"left\">!cap</th>\n      <th colspan=\"4\" halign=\"left\">price_min</th>\n      <th colspan=\"4\" halign=\"left\">price_max</th>\n      <th colspan=\"4\" halign=\"left\">area_min</th>\n      <th colspan=\"4\" halign=\"left\">area_max</th>\n    </tr>\n    <tr>\n      <th></th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n    </tr>\n    <tr>\n      <th>ownership</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Studierendenwerk Berlin</th>\n      <td>9942.0</td>\n      <td>310.69</td>\n      <td>183.0</td>\n      <td>285.91</td>\n      <td>10101.0</td>\n      <td>325.84</td>\n      <td>322.0</td>\n      <td>43.44</td>\n      <td>13552.0</td>\n      <td>437.16</td>\n      <td>422.0</td>\n      <td>59.83</td>\n      <td>394.0</td>\n      <td>12.71</td>\n      <td>12.0</td>\n      <td>3.63</td>\n      <td>903.0</td>\n      <td>29.13</td>\n      <td>28.0</td>\n      <td>8.03</td>\n    </tr>\n    <tr>\n      <th>Berlinovo</th>\n      <td>3787.0</td>\n      <td>344.27</td>\n      <td>232.0</td>\n      <td>282.10</td>\n      <td>3940.0</td>\n      <td>437.78</td>\n      <td>410.0</td>\n      <td>78.70</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>145.0</td>\n      <td>16.11</td>\n      <td>16.0</td>\n      <td>0.60</td>\n      <td>162.0</td>\n      <td>20.25</td>\n      <td>20.0</td>\n      <td>2.76</td>\n    </tr>\n    <tr>\n      <th>Home in Berlin GmbH</th>\n      <td>1890.0</td>\n      <td>315.00</td>\n      <td>178.5</td>\n      <td>315.15</td>\n      <td>3715.0</td>\n      <td>619.17</td>\n      <td>659.5</td>\n      <td>96.56</td>\n      <td>779.0</td>\n      <td>779.00</td>\n      <td>779.0</td>\n      <td>NaN</td>\n      <td>91.0</td>\n      <td>15.17</td>\n      <td>13.0</td>\n      <td>4.22</td>\n      <td>102.0</td>\n      <td>25.50</td>\n      <td>26.0</td>\n      <td>5.74</td>\n    </tr>\n    <tr>\n      <th>Campus Viva GmbH</th>\n      <td>1108.0</td>\n      <td>554.00</td>\n      <td>554.0</td>\n      <td>359.21</td>\n      <td>1190.0</td>\n      <td>595.00</td>\n      <td>595.0</td>\n      <td>176.78</td>\n      <td>1499.0</td>\n      <td>1499.00</td>\n      <td>1499.0</td>\n      <td>NaN</td>\n      <td>38.0</td>\n      <td>19.00</td>\n      <td>19.0</td>\n      <td>1.41</td>\n      <td>72.0</td>\n      <td>36.00</td>\n      <td>36.0</td>\n      <td>14.14</td>\n    </tr>\n    <tr>\n      <th>Degewo</th>\n      <td>1065.0</td>\n      <td>532.50</td>\n      <td>532.5</td>\n      <td>557.91</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>39.0</td>\n      <td>19.50</td>\n      <td>19.5</td>\n      <td>3.54</td>\n      <td>61.0</td>\n      <td>30.50</td>\n      <td>30.5</td>\n      <td>7.78</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                           !cap                        price_min          \\\n                            sum    mean median     std       sum    mean   \nownership                                                                  \nStudierendenwerk Berlin  9942.0  310.69  183.0  285.91   10101.0  325.84   \nBerlinovo                3787.0  344.27  232.0  282.10    3940.0  437.78   \nHome in Berlin GmbH      1890.0  315.00  178.5  315.15    3715.0  619.17   \nCampus Viva GmbH         1108.0  554.00  554.0  359.21    1190.0  595.00   \nDegewo                   1065.0  532.50  532.5  557.91       0.0     NaN   \n\n                                       price_max                          \\\n                        median     std       sum     mean  median    std   \nownership                                                                  \nStudierendenwerk Berlin  322.0   43.44   13552.0   437.16   422.0  59.83   \nBerlinovo                410.0   78.70       0.0      NaN     NaN    NaN   \nHome in Berlin GmbH      659.5   96.56     779.0   779.00   779.0    NaN   \nCampus Viva GmbH         595.0  176.78    1499.0  1499.00  1499.0    NaN   \nDegewo                     NaN     NaN       0.0      NaN     NaN    NaN   \n\n                        area_min                     area_max                \\\n                             sum   mean median   std      sum   mean median   \nownership                                                                     \nStudierendenwerk Berlin    394.0  12.71   12.0  3.63    903.0  29.13   28.0   \nBerlinovo                  145.0  16.11   16.0  0.60    162.0  20.25   20.0   \nHome in Berlin GmbH         91.0  15.17   13.0  4.22    102.0  25.50   26.0   \nCampus Viva GmbH            38.0  19.00   19.0  1.41     72.0  36.00   36.0   \nDegewo                      39.0  19.50   19.5  3.54     61.0  30.50   30.5   \n\n                                \n                           std  \nownership                       \nStudierendenwerk Berlin   8.03  \nBerlinovo                 2.76  \nHome in Berlin GmbH       5.74  \nCampus Viva GmbH         14.14  \nDegewo                    7.78  ","content_type":"text/plain"}}},"children":[],"key":"TmJVWFYNaF"}],"key":"InCeH9rNvf"}],"key":"Gn5clkX6nM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Key Student Accommodation Ownership Companies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cNjNHmh8Yx"}],"key":"CsHPzKwrJV"}],"key":"FUAYyo7hlY"}],"key":"UBTRYhcwR0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When dividing student accommodation into state and privately owned, the gap between the minimum and maximum prices (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FoZdiN7lLz"},{"type":"inlineCode","value":"price_min","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N9mgn19whw"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lcQqALkPej"},{"type":"inlineCode","value":"price_max","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dUXbQUtrbn"},{"type":"text","value":") for monthly rent for different ownership models become evident. Table XX analyses the numerical fields for student accommodation according to different ownership types.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qNBm5vWVgh"}],"key":"Ur88i6RLdW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The capacity of state and private accommodation differs slightly. Nevertheless, prices for state-owned accommodation vary from €368 to €439, while privately owned accommodation costs significantly more: from €590 to €968.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t4Ehyeqi5w"}],"key":"ZnhDSCpRSg"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"At the same time, the minimum income for students set by the Federal Foreign Office in 2025 for foreign students to obtain a visa is €992 per month. This makes private accommodation unaffordable for most international students.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nZpKDzegek"}],"key":"llC3XoTBnt"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Reducing the price gap between state and private accommodation through price regulation could be part of the solution to the student housing crisis.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kAsxPwn8Jk"}],"key":"I4twNFKAGH"}],"key":"TyRI6O39oN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"summary_ownership_model = (\n    pbsa_c\n    .groupby('ownership_model', dropna=False)[cols_numeric]\n    .agg(['mean', 'median', 'std']).round(2)\n    .sort_index()\n)\n\nsummary_ownership_model","key":"A5PLZ1lDyV"},{"type":"outputs","id":"T9IWEOGFlwE6JqVIl1HYm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"ownership_model\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"('!cap', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"5f604189-002d-4b94-963a-9f3822747e3a\",\"rows\":[[\"Privat-Owned\",\"295.5\",\"245.0\",\"205.93\",\"590.52\",\"600.0\",\"96.0\",\"968.94\",\"887.5\",\"307.59\",\"16.0\",\"17.0\",\"3.18\",\"29.6\",\"27.0\",\"8.46\"],[\"State-Owned\",\"292.28\",\"162.5\",\"269.13\",\"368.43\",\"352.0\",\"79.89\",\"439.44\",\"422.0\",\"60.25\",\"14.72\",\"15.0\",\"4.36\",\"31.29\",\"27.0\",\"19.65\"]],\"shape\":{\"columns\":15,\"rows\":2}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead tr th {\n        text-align: left;\n    }\n\n    .dataframe thead tr:last-of-type th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr>\n      <th></th>\n      <th colspan=\"3\" halign=\"left\">!cap</th>\n      <th colspan=\"3\" halign=\"left\">price_min</th>\n      <th colspan=\"3\" halign=\"left\">price_max</th>\n      <th colspan=\"3\" halign=\"left\">area_min</th>\n      <th colspan=\"3\" halign=\"left\">area_max</th>\n    </tr>\n    <tr>\n      <th></th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n    </tr>\n    <tr>\n      <th>ownership_model</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Privat-Owned</th>\n      <td>295.50</td>\n      <td>245.0</td>\n      <td>205.93</td>\n      <td>590.52</td>\n      <td>600.0</td>\n      <td>96.00</td>\n      <td>968.94</td>\n      <td>887.5</td>\n      <td>307.59</td>\n      <td>16.00</td>\n      <td>17.0</td>\n      <td>3.18</td>\n      <td>29.60</td>\n      <td>27.0</td>\n      <td>8.46</td>\n    </tr>\n    <tr>\n      <th>State-Owned</th>\n      <td>292.28</td>\n      <td>162.5</td>\n      <td>269.13</td>\n      <td>368.43</td>\n      <td>352.0</td>\n      <td>79.89</td>\n      <td>439.44</td>\n      <td>422.0</td>\n      <td>60.25</td>\n      <td>14.72</td>\n      <td>15.0</td>\n      <td>4.36</td>\n      <td>31.29</td>\n      <td>27.0</td>\n      <td>19.65</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                   !cap                price_min               price_max  \\\n                   mean median     std      mean median    std      mean   \nownership_model                                                            \nPrivat-Owned     295.50  245.0  205.93    590.52  600.0  96.00    968.94   \nState-Owned      292.28  162.5  269.13    368.43  352.0  79.89    439.44   \n\n                               area_min              area_max                \n                median     std     mean median   std     mean median    std  \nownership_model                                                              \nPrivat-Owned     887.5  307.59    16.00   17.0  3.18    29.60   27.0   8.46  \nState-Owned      422.0   60.25    14.72   15.0  4.36    31.29   27.0  19.65  ","content_type":"text/plain"}}},"children":[],"key":"I7diyaMIdB"}],"key":"dhxmuQYP1n"}],"key":"LAJcIQG9PD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Student Accommodation Ownership Model Numeric Fields Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NEcLMGXAak"}],"key":"basELBpXYz"}],"key":"XyLzx5yWNL"}],"key":"Pcp4UMMlb4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Despite their inaccessibility in terms of cost, private student accommodation accounts for 34.3% of the market supply (Figure XX). Private accommodation is not uncommon – it houses about one-fifth of all international students. This suggests that the private market should be regulated systematically, rather than on a case-by-case basis.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J9HtMhy6c7"}],"key":"SkOTFeJGYi"}],"key":"gSc6EueWlX"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cap_by_own = pbsa_c.groupby('ownership_model')['!cap'].sum()\n\nfig, ax = plt.subplots(figsize=(6,6))\n\ndef make_autopct(values):\n    \"\"\"Return a function that displays: `perct%  \\n[count]`.\"\"\"\n    total = sum(values)\n\n    def my_autopct(pct):\n        # `pct` is the percent that plt.pie passes to the function\n        count = int(round(pct * total / 100.0))\n        return f\"{pct:.1f}%\\n{count:,}\"      # comma as thousand‑separator\n\n    return my_autopct\n\nax.pie(\n    cap_by_own,\n    labels=cap_by_own.index,   # Private / Public (or whatever you have)\n    autopct=make_autopct(cap_by_own),         # percent to 1 decimal place\n    startangle=90,             # nicer start position\n    colors=['#FEC89A','#A9CCC1']   # mint + orange – change if you prefer\n)\nax.set_title('Student Accommodation Capacity Distribution by Ownership Model', fontsize=10)\nax.axis('equal')                # keep the circle round\n\nsave_path = os.path.join(hf, \"Student Accommodation Capacity Distribution by Ownership Model.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"w6QndC2k2o"},{"type":"outputs","id":"UdzQuhTQaflKA3np8Kic3","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f3cde9041c22460c6cd428d5cb9cbdab","path":"/rethinking_student_housing/build/f3cde9041c22460c6cd428d5cb9cbdab.png"},"text/plain":{"content":"<Figure size 600x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"ujzsgZf7Kp"}],"visibility":"show","key":"q0TuDO1ySL"}],"visibility":"show","key":"kVkJzknz5e"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Capacity Distribution by Ownership Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"umfj3Usxf4"}],"key":"MdJcaGjcVr"}],"key":"mHYV2ichCG"}],"key":"BwbZ945oSE"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from matplotlib.colors import ListedColormap\n\nmint_colour   = '#A9CCC1'  # light‑mint – for Private\norange_colour = '#FEC89A'\n\nownership_cmap = ListedColormap([ orange_colour, mint_colour])","visibility":"show","key":"dRvI7nyWAx"},{"type":"outputs","id":"xQ-GgS8X55_S1nVfKFJWN","children":[],"visibility":"show","key":"ngxpwekCa1"}],"visibility":"remove","key":"KqH1Zn0tPx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The map (Figure XX) illustrates the spatial distribution of student housing in Berlin by ownership model, revealing clear structural patterns that contribute to the ongoing student housing crisis in the city.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eiJRPdEZJS"}],"key":"UhpGvuXdRI"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Public residences are more evenly distributed across the periphery, reflecting their role as affordable, welfare-oriented infrastructure, but their limited density indicates insufficient public capacity relative to demand.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A3szQmNmvy"}],"key":"tjJloHNq9h"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Private facilities are more concentrated in central areas and high-demand areas, particularly in Mitte, Friedrichshain-Kreuzberg and Charlottenburg-Wilmersdorf, reflecting market logic that prioritises profitable locations with high rents over equal access.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cRWyz9Q2X3"}],"key":"QZTh5WDUu7"}],"key":"rwp4Z2SYvf"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax  = plt.subplots(figsize=(18, 12))\n\npgr.plot(ax=ax, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=ax, facecolor='none', edgecolor='#999999', linewidth=0.75)\nfor idx, row in bz.iterrows():\n    centroid = row['geometry'].centroid\n    txt = ax.text(\n        centroid.x, centroid.y,\n        str(row['namgem']),\n        fontsize=8, color='#666666', ha='center', va='center'\n    )\n    txt.set_path_effects([\n        path_effects.Stroke(linewidth=2, foreground='white'),\n        path_effects.Normal()\n    ])\nout.plot(ax=ax, facecolor='none', edgecolor='#666666', linewidth=1)\npbsa_c.plot(\n    ax=ax,\n    column='ownership_model',      # <─ this forces colour by group\n    cmap=ownership_cmap,           # <─ two‑colour palette\n    markersize=np.sqrt(pbsa_c['!cap'])*2,   # capacity → point size\n    alpha=0.9,\n    edgecolor='white',\n    linewidth=0.3,\n    legend=True, \n    legend_kwds={'title': 'Ownership model','frameon': False       }         \n    )\n\nax.set_title('Student Accommodation Spatial Distribution by Ownership Model', fontsize=14, pad=15, fontweight='bold')\nax.set_axis_off()\n\nsave_path = os.path.join(hf, \"Student Accommodation Spatial Distribution by Ownership Model.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"lvAWSpS7GP"},{"type":"outputs","id":"baqGsTJkiLJjuv7nSuRZz","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"963dd27b632a8b2c178322a8dfd35f9a","path":"/rethinking_student_housing/build/963dd27b632a8b2c178322a8dfd35f9a.png"},"text/plain":{"content":"<Figure size 1800x1200 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"BDmhDVCztN"}],"visibility":"show","key":"vp31Cs388T"}],"visibility":"show","key":"Kg4iMt5NlA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Student Accommodation Spatial Distribution by Ownership Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rFHd61s9Mx"}],"key":"gefLoYcKiH"}],"key":"WH3RcUE2LL"}],"key":"XMzuvoHa1s"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Two histograms (Figure XX) show that public and private student residences in Berlin have almost identical average capacities (≈290–300 places), but their distribution differs in aspects that are relevant to the housing crisis.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OvO4zuWPvd"}],"key":"vFTiCCkNPb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Public facilities have a wider range, including several large complexes with more than 900 places (e.g. WH Coppistraße, Iranische Straße, Ludwig-Renn-Straße Hellersdorf, WH Aristotelessteig), reflecting their role in providing significant long-term public capacity.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yBHNnrWp9S"}],"key":"okyQSOJHH0"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In private student accommodation, by contrast, small and medium-sized facilities predominate, with fewer large complexes, indicating a market that tends to prioritise scattered, small investments over large-scale projects.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dONHTydgCi"}],"key":"krAiZoTd2N"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The public sector is at least attempting to implement large projects, while private supply remains fragmented.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RKx6942OAZ"}],"key":"WnOdi47diu"}],"key":"JD2v5xtAkX"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"f, axs = plt.subplots(1, 2, figsize=(12, 6))\n\npbsa_so = pbsa_c[pbsa_c['ownership_model'] == 'State-Owned']  # Filter out extreme outliers\nx_min = pbsa_so['!cap'].min()\nx_max = pbsa_so['!cap'].max()\n\n# bins = len(pbsa_so)//5\nbins = 20 \n\nax = axs[0]  \n\nmu, std = norm.fit(pbsa_so['!cap'])\nx = np.linspace(x_min, x_max, 100)\np = norm.pdf(x, mu, std)\nnd_pbsa_so = mu-2*std\nhist_area = len(pbsa_so['!cap']) * (x_max - x_min) / bins\nscaled_p = p * hist_area\n\n# Plot histogram\nax.hist(pbsa_so['!cap'], bins=bins, color='#A9CCC1', alpha=0.7, density=False)\n\n# Plot normal distribution curve\nax.plot(x, scaled_p, color='#cccccc')\nax.axvline(mu, color='#76A79D', linestyle='--', label=f'mean: {mu:.1f}')\nax.axvline(mu + 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'+2σ: {mu+2*std:.1f}')\nax.axvline(mu - 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'-2σ: {mu-2*std:.1f}')\nax.set_xlim(x_min, x_max)\nax.set_ylim(0, 16)\n\nax.set_xlabel('capasity (!cap)', fontsize=10)\nax.set_ylabel('frequency', fontsize=10)\nax.set_title('State Owned Student Accommodation Capacity Distribution', fontsize=12, pad=8, fontweight='bold')\nax.legend(loc='upper right', frameon=False)\nplt.tight_layout()\n\n#----------------------------------------2------------------------------------------------------------\n\npbsa_po = pbsa_c[pbsa_c['ownership_model'] == 'Privat-Owned']  # Filter out extreme outliers\nx_min = pbsa_so['!cap'].min()\nx_max = pbsa_so['!cap'].max()\n\nbins = 20 # Number of bins based on data size\nax = axs[1]  \n\nmu, std = norm.fit(pbsa_po['!cap'])\nx = np.linspace(x_min, x_max, 100)\np = norm.pdf(x, mu, std)\nnd_pbsa_po = mu-2*std\nhist_area = len(pbsa_po['!cap']) * (x_max - x_min) / bins\nscaled_p = p * hist_area\n\n# Plot histogram\nax.hist(pbsa_po['!cap'], bins=bins, color='#FEC89A', alpha=0.7, density=False)\n\n# Plot normal distribution curve\nax.plot(x, scaled_p, color='#cccccc')\nax.axvline(mu, color='#F28B6D', linestyle='--', label=f'mean: {mu:.1f}')\nax.axvline(mu + 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'+2σ: {mu+2*std:.1f}')\nax.axvline(mu - 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'-2σ: {mu-2*std:.1f}')\n\nax.set_xlim(x_min, x_max)\nax.set_ylim(0, 16)\n\nax.set_xlabel('capasity (!cap)', fontsize=10)\nax.set_ylabel('frequency', fontsize=10)\nax.set_title('Private Owned Student Accommodation Capacity Distribution', fontsize=12, pad=8, fontweight='bold')\nax.legend(loc='upper right', frameon=False)\n\n\nsave_path = os.path.join(hf, \"State and Private Owned Student Accommodation Normal Capacity Distribution Comparison.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout\nplt.show()\n","visibility":"remove","key":"vo6ACarPLS"},{"type":"outputs","id":"ONETzKOXTZ7q-5QSaop_f","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"51ccf180c2f95fb484ba0b822ee4b892","path":"/rethinking_student_housing/build/51ccf180c2f95fb484ba0b822ee4b892.png"},"text/plain":{"content":"<Figure size 1200x600 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"QkomsHxV81"}],"visibility":"show","key":"iHo10MbYWn"}],"visibility":"show","key":"aG7i0zNZou"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. State and Private Owned Student Accommodation Normal Capacity Distribution Comparison","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"itYEHfcjq4"}],"key":"kF3hiLKXrF"}],"key":"LAhNTSEmX1"}],"key":"ZKP66zwtM6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This division highlights a fundamental problem: public student housing is too infrequent and located on the outskirts to offset affordability pressures, while private housing is concentrated in the most expensive areas. As a result, students face geographical and financial mismatches, reinforcing the need for data-driven planning strategies that rebalance supply, expand capacity, and redirect development to underserved areas.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xKISiXIsi1"}],"key":"KU9EinAMM3"}],"key":"iknzWAFUfm"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Housing Unit Type","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zbAZX72dMU"}],"identifier":"housing-unit-type","label":"Housing Unit Type","html_id":"housing-unit-type","implicit":true,"key":"Fmz40DtVPP"}],"visibility":"remove","key":"s0mvwUYryO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"summary_unit_type = (\n    pbsa_c\n    .groupby('unit_type_norm', dropna=False)[cols_numeric]\n    .agg(['mean', 'median', 'std']).round(2)\n    .sort_index()\n)\n\nsummary_unit_type","visibility":"show","key":"k3kPBkke6O"},{"type":"outputs","id":"4ZgNVqg4r0jkYD8W-_oNc","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"unit_type_norm\",\"rawType\":\"category\",\"type\":\"unknown\"},{\"name\":\"('!cap', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!cap', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_min', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('price_max', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_min', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('area_max', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"ffab8174-e092-4bc7-95a4-26cbe589146f\",\"rows\":[[\"single apartment\",\"310.68\",\"202.0\",\"251.76\",\"457.34\",\"410.0\",\"141.0\",\"656.25\",\"504.5\",\"324.31\",\"15.46\",\"16.0\",\"4.12\",\"31.28\",\"27.5\",\"17.62\"],[\"double apartment\",\"364.2\",\"386.0\",\"257.86\",\"401.75\",\"411.5\",\"120.98\",\"466.67\",\"425.0\",\"74.78\",\"15.0\",\"13.5\",\"4.24\",\"40.25\",\"40.5\",\"13.38\"],[\"shared apartment\",\"133.25\",\"73.0\",\"177.08\",\"380.43\",\"342.0\",\"83.75\",\"383.0\",\"367.0\",\"38.79\",\"12.14\",\"12.0\",\"2.12\",\"19.83\",\"20.0\",\"6.65\"],[\"other\",\"125.0\",\"125.0\",\"28.28\",null,null,null,null,null,null,null,null,null,null,null,null]],\"shape\":{\"columns\":15,\"rows\":4}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead tr th {\n        text-align: left;\n    }\n\n    .dataframe thead tr:last-of-type th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr>\n      <th></th>\n      <th colspan=\"3\" halign=\"left\">!cap</th>\n      <th colspan=\"3\" halign=\"left\">price_min</th>\n      <th colspan=\"3\" halign=\"left\">price_max</th>\n      <th colspan=\"3\" halign=\"left\">area_min</th>\n      <th colspan=\"3\" halign=\"left\">area_max</th>\n    </tr>\n    <tr>\n      <th></th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n    </tr>\n    <tr>\n      <th>unit_type_norm</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>single apartment</th>\n      <td>310.68</td>\n      <td>202.0</td>\n      <td>251.76</td>\n      <td>457.34</td>\n      <td>410.0</td>\n      <td>141.00</td>\n      <td>656.25</td>\n      <td>504.5</td>\n      <td>324.31</td>\n      <td>15.46</td>\n      <td>16.0</td>\n      <td>4.12</td>\n      <td>31.28</td>\n      <td>27.5</td>\n      <td>17.62</td>\n    </tr>\n    <tr>\n      <th>double apartment</th>\n      <td>364.20</td>\n      <td>386.0</td>\n      <td>257.86</td>\n      <td>401.75</td>\n      <td>411.5</td>\n      <td>120.98</td>\n      <td>466.67</td>\n      <td>425.0</td>\n      <td>74.78</td>\n      <td>15.00</td>\n      <td>13.5</td>\n      <td>4.24</td>\n      <td>40.25</td>\n      <td>40.5</td>\n      <td>13.38</td>\n    </tr>\n    <tr>\n      <th>shared apartment</th>\n      <td>133.25</td>\n      <td>73.0</td>\n      <td>177.08</td>\n      <td>380.43</td>\n      <td>342.0</td>\n      <td>83.75</td>\n      <td>383.00</td>\n      <td>367.0</td>\n      <td>38.79</td>\n      <td>12.14</td>\n      <td>12.0</td>\n      <td>2.12</td>\n      <td>19.83</td>\n      <td>20.0</td>\n      <td>6.65</td>\n    </tr>\n    <tr>\n      <th>other</th>\n      <td>125.00</td>\n      <td>125.0</td>\n      <td>28.28</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                    !cap                price_min                price_max  \\\n                    mean median     std      mean median     std      mean   \nunit_type_norm                                                               \nsingle apartment  310.68  202.0  251.76    457.34  410.0  141.00    656.25   \ndouble apartment  364.20  386.0  257.86    401.75  411.5  120.98    466.67   \nshared apartment  133.25   73.0  177.08    380.43  342.0   83.75    383.00   \nother             125.00  125.0   28.28       NaN    NaN     NaN       NaN   \n\n                                area_min              area_max                \n                 median     std     mean median   std     mean median    std  \nunit_type_norm                                                                \nsingle apartment  504.5  324.31    15.46   16.0  4.12    31.28   27.5  17.62  \ndouble apartment  425.0   74.78    15.00   13.5  4.24    40.25   40.5  13.38  \nshared apartment  367.0   38.79    12.14   12.0  2.12    19.83   20.0   6.65  \nother               NaN     NaN      NaN    NaN   NaN      NaN    NaN    NaN  ","content_type":"text/plain"}}},"children":[],"key":"PdF5KsxM7z"}],"visibility":"show","key":"T6YSAmvLWE"}],"visibility":"remove","key":"BvgfSjDdpZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Full descriptive statistics on student accommodation are available for review in the Materials & Data chapter.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lQsme4a5pD"}],"key":"eMSrx6qW4h"}],"key":"l3mBnAkU2a"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"output_path = r\"../outputs/2.3_descriptive_market_statistics/student_acomodation_statictics.xlsx\" \n\n# Write DataFrames to separate sheets in one Excel file\nwith pd.ExcelWriter(output_path, engine='openpyxl') as writer:\n    summary.to_excel(writer, sheet_name='common_statistics')\n    summary_ownership.to_excel(writer, sheet_name='by_ownership')\n    summary_ownership_model.to_excel(writer, sheet_name='by_ownership_model')\n    summary_unit_type.to_excel(writer, sheet_name='by_unit_type')","key":"Hbf1E1uvN5"},{"type":"outputs","id":"oZV5WYf4UyilBxNkU2vB2","children":[],"key":"a9T1YjxHwU"}],"key":"FE0wQh3JCc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities Students Demand","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OsZKRGPe2k"}],"identifier":"higher-education-universities-students-demand","label":"Higher Education Universities Students Demand","html_id":"higher-education-universities-students-demand","implicit":true,"key":"rAW14L6lEL"}],"key":"BtS5ayEJ1K"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The higher education universities’ geospatial data, obtained as a result of Urban Data Mining, served as a base for statistical research.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MSh1mTjG5b"}],"key":"i34ENArX32"}],"key":"h29Q0y94H7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cf = r\"../inputs/2.3_descriptive_market_statistics/uni_c.gpkg\"\nuni_c = gpd.read_file(cf)","key":"hA2LCiImIH"},{"type":"outputs","id":"VZqi-DRm2PJCBRR3t9AyI","children":[],"key":"gwAkJPfiI5"}],"key":"oWIyGRbepY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Common Statictics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zZwBIpZCbJ"}],"identifier":"common-statictics","label":"Common Statictics","html_id":"common-statictics-1","implicit":true,"key":"Vax9UIQ7qr"}],"key":"NqUUfh7CD5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the case of Higher Education Universities, the numerical data are the number of German students (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gud1iKpQbv"},{"type":"inlineCode","value":"!s_de","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EHYBdLpkkX"},{"type":"text","value":"), the number of foreign students (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fXtAd0g38U"},{"type":"inlineCode","value":"!s_aus","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"utTVRN1POl"},{"type":"text","value":") and the total number of students (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cNMcWn1MbI"},{"type":"inlineCode","value":"!s_all","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cb0SFQzlKp"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tCIples3CT"}],"key":"NG0Gvx4Lm1"}],"key":"gGVEzFjyPp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cols_numeric = ['!s_all', '!s_de', '!s_aus']","key":"iogoPMddLj"},{"type":"outputs","id":"4L3jqrkrVZq8TOTGMHmEJ","children":[],"key":"ydHj9AYA59"}],"key":"Tk6Pn0InK3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities Data (Table XX) shows a sharp difference in student numbers between universities in Berlin. The average university enrolment is 3,720 students, but a typical university (median 842 places) is 4.4 times smaller. This means that several large universities take on the main part of the load (such as Free University, Humboldt University and Technical University of Berlin).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"odzQdrKuzV"}],"key":"uad9DhDtTR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Foreign students make up 24.1% of the total, meaning that one in five students in Berlin is a foreigner. Comparing the standard deviations for German and foreign students, one can see segmentation based on nationality, which manifests itself in a 3.3-times higher dispersion of German students than foreign students, revealing a cluster model of foreign student placement in large state universities. It is noteworthy that Free University (8,280 foreign students), Humboldt University (6,415 foreign students) and Technical University of Berlin (10,262 foreign students) account for 24,957 foreign students, or 51.5% of total international student demand.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f2CsrWVZBh"}],"key":"EwJV7D0HVv"}],"key":"u5nL0PjNgh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"summary = uni_c[cols_numeric].agg(['mean', 'median', 'std', 'sum'])\nsummary = summary.T.round(2)\n\nsummary","key":"hrGbTxfRgx"},{"type":"outputs","id":"jr4LQAJrbHhT-NPwSzBGO","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"index\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"mean\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"median\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"std\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"sum\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"fa05ea76-666e-436c-9d85-d5db7f2c9979\",\"rows\":[[\"!s_all\",\"3720.15\",\"842.0\",\"8498.32\",\"200888.0\"],[\"!s_de\",\"2822.8\",\"489.0\",\"6604.27\",\"152431.0\"],[\"!s_aus\",\"897.35\",\"172.5\",\"1999.27\",\"48457.0\"]],\"shape\":{\"columns\":4,\"rows\":3}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>!s_all</th>\n      <td>3720.15</td>\n      <td>842.0</td>\n      <td>8498.32</td>\n      <td>200888.0</td>\n    </tr>\n    <tr>\n      <th>!s_de</th>\n      <td>2822.80</td>\n      <td>489.0</td>\n      <td>6604.27</td>\n      <td>152431.0</td>\n    </tr>\n    <tr>\n      <th>!s_aus</th>\n      <td>897.35</td>\n      <td>172.5</td>\n      <td>1999.27</td>\n      <td>48457.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"           mean  median      std       sum\n!s_all  3720.15   842.0  8498.32  200888.0\n!s_de   2822.80   489.0  6604.27  152431.0\n!s_aus   897.35   172.5  1999.27   48457.0","content_type":"text/plain"}}},"children":[],"key":"HoxjH8FW5l"}],"key":"pNm1NVPKG3"}],"key":"fMbwqlQunv"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Higher Education Universities Numeric Fields Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l0zs3kf7KI"}],"key":"PT6oYRDgo6"}],"key":"LQdKYmWWk1"}],"key":"rOI42fe8Xd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Free University, Humboldt University and Technical University Berlin are exceptions to the rule (or so-called ‘statistical outliers’). Most universities have up to 600 students. Thus, Higher Education Universities Students Demand Distribution (Figure XX) is far from normal.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P2T1i8IphV"}],"key":"D1Z8XUuQtT"}],"key":"Oqir6tewlt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"f, axs = plt.subplots(figsize=(6, 6)) \n\n#---------------------------------------- 1 ------------------------------------------------------------\nx_min = uni_c['!s_aus'].min()\nx_max = uni_c['!s_aus'].max()\n\nbins = len(uni_c) // 5  # Number of bins based on data size\nax = axs  # First subplot: axs[0]\n\nmu, std = norm.fit(uni_c['!s_aus'])\nx = np.linspace(x_min, x_max, 100)\np = norm.pdf(x, mu, std)\nnd_uni_c = mu-2*std\nhist_area = len(uni_c['!s_aus']) * (x_max - x_min) / bins\nscaled_p = p * hist_area\n\n# Plot histogram\nax.hist(uni_c['!s_aus'], bins=bins, color='#FCD5CE', alpha=0.7, density=False)\n\n# Plot normal distribution curve\nax.plot(x, scaled_p, color='#cccccc')\nax.axvline(mu, color='#F8AD9D', linestyle='--', label=f'mean: {mu:.1f}')\nax.axvline(mu + 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'+2σ: {mu+2*std:.1f}')\nax.axvline(mu - 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'-2σ: {mu-2*std:.1f}')\n\nax.set_xlim(x_min, x_max)\nax.set_xlabel(' demand (!s_aus)', fontsize=10)\nax.set_ylabel('frequency', fontsize=10)\nax.set_title('Higher Education Universities Students Demand Normal Distribution Histogram', fontsize=12, pad=8, fontweight='bold')\nax.legend(loc='best', frameon=False)\n\nsave_path = os.path.join(hf, \"Higher Education Universities Students Demand Normal Distribution Histogram.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"tzDEr1YkF4"},{"type":"outputs","id":"72qe9oFe77EoOK27ZNpQr","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"9ae08664cf3df24aac946ac5e0fc7ca3","path":"/rethinking_student_housing/build/9ae08664cf3df24aac946ac5e0fc7ca3.png"},"text/plain":{"content":"<Figure size 600x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"JX5lmPq0qq"}],"visibility":"show","key":"WZ7AqvYwtG"}],"visibility":"show","key":"oK8MRWuZ3H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Higher Education Universities Students Demand Normal Distribution Histogram","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u5zGN978Qy"}],"key":"lWZtCWqfmR"}],"key":"DGzlQfR6k6"}],"key":"EePu7TWBGe"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to gain a deeper understanding of the imbalance in supply, by analogy with student accommodations, higher education universities can be divided into two groups based on their ownership model (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zb88XEs3D6"},{"type":"inlineCode","value":"own","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nE26Jj94Zn"},{"type":"text","value":"): Public and Private Universities.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OFs2CTodiX"}],"key":"GSkgm5xelF"}],"key":"YL1Utl2srV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Ownership Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o7SWI6PfcS"}],"identifier":"ownership-model","label":"Ownership Model","html_id":"ownership-model-1","implicit":true,"key":"O9aA7azJBb"}],"key":"zcJoKTi6bS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Higher Education Universities Ownership Model Numeric Fields Summary (Figure XX) shows a dramatic structural difference between public and private higher education institutions in Berlin. Public universities dominate the academic landscape, accepting an average of more than 9,000 students per institution, while private universities accept fewer than 1,000 students. This gap persists among both German and foreign students: public universities enrol the majority of German students (an average of ≈ 7,100) and attract significantly more foreign students (an average of ≈ 2,000) than private institutions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QUCxqyqURS"}],"key":"MOfdVo5vE7"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The much higher overall figures and variability in the public sector highlight the concentrated demand pressure on public universities, which are the main drivers of the student housing market.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iiX6CE77JO"}],"key":"cDtfoUKmc8"}],"key":"OYWWNVdUAX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"summary_ownership_model = (\n    uni_c\n    .groupby('own', dropna=False)[cols_numeric]\n    .agg(['mean', 'median', 'std', 'sum']).round(2)\n    .sort_index()\n)\n\nsummary_ownership_model","key":"VjnPcMKPmC"},{"type":"outputs","id":"N2kz8ykp1E-veSO-LIlSy","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"own\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"('!s_all', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_all', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_all', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_all', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"82c59e88-cb2d-4713-a4ee-dc6489a3bb2d\",\"rows\":[[\"Privat University\",\"804.89\",\"597.0\",\"727.67\",\"28171.0\",\"498.49\",\"267.0\",\"584.14\",\"17447.0\",\"306.4\",\"102.0\",\"493.02\",\"10724.0\"],[\"Public University\",\"9090.37\",\"4226.0\",\"12832.96\",\"172717.0\",\"7104.42\",\"2805.0\",\"9895.76\",\"134984.0\",\"1985.95\",\"400.0\",\"3062.69\",\"37733.0\"]],\"shape\":{\"columns\":12,\"rows\":2}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead tr th {\n        text-align: left;\n    }\n\n    .dataframe thead tr:last-of-type th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr>\n      <th></th>\n      <th colspan=\"4\" halign=\"left\">!s_all</th>\n      <th colspan=\"4\" halign=\"left\">!s_de</th>\n      <th colspan=\"4\" halign=\"left\">!s_aus</th>\n    </tr>\n    <tr>\n      <th></th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n    </tr>\n    <tr>\n      <th>own</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Privat University</th>\n      <td>804.89</td>\n      <td>597.0</td>\n      <td>727.67</td>\n      <td>28171.0</td>\n      <td>498.49</td>\n      <td>267.0</td>\n      <td>584.14</td>\n      <td>17447.0</td>\n      <td>306.40</td>\n      <td>102.0</td>\n      <td>493.02</td>\n      <td>10724.0</td>\n    </tr>\n    <tr>\n      <th>Public University</th>\n      <td>9090.37</td>\n      <td>4226.0</td>\n      <td>12832.96</td>\n      <td>172717.0</td>\n      <td>7104.42</td>\n      <td>2805.0</td>\n      <td>9895.76</td>\n      <td>134984.0</td>\n      <td>1985.95</td>\n      <td>400.0</td>\n      <td>3062.69</td>\n      <td>37733.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                    !s_all                                !s_de          \\\n                      mean  median       std       sum     mean  median   \nown                                                                       \nPrivat University   804.89   597.0    727.67   28171.0   498.49   267.0   \nPublic University  9090.37  4226.0  12832.96  172717.0  7104.42  2805.0   \n\n                                       !s_aus                           \n                       std       sum     mean median      std      sum  \nown                                                                     \nPrivat University   584.14   17447.0   306.40  102.0   493.02  10724.0  \nPublic University  9895.76  134984.0  1985.95  400.0  3062.69  37733.0  ","content_type":"text/plain"}}},"children":[],"key":"mQ4QmzViS0"}],"key":"UzN7U00K70"}],"key":"el9ItTYloE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table XX. Higher Education Universities Ownership Model Numeric Fields Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IFg13SXvqL"}],"key":"cssQ86WGdV"}],"key":"kXtARW6U10"}],"key":"uRWIdE8m8a"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Private universities contribute less significantly to the total number of students (Figure XX). Nevertheless, 22.1% of foreign students choose private universities for their education. Of all students at private universities, 38% are foreigners (vs. 22% at state universities).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fzq0SzQblJ"}],"key":"sPCK6m10R1"}],"key":"z0K9ZROK6X"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"stud_aus_by_own = uni_c.groupby('own')['!s_aus'].sum()\n\nfig, ax = plt.subplots(figsize=(6,6))\n\ndef make_autopct(values):\n    \"\"\"Return a function that displays: `perct%  \\n[count]`.\"\"\"\n    total = sum(values)\n\n    def my_autopct(pct):\n        # `pct` is the percent that plt.pie passes to the function\n        count = int(round(pct * total / 100.0))\n        return f\"{pct:.1f}%\\n{count:,}\"      # comma as thousand‑separator\n\n    return my_autopct\n\nax.pie(\n    stud_aus_by_own,\n    labels=stud_aus_by_own.index,   # Private / Public (or whatever you have)\n    autopct=make_autopct(stud_aus_by_own),         # percent to 1 decimal place\n    startangle=90,             # nicer start position\n    colors=['#FEC5BB','#A9CCC1']   # mint + orange – change if you prefer\n)\nax.set_title('Higher Education Universities Demand Distribution by Ownership Model', fontsize=10)\nax.axis('equal')                # keep the circle round\n\nsave_path = os.path.join(hf, \"Higher Education Universities Demand Distribution by Ownership Model.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"JTDh9ry1NJ"},{"type":"outputs","id":"EdpEKYNF2ZsnMA5w6ooCq","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"da44bcb85190da720f50e7d535f1f374","path":"/rethinking_student_housing/build/da44bcb85190da720f50e7d535f1f374.png"},"text/plain":{"content":"<Figure size 600x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"WvG1gTPqS9"}],"visibility":"show","key":"fz86zK0WzC"}],"visibility":"show","key":"hW1OepMWhZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Higher Education Universities Demand Distribution by Ownership Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WzelFOqXRL"}],"key":"Uz1vIoVPw0"}],"key":"jUJ7DMV4cy"}],"key":"XgyTqfhDQ7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The spatial distribution of higher education institutions in Berlin (Figure XX) shows a strong central concentration of private universities, in contrast to the more dispersed location of public universities throughout the city.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RueWYKA3eq"}],"key":"ghhzf68O48"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Private universities are mainly concentrated in Mitte, Charlottenburg-Wilmersdorf and Friedrichshain-Kreuzberg – areas that are already characterised by high demand for housing – while public universities occupy both central areas and more peripheral areas such as Lichtenberg, Steglitz-Zehlendorf and Treptow-Köpenick. This uneven geography increases spatial inequality in the demand for student housing: large public universities create high pressure on the housing market across the city, while private universities add local spikes in demand in already highly densely populated central areas.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aa9ZOcHAn2"}],"key":"fupv42OXM2"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For large public universities, state-owned dormitories remain a priority, while the private sector requires integration into the urban housing ecosystem and lower prices as a market driver that is developing faster than the public sector.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"c3um8dTCPz"}],"key":"x7tdGYJYSN"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The map highlights a broader structural problem: the spatial logic of Berlin’s university system does not correspond to the distribution of student housing, exacerbating the city’s ongoing student housing crisis.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"flngILg7gM"}],"key":"c0rgawM9KJ"}],"key":"kouhC8DK6w"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from matplotlib.colors import ListedColormap\n\nmint_colour   = '#A9CCC1'  # light‑mint – for Private\norange_colour = '#FCD5CE'\n\nownership_cmap = ListedColormap([ orange_colour, mint_colour])","visibility":"show","key":"GkHdFPOuSS"},{"type":"outputs","id":"_pDv2twnzmmPGDdZgQFH5","children":[],"visibility":"show","key":"LfHd1JnUeW"}],"visibility":"remove","key":"CvGqYPVLsO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax  = plt.subplots(figsize=(18, 12))\n\npgr.plot(ax=ax, facecolor='none', edgecolor='#cccccc', linewidth=0.5, linestyle=\"--\")\nbz.plot(ax=ax, facecolor='none', edgecolor='#999999', linewidth=0.75)\nfor idx, row in bz.iterrows():\n    centroid = row['geometry'].centroid\n    txt = ax.text(\n        centroid.x, centroid.y,\n        str(row['namgem']),\n        fontsize=8, color='#666666', ha='center', va='center'\n    )\n    txt.set_path_effects([\n        path_effects.Stroke(linewidth=2, foreground='white'),\n        path_effects.Normal()\n    ])\nout.plot(ax=ax, facecolor='none', edgecolor='#666666', linewidth=1)\nuni_c.plot(\n    ax=ax,\n    column='own',      # <─ this forces colour by group\n    cmap=ownership_cmap,           # <─ two‑colour palette\n    markersize=np.sqrt(pbsa_c['!cap'])*2,   # capacity → point size\n    alpha=0.9,\n    edgecolor='white',\n    linewidth=0.3,\n    legend=True, \n    legend_kwds={'title': 'Ownership model','frameon': False       }         \n    )\n\nax.set_title('Higher Education Universities Spatial Distribution by Ownership Model', fontsize=14, pad=15, fontweight='bold')\nax.set_axis_off()\n\nsave_path = os.path.join(hf, \"Higher Education Universities Spatial Distribution by Ownership Model.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"tZSYfVjpaP"},{"type":"outputs","id":"cgxHOjvpJqVirRFM_UJ-Z","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7f45a1ea76cce40778d6b5709c01a63b","path":"/rethinking_student_housing/build/7f45a1ea76cce40778d6b5709c01a63b.png"},"text/plain":{"content":"<Figure size 1800x1200 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"HfTu8K0vdf"}],"visibility":"show","key":"o3kNa2zdDf"}],"visibility":"show","key":"D017VVbVi8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Higher Education Universities Spatial Distribution by Ownership Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Kk3KSh6WCB"}],"key":"HiR0nyGh0h"}],"key":"bYeynBmt2D"}],"key":"LLWns3zLy6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Two histograms (Figure XX) show that public and private universities in Berlin have different demand indicators: 1,986 for public universities and 306 for private universities.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BYJVdlhXOp"}],"key":"CzGFcfGK66"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Public universities have a wider range, including several large complexes with more than 8,000 students. (e.g., Technical University of Berlin and Free University of Berlin), indicating a high concentration of international demand in a limited number of campuses.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jgDOX1bFqc"}],"key":"CQS4YoGyQL"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In private halls of residence, on the other hand, the distribution is more compact, but still spread out. The vast majority of private universities have low or medium demand, while large complexes have up to 2,500 international students.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bupnkTTxaa"}],"key":"eHYZzCpoq6"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The contrast between the two distributions confirms that the housing demand of international students in Berlin is unevenly distributed, creating local areas of market overload.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SxZLD0PC2O"}],"key":"z8OHV1g24c"}],"key":"a4TkkfwZXk"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"f, axs = plt.subplots(1, 2, figsize=(12, 6))\n\nuni_so = uni_c[uni_c['own'] == 'Public University']  # Filter out extreme outliers\nx_min = uni_so['!s_aus'].min()\nx_max = uni_so['!s_aus'].max()\n\n# bins = len(uni_so)//5\nbins = 20 \n\nax = axs[0]  \n\nmu, std = norm.fit(uni_so['!s_aus'])\nx = np.linspace(x_min, x_max, 100)\np = norm.pdf(x, mu, std)\nnd_uni_so = mu-2*std\nhist_area = len(uni_so['!s_aus']) * (x_max - x_min) / bins\nscaled_p = p * hist_area\n\n# Plot histogram\nax.hist(uni_so['!s_aus'], bins=bins, color='#A9CCC1', alpha=0.7, density=False)\n\n# Plot normal distribution curve\nax.plot(x, scaled_p, color='#cccccc')\nax.axvline(mu, color='#76A79D', linestyle='--', label=f'mean: {mu:.1f}')\nax.axvline(mu + 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'+2σ: {mu+2*std:.1f}')\nax.axvline(mu - 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'-2σ: {mu-2*std:.1f}')\n\nax.set_xlim(x_min, x_max)\nax.set_ylim(0, 10)\n\nax.set_xlabel('demand (!s_aus)', fontsize=10)\nax.set_ylabel('frequency', fontsize=10)\nax.set_title('Public Higher Education Universities International Student Demand Distribution', fontsize=12, pad=8, fontweight='bold')\nax.legend(loc='upper right', frameon=False)\nplt.tight_layout()\n\n#----------------------------------------2------------------------------------------------------------\n\nuni_po = uni_c[uni_c['own'] == 'Privat University']  # Filter out extreme outliers\nx_min = uni_po['!s_aus'].min()\nx_max = uni_po['!s_aus'].max()\n\nbins = 20 # Number of bins based on data size\nax = axs[1]  \n\nmu, std = norm.fit(uni_po['!s_aus'])\nx = np.linspace(x_min, x_max, 100)\np = norm.pdf(x, mu, std)\nnd_uni_po = mu-2*std\nhist_area = len(uni_po['!s_aus']) * (x_max - x_min) / bins\nscaled_p = p * hist_area\n\n# Plot histogram\nax.hist(uni_po['!s_aus'], bins=bins, color='#FCD5CE', alpha=0.7, density=False)\n\n# Plot normal distribution curve\nax.plot(x, scaled_p, color='#cccccc')\nax.axvline(mu, color='#F8AD9D', linestyle='--', label=f'mean: {mu:.1f}')\nax.axvline(mu + 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'+2σ: {mu+2*std:.1f}')\nax.axvline(mu - 2*std, color='#cccccc', linestyle='--', alpha=0.5, label=f'-2σ: {mu-2*std:.1f}')\n\nax.set_xlim(x_min, x_max)\nax.set_ylim(0, 10)\n\nax.set_xlabel('demand (!s_aus)', fontsize=10)\nax.set_ylabel('frequency', fontsize=10)\nax.set_title('Privat Higher Education Universities International Student Demand Distribution', fontsize=12, pad=8, fontweight='bold')\nax.legend(loc='upper right', frameon=False)\n\nsave_path = os.path.join(hf, \"Public and Private Owned Higher Education Universities International Student Demand Distribution Comparison.png\")\nplt.savefig(save_path, dpi=300, bbox_inches=\"tight\")\n\nplt.tight_layout()\nplt.show()","visibility":"remove","key":"LgH99NaNqc"},{"type":"outputs","id":"ujw5uQAKJxy69mxYvtO1f","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"bd23f9affa2828db4e7d8f4ed1a4b480","path":"/rethinking_student_housing/build/bd23f9affa2828db4e7d8f4ed1a4b480.png"},"text/plain":{"content":"<Figure size 1200x600 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"ewE73HpiBz"}],"visibility":"show","key":"KH3SQYAMkJ"}],"visibility":"show","key":"p2EzbWXbIb"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure XX. Public and Private Owned Higher Education Universities International Student Demand Distribution Comparison","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RqxdVMmNNR"}],"key":"EBfwYU4vaL"}],"key":"MzQetbVTA3"}],"key":"UZhI5jWxV0"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"University Type","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sbf56vTga1"}],"identifier":"university-type","label":"University Type","html_id":"university-type","implicit":true,"key":"r08kg9zv1H"}],"visibility":"remove","key":"fhXCRE1mTF"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"summary_uni_type = (\n    uni_c\n    .groupby('stud', dropna=False)[cols_numeric]\n    .agg(['mean', 'median', 'std', 'sum'\n          ]).round(2)\n    .sort_index()\n)\n\nsummary_uni_type","visibility":"show","key":"KT0vahaYWn"},{"type":"outputs","id":"lRPqBTXrJoKQ-xNPMkiay","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":31,"metadata":{},"data":{"application/vnd.microsoft.datawrangler.viewer.v0+json":{"content":"{\"columns\":[{\"name\":\"stud\",\"rawType\":\"object\",\"type\":\"string\"},{\"name\":\"('!s_all', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_all', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_all', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_all', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_de', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'mean')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'median')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'std')\",\"rawType\":\"float64\",\"type\":\"float\"},{\"name\":\"('!s_aus', 'sum')\",\"rawType\":\"float64\",\"type\":\"float\"}],\"ref\":\"349d288e-ebc7-4d69-ac4d-a92e92cb9dee\",\"rows\":[[\"Art Universities\\t\",\"1217.4\",\"539.0\",\"1698.64\",\"6087.0\",\"765.6\",\"178.0\",\"1152.23\",\"3828.0\",\"451.8\",\"278.0\",\"558.91\",\"2259.0\"],[\"Religious Universities\",\"753.4\",\"729.0\",\"708.41\",\"3767.0\",\"695.6\",\"708.0\",\"684.04\",\"3478.0\",\"57.8\",\"76.0\",\"39.35\",\"289.0\"],[\"Universities\",\"8679.93\",\"4313.0\",\"11794.71\",\"130199.0\",\"6832.07\",\"3791.0\",\"9005.54\",\"102481.0\",\"1847.87\",\"465.0\",\"2951.42\",\"27718.0\"],[\"Universities of Applied Sciences\",\"2097.76\",\"820.0\",\"6933.15\",\"60835.0\",\"1470.48\",\"338.0\",\"5448.32\",\"42644.0\",\"627.28\",\"188.0\",\"1563.56\",\"18191.0\"]],\"shape\":{\"columns\":12,\"rows\":4}}","content_type":"application/vnd.microsoft.datawrangler.viewer.v0+json"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead tr th {\n        text-align: left;\n    }\n\n    .dataframe thead tr:last-of-type th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr>\n      <th></th>\n      <th colspan=\"4\" halign=\"left\">!s_all</th>\n      <th colspan=\"4\" halign=\"left\">!s_de</th>\n      <th colspan=\"4\" halign=\"left\">!s_aus</th>\n    </tr>\n    <tr>\n      <th></th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n      <th>mean</th>\n      <th>median</th>\n      <th>std</th>\n      <th>sum</th>\n    </tr>\n    <tr>\n      <th>stud</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Art Universities\\t</th>\n      <td>1217.40</td>\n      <td>539.0</td>\n      <td>1698.64</td>\n      <td>6087.0</td>\n      <td>765.60</td>\n      <td>178.0</td>\n      <td>1152.23</td>\n      <td>3828.0</td>\n      <td>451.80</td>\n      <td>278.0</td>\n      <td>558.91</td>\n      <td>2259.0</td>\n    </tr>\n    <tr>\n      <th>Religious Universities</th>\n      <td>753.40</td>\n      <td>729.0</td>\n      <td>708.41</td>\n      <td>3767.0</td>\n      <td>695.60</td>\n      <td>708.0</td>\n      <td>684.04</td>\n      <td>3478.0</td>\n      <td>57.80</td>\n      <td>76.0</td>\n      <td>39.35</td>\n      <td>289.0</td>\n    </tr>\n    <tr>\n      <th>Universities</th>\n      <td>8679.93</td>\n      <td>4313.0</td>\n      <td>11794.71</td>\n      <td>130199.0</td>\n      <td>6832.07</td>\n      <td>3791.0</td>\n      <td>9005.54</td>\n      <td>102481.0</td>\n      <td>1847.87</td>\n      <td>465.0</td>\n      <td>2951.42</td>\n      <td>27718.0</td>\n    </tr>\n    <tr>\n      <th>Universities of Applied Sciences</th>\n      <td>2097.76</td>\n      <td>820.0</td>\n      <td>6933.15</td>\n      <td>60835.0</td>\n      <td>1470.48</td>\n      <td>338.0</td>\n      <td>5448.32</td>\n      <td>42644.0</td>\n      <td>627.28</td>\n      <td>188.0</td>\n      <td>1563.56</td>\n      <td>18191.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                                   !s_all                              \\\n                                     mean  median       std       sum   \nstud                                                                    \nArt Universities\\t                1217.40   539.0   1698.64    6087.0   \nReligious Universities             753.40   729.0    708.41    3767.0   \nUniversities                      8679.93  4313.0  11794.71  130199.0   \nUniversities of Applied Sciences  2097.76   820.0   6933.15   60835.0   \n\n                                    !s_de                              !s_aus  \\\n                                     mean  median      std       sum     mean   \nstud                                                                            \nArt Universities\\t                 765.60   178.0  1152.23    3828.0   451.80   \nReligious Universities             695.60   708.0   684.04    3478.0    57.80   \nUniversities                      6832.07  3791.0  9005.54  102481.0  1847.87   \nUniversities of Applied Sciences  1470.48   338.0  5448.32   42644.0   627.28   \n\n                                                           \n                                 median      std      sum  \nstud                                                       \nArt Universities\\t                278.0   558.91   2259.0  \nReligious Universities             76.0    39.35    289.0  \nUniversities                      465.0  2951.42  27718.0  \nUniversities of Applied Sciences  188.0  1563.56  18191.0  ","content_type":"text/plain"}}},"children":[],"key":"mHI5DTRlqG"}],"visibility":"show","key":"xDMlwXNoxK"}],"visibility":"remove","key":"SimrnkjVZn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Full descriptive statistics on student accommodation are available for review in the Materials and Data Chapter.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pB14H8PKjd"}],"key":"KbZ4ckQziY"}],"key":"n1gZMa4ORv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"output_path = r\"../outputs/2.3_descriptive_market_statistics/higher_education_universities.xlsx\" \n\n# Write DataFrames to separate sheets in one Excel file\nwith pd.ExcelWriter(output_path, engine='openpyxl') as writer:\n    summary.to_excel(writer, sheet_name='common_statistics')\n    summary_ownership_model.to_excel(writer, sheet_name='by_ownership_model')\n    summary_uni_type.to_excel(writer, sheet_name='by_uni_type')","key":"R581I0oViF"},{"type":"outputs","id":"zUu1a142DgiN00b8bq6Sq","children":[],"key":"jl2eLxuC4S"}],"key":"Tlwx3H9tKO"}],"key":"A4BgfpyMCf"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"2.2 Urban Data Mining","url":"/notebooks/urban-data-mining","group":"2. Capacities, Demand & Spatial Distribution"},"next":{"title":"2.4 Global Spatial Autocorrelation","url":"/notebooks/global-spatial-autocorrelation","group":"2. Capacities, Demand & Spatial Distribution"}}},"domain":"http://localhost:3000"}